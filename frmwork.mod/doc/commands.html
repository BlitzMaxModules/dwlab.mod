<html><head><title>Digital Wizard's Lab Framework reference</title>
<link rel=stylesheet Type=text/css href='../../../../doc/bmxstyle.css'>
</head><body>
<table width=100% cellspacing=0><tr align=center><td class=small>&nbsp;</td>
<td class=small width=1%><b>dwlab.frmwork:</b></td>
<td class=small width=1%><a href=#globals class=small>Globals</a></td>
<td class=small width=1%><a href=#functions class=small>Functions</a></td>
<td class=small width=1%><a href=#types class=small>Types</a></td>
<td class=small width=1%><a href=#modinfo class=small>Modinfo</a></td>
<td class=small width=1%><a href='../../../../mod/dwlab.mod/frmwork.mod/frmwork.bmx' class=small>Source</a></td>
<td class=small>&nbsp;</td></tr></table>
<h1>Digital Wizard's Lab Framework</h1>
<h2><a name=globals></a>Globals Summary</h2><table class=doc width=100%><tr><td colspan=2>
<a href=#L_CurrentCamera>L_CurrentCamera</a>
, 
<a href=#L_DebugVisualizer>L_DebugVisualizer</a>
, 
<a href=#L_DiscreteGraphics>L_DiscreteGraphics</a>
, 
<a href=#L_Flipping>L_Flipping</a>
, 
<a href=#L_FPS>L_FPS</a>
, 
<a href=#L_Inaccuracy>L_Inaccuracy</a>
, 
<a href=#L_LogicFPS>L_LogicFPS</a>
, 
<a href=#L_ProlongTiles>L_ProlongTiles</a>
</td></tr>
</table>
<h2><a name=functions></a>Functions Summary</h2><table class=doc width=100%>
<tr><td class=docleft width=1%><a href=#L_AddItemToIntArray>L_AddItemToIntArray</a></td><td class=docright>
Adds Int value to Int array.
</td></tr>
<tr><td class=docleft width=1%><a href=#L_ChopFilename>L_ChopFilename</a></td><td class=docright>
Converts full path to path relative to current directory.
</td></tr>
<tr><td class=docleft width=1%><a href=#L_ClearPixmap>L_ClearPixmap</a></td><td class=docright>
Clears pixmap with given color and alpha values.
</td></tr>
<tr><td class=docleft width=1%><a href=#L_DeleteList>L_DeleteList</a></td><td class=docright>
Deletes list.
</td></tr>
<tr><td class=docleft width=1%><a href=#L_DoubleInLimits>L_DoubleInLimits</a></td><td class=docright>
Checks if Double value is in the interval between FromValue and ToValue.
</td></tr>
<tr><td class=docleft width=1%><a href=#L_DrawEmptyRect>L_DrawEmptyRect</a></td><td class=docright>
Draws empty rectangle.
</td></tr>
<tr><td class=docleft width=1%><a href=#L_FirstZeroes>L_FirstZeroes</a></td><td class=docright>
Adds zeroes to Int value to make resulting string length equal to given.
</td></tr>
<tr><td class=docleft width=1%><a href=#L_GetTypeID>L_GetTypeID</a></td><td class=docright>
Returns TypeID for given class name.
</td></tr>
<tr><td class=docleft width=1%><a href=#L_HexToInt>L_HexToInt</a></td><td class=docright>
Transfers hex string value to Int.
</td></tr>
<tr><td class=docleft width=1%><a href=#L_InitGraphics>L_InitGraphics</a></td><td class=docright>
Sets graphics mode.
</td></tr>
<tr><td class=docleft width=1%><a href=#L_IntInLimits>L_IntInLimits</a></td><td class=docright>
Checks if Int value is in the interval between FromValue and ToValue.
</td></tr>
<tr><td class=docleft width=1%><a href=#L_IsPowerOf2>L_IsPowerOf2</a></td><td class=docright>
Checks if given value is the power of 2.
</td></tr>
<tr><td class=docleft width=1%><a href=#L_LimitDouble>L_LimitDouble</a></td><td class=docright>
Limits Double value with inerval defined by two Double values.
</td></tr>
<tr><td class=docleft width=1%><a href=#L_LimitInt>L_LimitInt</a></td><td class=docright>
Limits Int value with inerval defined by two Int values.
</td></tr>
<tr><td class=docleft width=1%><a href=#L_PerSecond>L_PerSecond</a></td><td class=docright>
Converts value second to value per logic frame.
</td></tr>
<tr><td class=docleft width=1%><a href=#L_PushActionsList>L_PushActionsList</a></td><td class=docright>
Function for finalizing current action list as single step and pushing it to Undo stack.
</td></tr>
<tr><td class=docleft width=1%><a href=#L_Redo>L_Redo</a></td><td class=docright>
Function for performing single step of Redo.
</td></tr>
<tr><td class=docleft width=1%><a href=#L_RemoveItemFromIntArray>L_RemoveItemFromIntArray</a></td><td class=docright>
Removes item with given index from Int array.
</td></tr>
<tr><td class=docleft width=1%><a href=#L_Round>L_Round</a></td><td class=docright>
Rounds double value to nearest integer.
</td></tr>
<tr><td class=docleft width=1%><a href=#L_ShowDebugInfo>L_ShowDebugInfo</a></td><td class=docright>
Draws various debugging information on screen.
</td></tr>
<tr><td class=docleft width=1%><a href=#L_Symbols>L_Symbols</a></td><td class=docright>
Returns string made from given string repeated given number of times.
</td></tr>
<tr><td class=docleft width=1%><a href=#L_ToPowerOf2>L_ToPowerOf2</a></td><td class=docright>
Returns nearest power of 2.
</td></tr>
<tr><td class=docleft width=1%><a href=#L_TrimDouble>L_TrimDouble</a></td><td class=docright>
Trims trailing zeroes of Double value and cuts all digits after given quantity (2 by default) after point.
</td></tr>
<tr><td class=docleft width=1%><a href=#L_TryExtensions>L_TryExtensions</a></td><td class=docright>
Searches for the file with given filename and one of extensions.
</td></tr>
<tr><td class=docleft width=1%><a href=#L_Undo>L_Undo</a></td><td class=docright>
Function for performing single step of Undo.
</td></tr>
<tr><td class=docleft width=1%><a href=#L_WrapDouble>L_WrapDouble</a></td><td class=docright>
Wraps Double value using given size.
</td></tr>
<tr><td class=docleft width=1%><a href=#L_WrapInt>L_WrapInt</a></td><td class=docright>
Wraps Int value using given size.
</td></tr>
<tr><td class=docleft width=1%><a href=#L_WrapInt2>L_WrapInt2</a></td><td class=docright>
Wraps Int value using given interval defined by two given Int values.
</td></tr>
</table>
<h2><a name=types></a>Types Summary</h2><table class=doc width=100%>
<tr><td class=docleft width=1%><a href=#LTAction>LTAction</a></td><td class=docright>
Action class for implementing Undo/Redo technology.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTAlign>LTAlign</a></td><td class=docright>
Class for alignment constants.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTAnimatedTileMapVisualizer>LTAnimatedTileMapVisualizer</a></td><td class=docright>
This visualizer provides simple tile animation mechanism.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTAnimationModel>LTAnimationModel</a></td><td class=docright>
This model plays animation of the sprite.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTBehaviorModel>LTBehaviorModel</a></td><td class=docright>
Behavior model is the object which can be attached to the shape and affect its state.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTBitmapFont>LTBitmapFont</a></td><td class=docright>
Bitmap font class.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTButtonAction>LTButtonAction</a></td><td class=docright>
Class for action which can be triggered by activating pushable object (presing a key, mouse button, etc).
</td></tr>
<tr><td class=docleft width=1%><a href=#LTCamera>LTCamera</a></td><td class=docright>
Camera for displaying game objects.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTColor>LTColor</a></td><td class=docright>
&nbsp;
</td></tr>
<tr><td class=docleft width=1%><a href=#LTContourVisualizer>LTContourVisualizer</a></td><td class=docright>
This visualizer draws contours of the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTDebugVisualizer>LTDebugVisualizer</a></td><td class=docright>
This visualizer can draw collision shape, vector and name of the shape with this shape itself.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTDistanceJoint>LTDistanceJoint</a></td><td class=docright>
Distance joint keeps fixed distance between parent pivot and given shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTDoubleMap>LTDoubleMap</a></td><td class=docright>
DoubleMap is basicaly a heightmap.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTDrag>LTDrag</a></td><td class=docright>
Class for implementing dragging operations.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTFixedJoint>LTFixedJoint</a></td><td class=docright>
Fixed joint moves and rotates angular sprite as parent angular sprite moves or rotates.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTFixedWaitingModel>LTFixedWaitingModel</a></td><td class=docright>
This model is for waiting given period of time.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTGraph>LTGraph</a></td><td class=docright>
Graph is a collection of pivots and line segments between them.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTImage>LTImage</a></td><td class=docright>
Image class.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTIntMap>LTIntMap</a></td><td class=docright>
IntMap is basically a 2d int array.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTIsButtonActionDown>LTIsButtonActionDown</a></td><td class=docright>
This model checks if button action is down and attaches corresponding lists of models to the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTIsModelActive>LTIsModelActive</a></td><td class=docright>
This model checks if model active and attaches corresponding lists of models to the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTKeyboardKey>LTKeyboardKey</a></td><td class=docright>
Class for keyboard keys.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTLayer>LTLayer</a></td><td class=docright>
Layer is the group of sprites which have bounds.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTLine>LTLine</a></td><td class=docright>
Line is represented by A B and C values in Ax + Bx + C = 0 equation.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTLineSegment>LTLineSegment</a></td><td class=docright>
It's line section between 2 pivots (sprites centers).
</td></tr>
<tr><td class=docleft width=1%><a href=#LTMap>LTMap</a></td><td class=docright>
Common object for maps.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTMarchingAnts>LTMarchingAnts</a></td><td class=docright>
This visualizer draws rectangular animated dashed frame around the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTModelActivator>LTModelActivator</a></td><td class=docright>
This model activates another model.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTModelDeactivator>LTModelDeactivator</a></td><td class=docright>
This model deactivates another model.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTModelStack>LTModelStack</a></td><td class=docright>
Model stack consists of several models and executes first active model in list.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTMouseButton>LTMouseButton</a></td><td class=docright>
Class for mouse buttons.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTMouseWheelAction>LTMouseWheelAction</a></td><td class=docright>
Class for mouse wheel rollings.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTObject>LTObject</a></td><td class=docright>
Global object class.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTProject>LTProject</a></td><td class=docright>
Class for main project and subprojects.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTPushable>LTPushable</a></td><td class=docright>
Common class for keys, buttons and mouse wheel rolls.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTRandomWaitingModel>LTRandomWaitingModel</a></td><td class=docright>
This model is for waiting random period of time in some interval.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTRasterFrame>LTRasterFrame</a></td><td class=docright>
Special image subclass to display raster frame.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTRevoluteJoint>LTRevoluteJoint</a></td><td class=docright>
Revolute joint moves angular sprite if parent pivot moves or rotates, but the sprite can be rotated freely.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTShape>LTShape</a></td><td class=docright>
Common object for item of game field.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTSprite>LTSprite</a></td><td class=docright>
Sprite is the main basic shape of the framework to draw, move and check collisions.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTSpriteAndLineSegmentCollisionHandler>LTSpriteAndLineSegmentCollisionHandler</a></td><td class=docright>
Sprite and line collision handling class.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTSpriteAndTileCollisionHandler>LTSpriteAndTileCollisionHandler</a></td><td class=docright>
Sprite and tile collision handling class.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTSpriteCollisionHandler>LTSpriteCollisionHandler</a></td><td class=docright>
Sprite collision handling class.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTSpriteGroup>LTSpriteGroup</a></td><td class=docright>
Group of sprites.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTSpriteMap>LTSpriteMap</a></td><td class=docright>
Sprite map is a structure which can contain sprites, draw and perform collision checks between them and other shapes.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTTileMap>LTTileMap</a></td><td class=docright>
Tilemap is displayable rectangular tile-based shape with 2d array of tile indexes and tileset with tile images.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTTileMapPathFinder>LTTileMapPathFinder</a></td><td class=docright>
Pathfinder finds a path in tilemap using flooding algorithm.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTTileMapPosition>LTTileMapPosition</a></td><td class=docright>
Class for tilemap position - the point on tilemap.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTTileSet>LTTileSet</a></td><td class=docright>
Tileset stores image and collision shapes of tiles for tilemaps. Also tile replacing/enframing rules are stored here.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTVectorSprite>LTVectorSprite</a></td><td class=docright>
Vector sprite has horizontal and vertical velocities forming velocity vector.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTVisualizer>LTVisualizer</a></td><td class=docright>
Visualizer is object which contains parameters for drawing the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTWorld>LTWorld</a></td><td class=docright>
World is the root layer which can be created in the editor and loaded from file.
</td></tr>
<tr><td class=docleft width=1%><a href=#LTXMLObject>LTXMLObject</a></td><td class=docright>
Class for intermediate objects to save/load objects from XML file.
</td></tr>
</table>
<h2
 id=globalsdet>Globals
</h2>
<table class=doc width=100% cellspacing=3 id=L_CurrentCamera>
<tr><td class=doctop colspan=2>Global L_CurrentCamera:LTCamera</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Global variable for current camera.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_DebugVisualizer>
<tr><td class=doctop colspan=2>Global L_DebugVisualizer:LTDebugVisualizer</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Global variable for debug visualizer.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_DiscreteGraphics>
<tr><td class=doctop colspan=2>Global L_DiscreteGraphics:Int</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Global flag for discrete graphics.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_Flipping>
<tr><td class=doctop colspan=2>Global L_Flipping:Int</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Flipping flag.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>If set to True then Cls will be performed before Render() and Flip will be performed after Render().</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_FPS>
<tr><td class=doctop colspan=2>Global L_FPS:Int</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Current frames per second quantity.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#Render>Render</a>.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_Inaccuracy>
<tr><td class=doctop colspan=2>Global L_Inaccuracy:Double</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Constant for dealing with inaccuracy of double type operations.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_LogicFPS>
<tr><td class=doctop colspan=2>Global L_LogicFPS:Double</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Quantity of logic frames per second.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#Logic>Logic</a>.</td></tr>
<tr><td class=docleft width=1%><a href=L_LogicFPS.bmx class=small>Example</a></td><td class=docright><pre>' First sprite is moving at constant speed regardles of LogicFPS because it use delta-timing PerSecond() method to determine
' on which distance to move in particular logic frame.Second sprite use simple coordinate addition.

SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Field Sprite1:LTSprite = LTSprite.FromShape( -10, -2, 2, 2, LTSprite.Oval )
	Field Sprite2:LTSprite = LTSprite.FromShape( -10, 2, 2, 2, LTSprite.Oval )

	Method Init()
		L_InitGraphics()
		Sprite1.Visualizer = LTVisualizer.FromRGBColor( 1, 1, 0 )
		Sprite2.Visualizer = LTVisualizer.FromRGBColor( 0, 0.5, 1 )
		L_LogicFPS = 100
	End Method
	
	Method Logic()
		Sprite1.X :+ L_PerSecond( 8 )
		If Sprite1.X > 10 Then Sprite1.X :- 20
		
		Sprite2.X :+ 0.08
		If Sprite2.X > 10 Then Sprite2.X :- 20
		
		If KeyDown( Key_NumAdd ) Then L_LogicFPS :+ L_PerSecond( 100 )
		If KeyDown( Key_NumSubtract ) And L_LogicFPS > 20 Then L_LogicFPS :- L_PerSecond( 100 )
		
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		Sprite1.Draw()
		Sprite2.Draw()
		DrawText( "Logic FPS: " + L_TrimDouble( L_LogicFPS ) + ", press num+ / num- to change", 0, 0 )
		L_PrintText( "L_LogicFPS example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type</pre></td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_ProlongTiles>
<tr><td class=doctop colspan=2>Global L_ProlongTiles:Int</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Prolonging tiles flag.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Defines the method of recognizing tiles outside tilemap for tile replacing/enframing algorythm.
<p>
See also: <a href=#Enframe>Enframe</a> example.</td></tr>
</table>
<br>
<h2
 id=functionsdet>Functions
</h2>
<table class=doc width=100% cellspacing=3 id=L_AddItemToIntArray>
<tr><td class=doctop colspan=2>Function L_AddItemToIntArray( Array:Int[] Var, Item:Int )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Adds Int value to Int array.</td></tr>
<tr><td class=docleft width=1%><a href=L_AddItemToIntArray.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict ' Skip

Framework brl.basic
Import dwlab.frmwork

Local Array:Int[] = [ 1, 2, 3, 4, 5 ]
PrintArray( "Source: ", Array )

L_RemoveItemFromIntArray( Array, 3 )
L_RemoveItemFromIntArray( Array, 2 )
L_AddItemToIntArray( Array, 8 )
L_AddItemToIntArray( Array, 9 )
PrintArray( "Result: ", Array )

Function PrintArray( Prefix:String, Array:Int[] )
	For Local Value:Int = Eachin Array
		Prefix :+ Value + ", "
	Next
	Print Prefix[ ..Len( Prefix ) - 2 ]
End Function</pre></td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_ChopFilename>
<tr><td class=doctop colspan=2>Function L_ChopFilename:String( Filename:String )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Converts full path to path relative to current directory.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_ClearPixmap>
<tr><td class=doctop colspan=2>Function L_ClearPixmap( Pixmap:TPixmap, Red:Double = 0.0, Green:Double = 0.0, Blue:Double = 0.0, Alpha:Double = 1.0 )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Clears pixmap with given color and alpha values.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_DeleteList>
<tr><td class=doctop colspan=2>Function L_DeleteList( List:TList )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Deletes list.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_DoubleInLimits>
<tr><td class=doctop colspan=2>Function L_DoubleInLimits:Double( Value:Double, FromValue:Double, ToValue:Double)</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>True if Value is in FromValue...ToValue interval.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Checks if Double value is in the interval between FromValue and ToValue.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#L_IntInLimits>L_IntInLimits</a>.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_DrawEmptyRect>
<tr><td class=doctop colspan=2>Function L_DrawEmptyRect( X:Double, Y:Double, Width:Double, Height:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Draws empty rectangle.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#DrawMARect>DrawMARect</a>.</td></tr>
<tr><td class=docleft width=1%><a href=L_DrawEmptyRect.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

L_InitGraphics()
Repeat
	If AppTerminate() Or KeyHit( Key_Escape ) Then Exit
	For Local N:Int = 1 To 10
		Local Width:Double = Rnd( 700 )
		Local Height:Double = Rnd( 500 )
		SetColor( Rnd( 128, 255 ), Rnd( 128, 255 ), Rnd( 128, 255 ) )
		L_DrawEmptyRect( Rnd( 800 - Width ), Rnd( 600 - Height ), Width, Height )
	Next
	SetColor( 0, 0, 0 )
	SetAlpha( 0.04 )
	DrawRect( 0, 0, 800, 600 )
	LTVisualizer.ResetColor() 
	L_PrintText( "L_DrawEmptyRect example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	Flip
Forever</pre></td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_FirstZeroes>
<tr><td class=doctop colspan=2>Function L_FirstZeroes:String( Value:Int, TotalDigits:Int )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>String with zeroes equal to Int value.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Adds zeroes to Int value to make resulting string length equal to given.</td></tr>
<tr><td class=docleft width=1%><a href=L_FirstZeroes.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict ' Skip

Framework brl.basic
Import dwlab.frmwork

Print( "345 with 8 digits total is " + L_FirstZeroes( 345, 8 ) )
Print( "9834 with 3 digits total is " + L_FirstZeroes( 9834, 3 ) )
Print( "1 with 10 digits total is " + L_FirstZeroes( 1, 10 ) )

Rem output
345 with 8 digits total is 00000345
9834 with 3 digits total is 9834
1 with 10 digits total is 0000000001
EndRem</pre></td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_GetTypeID>
<tr><td class=doctop colspan=2>Function L_GetTypeID:TTypeId( TypeName:String )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>TypeID for given class name.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Returns TypeID for given class name.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>If class is not found then error will occur.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_HexToInt>
<tr><td class=doctop colspan=2>Function L_HexToInt:Int( HexString:String )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Transfers hex string value to Int.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_InitGraphics>
<tr><td class=doctop colspan=2>Function L_InitGraphics( Width:Int = 800, Height:Int = 600, UnitSize:Double = 25.0, ColorDepth:Int = 0, Frequency:Int = 60 )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sets graphics mode.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Provide width and height of screen in pixels and unit size in pixels for camera.
<p>
See also: <a href=#Parallax>Parallax</a> example.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_IntInLimits>
<tr><td class=doctop colspan=2>Function L_IntInLimits:Int( Value:Int, FromValue:Int, ToValue:Int )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>True if Value is in FromValue...ToValue interval.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Checks if Int value is in the interval between FromValue and ToValue.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#L_LimitInt>L_LimitInt</a>.</td></tr>
<tr><td class=docleft width=1%><a href=L_IntInLimits.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Field Word:String
	
	Method Init()
		L_InitGraphics()
	End Method
	
	Method Logic()
		If L_IntInLimits( MouseX(), 200, 600 ) Then Word = "" Else Word = "not "
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		SetColor( 255, 0, 0 )
		DrawLine( 200, 0, 200, 599 )
		DrawLine( 600, 0, 600, 599 )
		SetColor( 255, 255, 255 )
		DrawText( MouseX() + " is " + Word + "in limits of [ 200, 600 ]", 0, 0 )
		DrawOval( MouseX() - 2, MouseY() - 2, 5, 5 )
		L_PrintText( "L_IntInLimits example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type</pre></td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_IsPowerOf2>
<tr><td class=doctop colspan=2>Function L_IsPowerOf2:Int( Value:Int )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>True is given value is power of 2 otherwise False.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Checks if given value is the power of 2.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#L_ToPowerOf2>L_ToPowerOf2</a>.</td></tr>
<tr><td class=docleft width=1%><a href=L_IsPowerOf2.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict ' Skip

Framework brl.basic
Import dwlab.frmwork

For Local N:Int = 1 To 10
	If L_IsPowerOf2( N ) Then
		Print( N + " is power of 2" )
	Else
		Print( N + " is not power of 2" )
	End If
Next

Rem output
1 is power of 2
2 is power of 2
3 is not power of 2
4 is power of 2
5 is not power of 2
6 is not power of 2
7 is not power of 2
8 is power of 2
9 is not power of 2
10 is not power of 2
EndRem</pre></td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_LimitDouble>
<tr><td class=doctop colspan=2>Function L_LimitDouble:Double( Value:Double, FromValue:Double, ToValue:Double )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Limited Double value.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Limits Double value with inerval defined by two Double values.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright><ul>
<li> If Value is less than FromValue then function returns FromValue.
<li> If Value is more than ToValue then function returns ToValue.
<li> Otherwise function returns Value.
</ul>
<p>
See also: <a href=#L_LimitInt>L_LimitInt</a>.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_LimitInt>
<tr><td class=doctop colspan=2>Function L_LimitInt:Int( Value:Int, FromValue:Int, ToValue:Int )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Limited Int value.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Limits Int value with inerval defined by two Int values.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright><ul>
<li> If Value is less than FromValue then function returns FromValue.
<li> If Value is more than ToValue then function returns ToValue.
<li> Otherwise function returns Value.
</ul>
<p>
See also: <a href=#L_LimitDouble>L_LimitDouble</a>, <a href=#L_IntInLimits>L_IntInLimits</a>.</td></tr>
<tr><td class=docleft width=1%><a href=L_LimitInt.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Method Init()
		L_InitGraphics()
	End Method
	
	Method Logic()
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		SetColor( 255, 0, 0 )
		DrawLine( 200, 0, 200, 599 )
		DrawLine( 600, 0, 600, 599 )
		SetColor( 255, 255, 255 )
		Local X:Int = L_LimitInt( MouseX(), 200, 600 )
		DrawOval( X - 2, MouseY() - 2, 5, 5 )
		DrawText( "LimitInt(MouseX(),200,600) = " + X, 0, 0 )
		L_PrintText( "L_LimitInt example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type</pre></td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_PerSecond>
<tr><td class=doctop colspan=2>Function L_PerSecond:Double( Value:Double )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Value for logic frame using given per second value.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Converts value second to value per logic frame.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>For example, can return coordinate increment for speed per second.
<p>
See also: <a href=#L_LogicFPS>L_LogicFPS</a>, <a href=#SetAsTile>SetAsTile</a> example.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_PushActionsList>
<tr><td class=doctop colspan=2>Function L_PushActionsList()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Function for finalizing current action list as single step and pushing it to Undo stack.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#LTAction>LTAction</a> example.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_Redo>
<tr><td class=doctop colspan=2>Function L_Redo()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Function for performing single step of Redo.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Executes all Redo() methods for every action in head action list of Redo stack and moves this list to Undo stack.
<p>
See also: <a href=#LTAction>LTAction</a> example.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_RemoveItemFromIntArray>
<tr><td class=doctop colspan=2>Function L_RemoveItemFromIntArray( Array:Int[] Var, Index:Int )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Removes item with given index from Int array.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_Round>
<tr><td class=doctop colspan=2>Function L_Round:Int( Value:Double )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Rounded value.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Rounds double value to nearest integer.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Faster than Int().</td></tr>
<tr><td class=docleft width=1%><a href=L_Round.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict ' Skip

Framework brl.basic
Import dwlab.frmwork

For Local N:Double = 0 To 3.1 Step 0.3
	Print "L_Round( " + L_TrimDouble( N ) + " ) = " + L_Round( N )
Next

Rem output
L_Round( 0 ) = 0
L_Round( 0.3 ) = 0
L_Round( 0.6 ) = 1
L_Round( 0.9 ) = 1
L_Round( 1.2 ) = 1
L_Round( 1.5 ) = 2
L_Round( 1.8 ) = 2
L_Round( 2.1 ) = 2
L_Round( 2.4 ) = 2
L_Round( 2.7 ) = 3
L_Round( 3 ) = 3
EndRem</pre></td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_ShowDebugInfo>
<tr><td class=doctop colspan=2>Function L_ShowDebugInfo()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Draws various debugging information on screen.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also <a href=#WedgeOffWithSprite>WedgeOffWithSprite</a> example.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_Symbols>
<tr><td class=doctop colspan=2>Function L_Symbols:String( Symbol:String, Times:Int )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>String consisting of repeated given string.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Returns string made from given string repeated given number of times.</td></tr>
<tr><td class=docleft width=1%><a href=L_Symbols.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict ' Skip

Framework brl.basic
Import dwlab.frmwork

Print( "5 ~qQ~q symbols is " + L_Symbols( "Q", 5 ) )
Print( "Y" + L_Symbols( "A", 5 ) + "Z!" )
Print( "O" + L_Symbols( "LO", 2 ) + "!" )

Rem output
5 "Z" symbols is QQQQQ
YAAAAAZ!
OLOLO!
EndRem</pre></td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_ToPowerOf2>
<tr><td class=doctop colspan=2>Function L_ToPowerOf2:Int( Value:Int )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Lowest power of 2 which is more than or equal to Value.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Returns nearest power of 2.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#L_IsPowerOf2>L_IsPowerOf2</a>.</td></tr>
<tr><td class=docleft width=1%><a href=L_ToPowerOf2.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict ' Skip

Framework brl.basic
Import dwlab.frmwork

For Local N:Int = 0 To 10
	Print N + " to power of 2 is " + L_ToPowerOf2( N )
Next

Rem output
0 to power of 2 is 1
1 to power of 2 is 1
2 to power of 2 is 2
3 to power of 2 is 4
4 to power of 2 is 4
5 to power of 2 is 8
6 to power of 2 is 8
7 to power of 2 is 8
8 to power of 2 is 8
9 to power of 2 is 16
10 to power of 2 is 16
EndRem</pre></td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_TrimDouble>
<tr><td class=doctop colspan=2>Function L_TrimDouble:String ( Val:Double, DigitsAfterDot:Int = 2 )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Trims trailing zeroes of Double value and cuts all digits after given quantity (2 by default) after point.</td></tr>
<tr><td class=docleft width=1%><a href=L_TrimDouble.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict ' Skip

Framework brl.basic
Import dwlab.frmwork

Print 16.125:Double
Print "Too much digits, eh?"
Print L_TrimDouble( 16.125:Double, 3 )
Print "Now it's OK!"

Rem output
16.125000000000000
Too much digits, eh?
16.125
Now it's OK!
EndRem</pre></td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_TryExtensions>
<tr><td class=doctop colspan=2>Function L_TryExtensions:String( Filename:String, Extensions:String[] )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Filename of found file or empty string if file is not found.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Searches for the file with given filename and one of extensions.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Filename without extension will be also checked.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_Undo>
<tr><td class=doctop colspan=2>Function L_Undo()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Function for performing single step of Undo.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Executes all Undo() methods for every action in head action list of Undo stack and moves this list to Redo stack.
<p>
See also: <a href=#LTAction>LTAction</a> example.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_WrapDouble>
<tr><td class=doctop colspan=2>Function L_WrapDouble:Double( Value:Double, Size:Double )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Wrapped Double value.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Wraps Double value using given size.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Function returns Value which will be kept in 0...Size interval excluding Size.
<p>
See also: <a href=#L_WrapInt>L_WrapInt</a>.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_WrapInt>
<tr><td class=doctop colspan=2>Function L_WrapInt:Int( Value:Int, Size:Int )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Wrapped Int value.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Wraps Int value using given size.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Function returns Value which will be kept in 0...Size - 1 interval.
<p>
See also: <a href=#L_WrapInt2>L_WrapInt2</a>, <a href=#L_WrapDouble>L_WrapDouble</a>.</td></tr>
<tr><td class=docleft width=1%><a href=L_WrapInt.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Method Init()
		L_InitGraphics()
	End Method
	
	Method Logic()
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		SetColor( 255, 0, 0 )
		L_DrawEmptyRect( -1, -1, 102, 102 )
		L_DrawEmptyRect( 299, 249, 202, 102 )
		SetColor( 0, 255, 0 )
		DrawOval( L_WrapInt( MouseX(), 100 ) - 2, L_WrapInt( MouseY(), 100 ) - 2, 5, 5 )
		DrawText( "L_WrapInt(" + MouseX() + ", 100)=" + L_WrapInt( MouseX(), 100 ), 0, 102 )
		SetColor( 0, 0, 255 )
		DrawOval( L_WrapInt2( MouseX(), 300, 500 ) - 2, L_WrapInt2( MouseY(), 250, 350 ) - 2, 5, 5 )
		DrawText( "L_WrapInt2(" + MouseX() + ", 300, 500)=" + L_WrapInt2( MouseX(), 300, 500 ), 300, 352 )
		DrawText( "", 0, 0 )
		SetColor( 255, 255, 255 )
		L_PrintText( "L_WrapInt and L_WrapInt2 example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type</pre></td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=L_WrapInt2>
<tr><td class=doctop colspan=2>Function L_WrapInt2:Int( Value:Int, FromValue:Int, ToValue:Int )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Wrapped Int value.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Wraps Int value using given interval defined by two given Int values.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Function returns Value which will be kept in FromValue...ToValue - 1 interval.
<p>
See also: <a href=#L_WrapInt>L_WrapInt</a>, <a href=#L_WrapDouble>L_WrapDouble</a>.</td></tr>
</table>
<br>
<h2
 id=typesdet>Types
</h2>
<table class=doc width=100% cellspacing=3 id=LTAction>
<tr><td class=doctop colspan=2>Type LTAction Extends LTObject</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Action class for implementing Undo/Redo technology.</td></tr>
<tr><td class=docleft width=1%><a href=LTAction.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Incbin "kolobok.png"

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Const SpritesQuantity:Int = 50
	
	Field Sprites:LTLayer = New LTLayer
	Field SpriteImage:LTImage = LTImage.FromFile( "incbin::kolobok.png" )
	Field Drag:TMoveDrag = New TMoveDrag
	
	Method Init()
		For Local N:Int = 1 To SpritesQuantity
			Local Sprite:LTSprite = LTSprite.FromShape( Rnd( -15, 15 ), Rnd( -11, 11 ), , , LTSprite.Oval )
			Sprite.SetDiameter( Rnd( 1, 3 ) )
			Sprite.Visualizer.SetRandomColor()
			Sprite.Visualizer.Angle = Rnd( 360 )
			Sprite.Visualizer.Image = SpriteImage
			Sprite.Visualizer.SetVisualizerScales( 1.3 )
			Sprites.AddLast( Sprite )
		Next
		L_InitGraphics()
	End Method
	
	Method Logic()
		Drag.Execute()
		
		L_PushActionsList()
		If KeyDown( Key_LControl ) Or KeyDown( Key_RControl ) Then
			If KeyHit( Key_Z ) Then L_Undo()
			If KeyHit( Key_Y ) Then L_Redo()
		End If
		
		If KeyHit( Key_F2 ) Then Sprites.SaveToFile( "sprites2.lw" )
		If KeyHit( Key_F3 ) Then Sprites = LTLayer( LTObject.LoadFromFile( "sprites2.lw" ) )
		
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		Sprites.Draw()
		DrawText( "Drag sprites with left mouse button, press CTRL-Z to undo, CTRL-Y to redo, F2 to save, F3 to load", 0, 0 )
		L_PrintText( "LTAction, L_Undo, L_Redo, L_PushActionsList, LTDrag example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type



Type TMoveDrag Extends LTDrag
	Field Shape:LTShape
	Field Action:TMoveAction
	Field DX:Double, DY:Double

	Method DragKey:Int()
		Return MouseDown( 1 )
	End Method

	Method StartDragging()
		Shape = L_Cursor.FirstCollidedSpriteOfLayer( Example.Sprites )
		If Shape Then
			Action = TMoveAction.Create( Shape )
			DX = Shape.X - L_Cursor.X
			DY = Shape.Y - L_Cursor.Y
		Else
			DraggingState = False
		End If
	End Method

	Method Dragging()
		Shape.SetCoords( L_Cursor.X + DX, L_Cursor.Y + DY )
	End Method

	Method EndDragging()
		Action.NewX = Shape.X
		Action.NewY = Shape.Y
		Action.Do()
	End Method
End Type



Type TMoveAction Extends LTAction
	Field Shape:LTShape
	Field OldX:Double, OldY:Double
	Field NewX:Double, NewY:Double
	
	Function Create:TMoveAction( Shape:LTShape )
		Local Action:TMoveAction = New TMoveAction
		Action.Shape = Shape
		Action.OldX = Shape.X
		Action.OldY = Shape.Y
		Return Action
	End Function
	
	Method Do()
		Shape.SetCoords( NewX, NewY )
		Super.Do()
	End Method
	
	Method Undo()
		Shape.SetCoords( OldX, OldY )
		Super.Undo()
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTAction_methods></a>Methods Summary</th></tr>
<tr><td class=docleft width=1%><a href=#Do>Do</a></td><td class=docright>
Action performing method.
</td></tr>
<tr><td class=docleft width=1%><a href=#Undo>Undo</a></td><td class=docright>
Action undoing method.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Do>
<tr><td class=doctop colspan=2>Method Do()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Action performing method.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Execute it when you want to perform an action of this type.
Fill this method with action initialization commands (which also need to store information for Undo operation).
Also it can be executed automatically when you will execute L_Redo function.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Undo>
<tr><td class=doctop colspan=2>Method Undo()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Action undoing method.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Fill it with commands which will perform rolling back changes done by Do() method.
Can be executed automatically when you will execute L_Undo function.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTAlign>
<tr><td class=doctop colspan=2>Type LTAlign</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Class for alignment constants.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#Print>Print</a>, <a href=#PrintInShape>PrintInShape</a>.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTAnimatedTileMapVisualizer>
<tr><td class=doctop colspan=2>Type LTAnimatedTileMapVisualizer Extends LTVisualizer</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>This visualizer provides simple tile animation mechanism.</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTAnimatedTileMapVisualizer_fields></a>Fields Summary</th></tr><tr><td colspan=2>
<a href=#TileNum>TileNum</a>
</table>
<table class=doc width=100% cellspacing=3 id=TileNum>
<tr><td class=doctop colspan=2>Field TileNum:Int[]</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Array of destination tile indexes which will override real file indexes of tilemap.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTAnimationModel>
<tr><td class=doctop colspan=2>Type LTAnimationModel Extends LTChainedModel</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>This model plays animation of the sprite.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>You can specify parameters from LTSprite's Animate() method and add models which will be executed after animation will end to the
NextModels parameter. Though if animation is looped it will be played forever.
<p>
See also: <a href=#LTModelStack>LTModelStack</a>, <a href=#LTBehaviorModel>LTBehaviorModel</a> example.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTBehaviorModel>
<tr><td class=doctop colspan=2>Type LTBehaviorModel Extends LTObject</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Behavior model is the object which can be attached to the shape and affect its state.</td></tr>
<tr><td class=docleft width=1%><a href=LTBehaviorModel.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Incbin "jellys.lw"
Incbin "tileset.png"
Incbin "superjelly.png"
Incbin "awpossum.png"
Incbin "scheme1.png"
Incbin "scheme2.png"

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Const Bricks:Int = 1
	Const DeathPeriod:Double = 1.0
	
	Field World:LTWorld
	Field Layer:LTLayer
	Field TileMap:LTTileMap
	Field SelectedSprite:LTSprite
	Field MarchingAnts:LTMarchingAnts = New LTMarchingAnts
	
	Field BumpingWalls:TBumpingWalls = New TBumpingWalls
	Field PushFromWalls:TPushFromWalls = New TPushFromWalls
	Field DestroyBullet:TDestroyBullet = New TDestroyBullet
	Field AwPossumHurtingCollision:TAwPossumHurtingCollision = New TAwPossumHurtingCollision
	Field AwPossumHitCollision:TAwPossumHitCollision = New TAwPossumHitCollision
	
	'Field HitArea:LTSprite
	Field Score:Int
	
	Method Init()
		L_SetIncbin( True )
	 	World = LTWorld.FromFile( "jellys.lw" )
	 	L_SetIncbin( False )
		
		L_InitGraphics()
		
		Repeat
			DrawImage( LoadImage( "incbin::scheme2.png" ), 0, 0 )
			Flip
		Until KeyHit( Key_Escape )
		
		Repeat
			DrawImage( LoadImage( "incbin::scheme1.png" ), 0, 0 )
			Flip
		Until KeyHit( Key_Escape )
		
		InitLevel()
	End Method
	
	Method InitLevel()
		LoadAndInitLayer( Layer, LTLayer( World.FindShape( "Level" ) ) )
		TileMap = LTTileMap( Layer.FindShape( "Field" ) )
	End Method
	
	Method Logic()
		L_CurrentCamera.JumpTo( TileMap )
		If MouseHit( 1 ) Then SelectedSprite = L_Cursor.FirstCollidedSpriteOfLayer( Layer )
		Layer.Act()
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		Layer.Draw()
		If SelectedSprite Then
			SelectedSprite.ShowModels( 100 )
			SelectedSprite.DrawUsingVisualizer( MarchingAnts )
		End If
		'If HitArea Then HitArea.Draw()
		ShowDebugInfo()
		L_PrintText( "Guide AwesomePossum to exit from maze using arrow and space keys", TileMap.RightX(), TileMap.TopY() - 12, LTAlign.ToRight, LTAlign.ToTop )
		L_PrintText( "You can view sprite behavior models by clicking left mouse button on it", TileMap.RightX(), TileMap.TopY() - 0.5, LTAlign.ToRight, LTAlign.ToTop )
		L_PrintText( "Score: " + L_FirstZeroes( Score, 6 ), TileMap.RightX() - 0.1, TileMap.BottomY() - 0.1, LTAlign.ToRight, LTAlign.ToBottom, True )
		L_PrintText( "LTBehaviorModel example", TileMap.X, TileMap.BottomY(), LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type



Type TGameObject Extends LTVectorSprite
	Field OnLand:TOnLand = New TOnLand
	Field Gravity:TGravity = New TGravity
	Field JumpingAnimation:LTAnimationModel
	Field FallingAnimation:LTAnimationModel
	
	Field Health:Double = 100.0
End Type



Type TJelly Extends TGameObject
	Const JumpingAnimationSpeed:Double = 0.2
	Const FiringAnimationSpeed:Double = 0.1
	Const WalkingAnimationSpeed:Double = 0.2
	Const IdleAnimationSpeed:Double = 0.4
	Const MinAttack:Double = 10.0
	Const MaxAttack:Double = 20.0
	Const HurtingTime:Double = 0.2
	
	Const JumpingPause:Double = JumpingAnimationSpeed * 2.0
	Const BulletPause:Double = FiringAnimationSpeed * 5.0
	
	Field Score:Int = 100

	Method Init()
		AttachModel( Gravity )

		Local AnimationStack:LTModelStack = New LTModelStack
		AttachModel( AnimationStack )
		
		JumpingAnimation = LTAnimationModel.Create( False, JumpingAnimationSpeed, 8, 8 )
		FallingAnimation = LTAnimationModel.Create( True, JumpingAnimationSpeed, 3, 13, True )
		Local FiringAnimation:LTAnimationModel = LTAnimationModel.Create( False, FiringAnimationSpeed, 8, 16 )
		
		
		Local HorizontalMovement:THorizontalMovement = THorizontalMovement.Create( Example.BumpingWalls )
		
				
		Local Jumping:String = GetParameter( "jumping" )
		If Jumping Then
			Local Parameters:String[] = Jumping.Split( "-" )
			Local WaitingForJump:LTRandomWaitingModel = LTRandomWaitingModel.Create( Parameters[ 0 ].ToDouble(), Parameters[ 1 ].ToDouble() )
			AttachModel( WaitingForJump )
			
			Local OnLandCondition:LTIsModelActive = LTIsModelActive.Create( OnLand )
			WaitingForJump.NextModels.AddLast( OnLandCondition )
			
			Local AnimationActive:LTIsModelActive = LTIsModelActive.Create( FiringAnimation )
			OnLandCondition.TrueModels.AddLast( AnimationActive )
			OnLandCondition.FalseModels.AddLast( WaitingForJump )
			
			AnimationActive.TrueModels.AddLast( WaitingForJump )
			AnimationActive.FalseModels.AddLast( LTModelActivator.Create( JumpingAnimation ) )
			AnimationActive.FalseModels.AddLast( LTModelDeactivator.Create( HorizontalMovement ) )
			AnimationActive.FalseModels.AddLast( LTModelDeactivator.Create( Gravity ) )
			
			JumpingAnimation.NextModels.AddLast( LTModelActivator.Create( FallingAnimation ) )
			
			Parameters = GetParameter( "jumping_strength" ).Split( "-" )
			Local PauseBeforeJump:LTFixedWaitingModel = LTFixedWaitingModel.Create( JumpingPause )
			PauseBeforeJump.NextModels.AddLast( TJump.Create( Parameters[ 0 ].ToDouble(), Parameters[ 1 ].ToDouble() ) )
			PauseBeforeJump.NextModels.AddLast( LTModelActivator.Create( HorizontalMovement ) )
			PauseBeforeJump.NextModels.AddLast( LTModelActivator.Create( Gravity ) )
			PauseBeforeJump.NextModels.AddLast( WaitingForJump )
			AnimationActive.FalseModels.AddLast( PauseBeforeJump )
			
			AnimationStack.Add( JumpingAnimation, False )
			Score :+ 200
		End If
		
		
		AnimationStack.Add( FallingAnimation )
		
		
		Local Firing:String = GetParameter( "firing" )
		If Firing Then
			Local Parameters:String[] = Firing.Split( "-" )
			Local WaitingForFire:LTRandomWaitingModel = LTRandomWaitingModel.Create( Parameters[ 0 ].ToDouble(), Parameters[ 1 ].ToDouble() )
			AttachModel( WaitingForFire )
			
			Local OnLandCondition:LTIsModelActive = LTIsModelActive.Create( OnLand )
			WaitingForFire.NextModels.AddLast( OnLandCondition )
			
			Local AnimationActive:LTIsModelActive = LTIsModelActive.Create( JumpingAnimation )
			OnLandCondition.TrueModels.AddLast( AnimationActive )
			OnLandCondition.FalseModels.AddLast( WaitingForFire )
			
			AnimationActive.TrueModels.AddLast( WaitingForFire )
			AnimationActive.FalseModels.AddLast( LTModelActivator.Create( FiringAnimation ) )
			AnimationActive.FalseModels.AddLast( LTModelDeactivator.Create( HorizontalMovement ) )

			FiringAnimation.NextModels.AddLast( LTModelActivator.Create( HorizontalMovement ) )
			
			Parameters = GetParameter( "firing_speed" ).Split( "-" )
			Local PauseBeforeBullet:LTFixedWaitingModel = LTFixedWaitingModel.Create( BulletPause )
			PauseBeforeBullet.NextModels.AddLast( TCreateBullet.Create( Parameters[ 0 ].ToDouble(), Parameters[ 1 ].ToDouble() ) )
			PauseBeforeBullet.NextModels.AddLast( WaitingForFire )
			AnimationActive.FalseModels.AddLast( PauseBeforeBullet )
			
			AnimationStack.Add( FiringAnimation, False )
			Score :+ 300
		End If
		
		Local MovementAnimation:LTAnimationModel = LTAnimationModel.Create( True, WalkingAnimationSpeed, 3, 3, True )
		Local Moving:String = GetParameter( "moving" )
		If Moving Then
			Local Parameters:String[] = GetParameter( "moving" ).Split( "-" )
			DX :* Rnd( Parameters[ 0 ].ToDouble(), Parameters[ 1 ].ToDouble() )
			AttachModel( HorizontalMovement )
			AnimationStack.Add( MovementAnimation )
			Score :+ 100
		End If
		
		
		AttachModel( LTModelDeactivator.Create( OnLand, True ) )
		AttachModel( TVerticalMovement.Create( False ) )
		
		
		Local StandingAnimation:LTAnimationModel = LTAnimationModel.Create( True, IdleAnimationSpeed, 3, 0, True )
		AnimationStack.Add( StandingAnimation )
		
		Local ScoreParameter:String = GetParameter( "score" )
		If ScoreParameter Then Score = ScoreParameter.ToInt()
		
		Local HealthParameter:String = GetParameter( "health" )
		If HealthParameter Then Health = HealthParameter.ToDouble()
	End Method
End Type



Type TAwPossum Extends TGameObject
	Const JumpingAnimationSpeed:Double = 0.2
	Const WalkingAnimationSpeed:Double = 0.2
	Const IdleAnimationSpeed:Double = 0.4
	
	Const JumpingPause:Double = JumpingAnimationSpeed
	Const JumpingStrength:Double = 6.0
	Const WalkingSpeed:Double = 5.0
	
	Const MinAttack:Double = 20.0
	Const MaxAttack:Double = 35.0
	Const MinHealthGain:Double = 3.0
	Const MaxHealthGain:Double = 6.0
	
	Const KnockOutPeriod:Double = 0.3
	Const ImmortalPeriod:Double = 1.5
	Const HitPeriod:Double = 0.2
	Const KnockOutStrength:Double = 2.0
	Const HitPauseTime:Double = 0.5
	
	Field MovementAnimation:LTAnimationModel = LTAnimationModel.Create( True, WalkingAnimationSpeed, 4, 4 )
	Field HurtingAnimation:LTAnimationModel = LTAnimationModel.Create( False, KnockOutPeriod, 1, 14 )
	Field PunchingAnimation:LTAnimationModel = LTAnimationModel.Create( False, HitPeriod, 1, 15 )
	Field KickingAnimation:LTAnimationModel = LTAnimationModel.Create( False, HitPeriod, 1, 11 )
	
	Field MovementControl:TMovementControl = New TMovementControl
	Field HitPause:LTFixedWaitingModel = LTFixedWaitingModel.Create( HitPauseTime )
	
	Field MoveLeftKey:LTButtonAction = LTButtonAction.Create( LTKeyboardKey.Create( Key_Left ), "Move left" )
	Field MoveRightKey:LTButtonAction = LTButtonAction.Create( LTKeyboardKey.Create( Key_Right ), "Move right" )
	Field JumpKey:LTButtonAction = LTButtonAction.Create( LTKeyboardKey.Create( Key_Up ), "Jump" )
	Field HitKey:LTButtonAction = LTButtonAction.Create( LTKeyboardKey.Create( Key_Space ), "Hit" )
	
	Method Init()
		AttachModel( Gravity )

		
		Local AnimationStack:LTModelStack = New LTModelStack
		AttachModel( AnimationStack )
		
		AnimationStack.Add( HurtingAnimation, False )
		AnimationStack.Add( PunchingAnimation, False )
		AnimationStack.Add( KickingAnimation, False )
		
		JumpingAnimation = LTAnimationModel.Create( False, JumpingAnimationSpeed, 3, 8 )
		AnimationStack.Add( JumpingAnimation )
		
		FallingAnimation = LTAnimationModel.Create( True, JumpingAnimationSpeed, 1, 10 )
		JumpingAnimation.NextModels.AddLast( LTModelActivator.Create( FallingAnimation ) )
		AnimationStack.Add( FallingAnimation )

		AnimationStack.Add( MovementAnimation )

		
		AttachModel( MovementControl )
		
		
		Local JumpKeyDown:LTIsButtonActionDown = LTIsButtonActionDown.Create( JumpKey )
		AttachModel( JumpKeyDown )
		JumpKeyDown.FalseModels.AddLast( JumpKeyDown )
		
		Local OnLandCondition:LTIsModelActive = LTIsModelActive.Create( OnLand )
		JumpKeyDown.TrueModels.AddLast( OnLandCondition )
		
		OnLandCondition.TrueModels.AddLast( LTModelActivator.Create( JumpingAnimation ) )
		OnLandCondition.TrueModels.AddLast( LTModelDeactivator.Create( Gravity ) )
		OnLandCondition.FalseModels.AddLast( JumpKeyDown )
		
		Local PauseBeforeJump:LTFixedWaitingModel = LTFixedWaitingModel.Create( JumpingPause )
		PauseBeforeJump.NextModels.AddLast( TJump.Create( JumpingStrength, JumpingStrength ) )
		PauseBeforeJump.NextModels.AddLast( LTModelActivator.Create( Gravity ) )
		PauseBeforeJump.NextModels.AddLast( JumpKeyDown )
		OnLandCondition.TrueModels.AddLast( PauseBeforeJump )
		
		AnimationStack.Add( JumpingAnimation, False )

		
		Local HitKeyDown:LTIsButtonActionDown = LTIsButtonActionDown.Create( HitKey )
		AttachModel( HitKeyDown )
		HitKeyDown.FalseModels.AddLast( HitKeyDown )
		
		Local HitPauseCondition:LTIsModelActive = LTIsModelActive.Create( HitPause )
		HitPauseCondition.FalseModels.AddLast( HitPause )
		HitPauseCondition.TrueModels.AddLast( HitKeyDown )
		HitKeyDown.TrueModels.AddLast( HitPauseCondition )
				
		Local OnLandCondition2:LTIsModelActive = LTIsModelActive.Create( OnLand )
		OnLandCondition2.TrueModels.AddLast( LTModelActivator.Create( PunchingAnimation ) )
		OnLandCondition2.TrueModels.AddLast( THittingArea.Create2( True ) )
		OnLandCondition2.TrueModels.AddLast( HitKeyDown )
		OnLandCondition2.FalseModels.AddLast( LTModelActivator.Create( KickingAnimation ) )
		OnLandCondition2.FalseModels.AddLast( THittingArea.Create2( False ) )
		OnLandCondition2.FalseModels.AddLast( HitKeyDown )
		HitPauseCondition.FalseModels.AddLast( OnLandCondition2 )
		
		
		AttachModel( THorizontalMovement.Create( Example.PushFromWalls ) )
		
		
		AttachModel( LTModelDeactivator.Create( OnLand, True ) )
		AttachModel( TVerticalMovement.Create( True ) )
		
		
		Local StandingAnimation:LTAnimationModel = LTAnimationModel.Create( True, IdleAnimationSpeed, 4, 0, True )
		AnimationStack.Add( StandingAnimation )
	End Method
	
	Method Act()
		Super.Act()
		CollisionsWithLayer( Example.Layer, Example.AwPossumHurtingCollision )
		If X > Example.TileMap.RightX() Then Example.SwitchTo( New TRestart )
	End Method
	
	Method Draw()
		Super.Draw()
		L_DrawEmptyRect( 5, 580, 104, 15 )
		If Health >= 50.0 Then
			SetColor( ( 100.0 - Health ) * 255.0 / 50.0 , 255, 0 )
		Else
			SetColor( 255, Health * 255.0 / 50.0, 0 )
		End If
		DrawRect( 7, 582, Health, 11 )
		LTVisualizer.ResetColor()
	End Method
End Type



Type TOnLand Extends LTBehaviorModel
End Type



Type TGravity Extends LTBehaviorModel
	Const Gravity:Double = 8.0
	
	Method ApplyTo( Shape:LTShape )
		LTVectorSprite( Shape ).DY :+ L_PerSecond( Gravity )
	End Method
End Type



Type THorizontalMovement Extends LTBehaviorModel
	Field CollisionHandler:LTSpriteAndTileCollisionHandler

	Function Create:THorizontalMovement( CollisionHandler:LTSpriteAndTileCollisionHandler )
		Local HorizontalMovement:THorizontalMovement = New THorizontalMovement
		HorizontalMovement.CollisionHandler = CollisionHandler
		Return HorizontalMovement
	End Function
	
	Method ApplyTo( Shape:LTShape )
		Local Sprite:LTVectorSprite = LTVectorSprite( Shape )
		Sprite.Move( Sprite.DX, 0 )
		Sprite.CollisionsWithTileMap( Example.TileMap, CollisionHandler )
	End Method
	
	Method Info:String( Shape:LTShape )
		Return L_TrimDouble( LTVectorSprite( Shape ).DX )
	End Method
End Type



Type TBumpingWalls Extends LTSpriteAndTileCollisionHandler
	Method HandleCollision( Sprite:LTSprite, TileMap:LTTileMap, TileX:Int, TileY:Int, CollisionSprite:LTSprite )
		Sprite.PushFromTile( TileMap, TileX, TileY )
		LTVectorSprite( Sprite ).DX :* -1
		Sprite.Visualizer.XScale :* -1
	End Method
End Type



Type TPushFromWalls Extends LTSpriteAndTileCollisionHandler
	Method HandleCollision( Sprite:LTSprite, TileMap:LTTileMap, TileX:Int, TileY:Int, CollisionSprite:LTSprite )
		If TileMap.GetTile( TileX, TileY ) = Example.Bricks Then Sprite.PushFromTile( TileMap, TileX, TileY )
	End Method
End Type



Type TVerticalMovement Extends LTBehaviorModel
	Field Handler:TVerticalCollisionHandler = New TVerticalCollisionHandler

	Function Create:TVerticalMovement( ForPlayer:Int )
		Local VerticalMovement:TVerticalMovement = New TVerticalMovement
		VerticalMovement.Handler.ForPlayer = ForPlayer
		Return VerticalMovement
	End Function
	
	Method ApplyTo( Shape:LTShape )
		Local Sprite:LTVectorSprite = LTVectorSprite( Shape )
		Sprite.Move( 0, Sprite.DY )
		Sprite.CollisionsWithTileMap( Example.TileMap, Handler )
	End Method
	
	Method Info:String( Shape:LTShape )
		Return L_TrimDouble( LTVectorSprite( Shape ).DY )
	End Method
End Type



Type TVerticalCollisionHandler Extends LTSpriteAndTileCollisionHandler
	Field ForPlayer:Int
	
	Method HandleCollision( Sprite:LTSprite, TileMap:LTTileMap, TileX:Int, TileY:Int, CollisionSprite:LTSprite )
		If ForPlayer Then If TileMap.GetTile( TileX, TileY ) <> Example.Bricks Then Return
		Local GameObject:TGameObject = TGameObject( Sprite )
		GameObject.PushFromTile( TileMap, TileX, TileY )
		If GameObject.DY > 0 Then
			GameObject.OnLand.ActivateModel( Sprite )
			GameObject.FallingAnimation.DeactivateModel( Sprite )
			GameObject.JumpingAnimation.DeactivateModel( Sprite )
		End If
		GameObject.DY = 0
	End Method
End Type



Type TJump Extends LTBehaviorModel
	Field FromStrength:Double, ToStrength:Double
	
	Function Create:TJump( FromStrength:Double, ToStrength:Double )
		Local Jump:TJump = New TJump
		Jump.FromStrength = FromStrength
		Jump.ToStrength = ToStrength
		Return Jump
	End Function
	
	Method ApplyTo( Shape:LTShape )
		LTVectorSprite( Shape ).DY = -Rnd( FromStrength, ToStrength )
		Remove( Shape )
	End Method
End Type



Type TCreateBullet Extends LTBehaviorModel
	Field FromSpeed:Double, ToSpeed:Double
	
	Function Create:TCreateBullet( FromSpeed:Double, ToSpeed:Double )
		Local CreateBullet:TCreateBullet = New TCreateBullet
		CreateBullet.FromSpeed = FromSpeed
		CreateBullet.ToSpeed = ToSpeed
		Return CreateBullet
	End Function
	
	Method ApplyTo( Shape:LTShape )
		TBullet.Create( LTVectorSprite( Shape ), Rnd( FromSpeed, ToSpeed ) )
		Remove( Shape )
	End Method
End Type



Type TBullet Extends LTVectorSprite
	Const MinAttack:Double = 5.0
	Const MaxAttack:Double = 10.0
	
	Field Collisions:Int = True
	
	Function Create( Jelly:LTVectorSprite, Speed:Double )
		Local Bullet:TBullet = New TBullet
		Bullet.SetCoords( Jelly.X + Sgn( Jelly.DX ) * Jelly.Width * 2.2, Jelly.Y - 0.15 * Jelly.Height )
		Bullet.SetSize( 0.45 * Jelly.Width, 0.45 * Jelly.Width )
		Bullet.ShapeType = LTSprite.Oval
		Bullet.DX = Sgn( Jelly.DX ) * Speed
		Bullet.Visualizer.SetVisualizerScale( 12, 4 )
		Bullet.Visualizer.Image = Jelly.Visualizer.Image
		Bullet.Frame = 6
		Example.Layer.AddLast( Bullet )
	End Function
	
	Method Act()
		MoveForward()
		If Collisions Then CollisionsWithTileMap( Example.TileMap, Example.DestroyBullet )
		Super.Act()
	End Method
	
	Function Disable( Sprite:LTSprite )
		Local Bullet:TBullet = TBullet( Sprite )
		if Bullet.Collisions Then 
			Bullet.AttachModel( New TDeath )
			Bullet.AttachModel( New TGravity )
			Bullet.ReverseDirection()
			Bullet.Collisions = False
			Bullet.DX :* 0.25
		End If
	End Function
End Type



Type TDestroyBullet Extends LTSpriteAndTileCollisionHandler
	Method HandleCollision( Sprite:LTSprite, TileMap:LTTileMap, TileX:Int, TileY:Int, CollisionSprite:LTSprite )
		If TileMap.GetTile( TileX, TileY ) = Example.Bricks Then TBullet.Disable( Sprite )
	End Method
End Type



Type TMovementControl Extends LTBehaviorModel
	Method ApplyTo( Shape:LTShape )
		Local AwPossum:TAwPossum = TAwPossum( Shape )
		If AwPossum.Gravity.Active Then
			If AwPossum.MoveLeftKey.IsDown() Then
				AwPossum.SetFacing( LTSprite.LeftFacing )
				AwPossum.DX = -AwPossum.WalkingSpeed
			ElseIf AwPossum.MoveRightKey.IsDown() Then
				AwPossum.SetFacing( LTSprite.RightFacing )
				AwPossum.DX = AwPossum.WalkingSpeed
			Else
				AwPossum.DX = 0
			End If
		Else
			AwPossum.DX = 0
		End If
		
		If AwPossum.DX And AwPossum.OnLand.Active Then
			AwPossum.MovementAnimation.ActivateModel( Shape )
		Else
			AwPossum.MovementAnimation.DeactivateModel( Shape )
		End If
	End Method
End Type




Type TAwPossumHurtingCollision Extends LTSpriteCollisionHandler
	Method HandleCollision( Sprite1:LTSprite, Sprite2:LTSprite )
		If Sprite1.FindModel( "TImmortality" ) Then Return
		If Sprite2.FindModel( "TDeath" ) Then Return
		
		Local Damage:Double = 0
		If TJelly( Sprite2 ) Then Damage = Rnd( TJelly.MinAttack, TJelly.MaxAttack )
		Local Bullet:TBullet = TBullet( Sprite2 )
		If Bullet Then
			If Bullet.Collisions Then
				Damage = Rnd( TBullet.MinAttack, TBullet.MaxAttack ) * Sprite2.GetDiameter() / 0.45
				Example.Layer.Remove( Sprite2 )
			End If
		End If
		If Damage Then
			Local AwPossum:TAwPossum = TAwPossum( Sprite1 )
			AwPossum.Health :- Damage
			If AwPossum.Health > 0.0 Then
				Sprite1.AttachModel( New TImmortality )
				Sprite1.AttachModel( New TKnockOut )
			ElseIf Not Sprite1.FindModel( "TDeath" ) Then
				Sprite1.BehaviorModels.Clear()
				Sprite1.AttachModel( New TDeath )
			End If
		End If
	End Method
End Type



Type TImmortality Extends LTFixedWaitingModel
	Const BlinkingSpeed:Double = 0.05
	
	Method Init( Shape:LTShape )
		Period = TAwPossum.ImmortalPeriod
	End Method
	
	Method ApplyTo( Shape:LTShape )
		Shape.Visible = Floor( L_CurrentProject.Time / BlinkingSpeed ) Mod 2
		Super.ApplyTo( Shape )
	End Method
	
	Method Deactivate( Shape:LTShape )
		Shape.Visible = True
	End Method
End Type



Type TKnockOut Extends LTFixedWaitingModel
	Method Init( Shape:LTShape )
		Local AwPossum:TAwPossum = TAwPossum( Shape )
		Period = AwPossum.KnockOutPeriod
		AwPossum.DX = -AwPossum.GetFacing() * AwPossum.KnockOutStrength
		AwPossum.MovementControl.DeactivateModel( Shape )
		AwPossum.HurtingAnimation.ActivateModel( Shape )
	End Method
	
	Method ApplyTo( Shape:LTShape )
		LTVectorSprite( Shape ).DX :* 0.9
		Super.ApplyTo( Shape )
	End Method
	
	Method Deactivate( Shape:LTShape )
		Local AwPossum:TAwPossum = TAwPossum( Shape )
		AwPossum.HurtingAnimation.DeactivateModel( Shape )
		AwPossum.MovementControl.ActivateModel( Shape )
	End Method
End Type



Type THittingArea Extends LTFixedWaitingModel
	Field Area:LTSprite
	Field Punch:Int
	
	Function Create2:THittingArea( Punch:Int )
		Local Area:THittingArea = New THittingArea
		Area.Punch = Punch
		Return Area
	End Function
	
	Method Init( Shape:LTShape )
		Area = New LTSprite
		Area.ShapeType = LTSprite.Oval
		Area.SetDiameter( 0.3 )
		Period = TAwPossum.HitPeriod
		Example.AwPossumHitCollision.Collided = False
	End Method
	
	Method ApplyTo( Shape:LTShape )
		If Punch then
			Area.SetCoords( Shape.X + Shape.GetFacing() * 0.95, Shape.Y + 0.15 )
		Else
			Area.SetCoords( Shape.X + Shape.GetFacing() * 0.95, Shape.Y - 0.1 )
		End If
		'Example.HitArea = Area
		Area.CollisionsWithLayer( Example.Layer, Example.AwPossumHitCollision )
		If Example.AwPossumHitCollision.Collided Then Remove( Shape )
		Super.ApplyTo( Shape )
	End Method
	
	'Method Deactivate( Shape:LTShape )
	'	Example.HitArea = Null
	'End Method
End Type



Type TAwPossumHitCollision Extends LTSpriteCollisionHandler
	Field Collided:Int 
	
	Method HandleCollision( Sprite1:LTSprite, Sprite2:LTSprite )
		Local Jelly:TJelly = TJelly( Sprite2 )
		If Jelly Then
			Jelly.Health :- Rnd( TAwPossum.MinAttack, TAwPossum.MaxAttack )
			If Jelly.Health > 0 Then
				Jelly.AttachModel( New TJellyHurt )
			ElseIf Not Jelly.FindModel( "TDeath" ) Then
				TScore.Create( Jelly, Jelly.Score )
				
				Local AwPossum:TAwPossum = TAwPossum( Example.Layer.FindShapeWithType( "TAwPossum" ) )
				AwPossum.Health = Min( AwPossum.Health + Rnd( TAwPossum.MinHealthGain, TAwPossum.MaxHealthGain ), 100.0 )
				
				Jelly.BehaviorModels.Clear()
				Jelly.AttachModel( New TDeath )
			End If
			Collided = True
		ElseIf TBullet( Sprite2 )
			If Not Sprite2.FindModel( "TDeath" ) Then
				TBullet.Disable( Sprite2 )
				TScore.Create( Sprite2, 50 )
			End If
		End If
	End Method
End Type



Type TJellyHurt Extends LTFixedWaitingModel
	Method Init( Shape:LTShape )
		Period = TJelly.HurtingTime
		Shape.DeactivateModel( "THorizontalMovement" )
	End Method

	Method ApplyTo( Shape:LTShape )
		Super.ApplyTo( Shape )
		Local Intensity:Double = ( L_CurrentProject.Time - StartingTime ) / Period
		If Intensity <= 1.0 Then Shape.Visualizer.SetColorFromRGB( 1.0, Intensity, Intensity )
	End Method
	
	Method Deactivate( Shape:LTShape )
		Shape.ActivateModel( "THorizontalMovement" )
		Shape.Visualizer.SetColorFromHex( "FFFFFF" )
	End Method
End Type



Type TDeath Extends LTFixedWaitingModel
	Method Init( Shape:LTShape )
		Period = Example.DeathPeriod
	End Method

	Method ApplyTo( Shape:LTShape )
		Super.ApplyTo( Shape )
		Local Alpha:Double = 1.0 - ( L_CurrentProject.Time - StartingTime ) / Period
		If Alpha >= 0.0 Then Shape.Visualizer.Alpha = Alpha
	End Method
	
	Method Deactivate( Shape:LTShape )
		Example.Layer.Remove( Shape )
	End Method
End Type



Type TScore Extends LTSprite
	Const Speed:Double = 2.0
	Const Period:Double = 3.0
	
	Field Amount:Int
	Field StartingTime:Double
	
	Function Create( Sprite:LTSprite, Amount:Int )
		Local Score:TScore = New TScore
		Score.SetCoords( Sprite.X, Sprite.TopY() )
		Score.Amount = Amount
		Score.SetDiameter( 0 )
		Score.StartingTime = L_CurrentProject.Time
		Example.Score :+ Amount
		Example.Layer.AddLast( Score )
	End Function
	
	Method Act()
		Move( 0, -Speed )
		If L_CurrentProject.Time > StartingTime + Period Then Example.Layer.Remove( Self )
	End Method
	
	Method Draw()
		PrintText( "+" + Amount, , LTAlign.ToBottom, , , True )
	End Method
End Type



Type TRestart Extends LTProject
	Field StartingTime:Int = Millisecs()
	Field Initialized:Int
	
	Method Render()
		If Millisecs() < StartingTime + 2000 Then
			Example.Render()
			L_CurrentCamera.Darken( 0.0005 * ( Millisecs() - StartingTime ) )
		ElseIf Millisecs() < StartingTime + 4000
			If Not Initialized Then
				Example.InitLevel()
				Initialized = True
			End If
			Example.Render()
			L_CurrentCamera.Darken( 0.0005 * ( 4000 - Millisecs() + StartingTime ) )
		Else
			Exiting = True
		End If
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTBehaviorModel_methods></a>Methods Summary</th></tr>
<tr><td class=docleft width=1%><a href=#Activate>Activate</a></td><td class=docright>
Activation method.
</td></tr>
<tr><td class=docleft width=1%><a href=#ActivateModel>ActivateModel</a></td><td class=docright>
Activates behavior model.
</td></tr>
<tr><td class=docleft width=1%><a href=#ApplyTo>ApplyTo</a></td><td class=docright>
Model applying method.
</td></tr>
<tr><td class=docleft width=1%><a href=#Deactivate>Deactivate</a></td><td class=docright>
Deactivation method.
</td></tr>
<tr><td class=docleft width=1%><a href=#DeactivateModel>DeactivateModel</a></td><td class=docright>
Deactivates behavior model.
</td></tr>
<tr><td class=docleft width=1%><a href=#Init>Init</a></td><td class=docright>
Initialization method.
</td></tr>
<tr><td class=docleft width=1%><a href=#Remove>Remove</a></td><td class=docright>
Removes behavior model.
</td></tr>
<tr><td class=docleft width=1%><a href=#RemoveSame>RemoveSame</a></td><td class=docright>
Removes every other behavior model of same type from shape's behavior models.
</td></tr>
<tr><td class=docleft width=1%><a href=#Watch>Watch</a></td><td class=docright>
Watching method.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Activate>
<tr><td class=doctop colspan=2>Method Activate( Shape:LTShape )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Activation method.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>It will be executed when model will be activated (and when attached too if you didn't set activation flag to False).
<p>
See also: <a href=#Deactivate>Deactivate</a>, <a href=#ActivateAllModels>ActivateAllModels</a>, <a href=#DeactivateAllModels>DeactivateAllModels</a>, <a href=#ActivateModel>ActivateModel</a>, <a href=#DeactivateModel>DeactivateModel</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ActivateModel>
<tr><td class=doctop colspan=2>Method ActivateModel( Shape:LTShape ) Final</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Activates behavior model.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>For use inside model's methods.
<p>
See also: <a href=#Activate>Activate</a>, <a href=#Deactivate>Deactivate</a>, <a href=#ActivateAllModels>ActivateAllModels</a>, <a href=#DeactivateAllModels>DeactivateAllModels</a>, <a href=#DeactivateModel>DeactivateModel</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ApplyTo>
<tr><td class=doctop colspan=2>Method ApplyTo( Shape:LTShape )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Model applying method.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>This method will be executed by shape default Act() method if the model will be active.
Fill it with commands which are affect shape in the way of corresponding behavior.
<p>
See also: <a href=#Watch>Watch</a>, <a href=#Act>Act</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Deactivate>
<tr><td class=doctop colspan=2>Method Deactivate( Shape:LTShape )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Deactivation method.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>It will be executed when model will be activated (and when removed too if it was active).
<p>
See also: <a href=#Activate>Activate</a>, <a href=#ActivateAllModels>ActivateAllModels</a>, <a href=#DeactivateAllModels>DeactivateAllModels</a>, <a href=#ActivateModel>ActivateModel</a>, <a href=#DeactivateModel>DeactivateModel</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DeactivateModel>
<tr><td class=doctop colspan=2>Method DeactivateModel( Shape:LTShape ) Final</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Deactivates behavior model.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>For use inside model's methods.
<p>
See also: <a href=#Activate>Activate</a>, <a href=#Deactivate>Deactivate</a>, <a href=#ActivateAllModels>ActivateAllModels</a>, <a href=#DeactivateAllModels>DeactivateAllModels</a>, <a href=#ActivateModel>ActivateModel</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Init>
<tr><td class=doctop colspan=2>Method Init( Shape:LTShape )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Initialization method.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>It will be executed when model will be attached to shape.
Fill it with model initialization commands.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Remove>
<tr><td class=doctop colspan=2>Method Remove( Shape:LTShape ) Final</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Removes behavior model.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Model will be deactivated before removal.
<p>
See also: <a href=#Deactivate>Deactivate</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=RemoveSame>
<tr><td class=doctop colspan=2>Method RemoveSame( Shape:LTShape ) Final</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Removes every other behavior model of same type from shape's behavior models.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#Remove>Remove</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Watch>
<tr><td class=doctop colspan=2>Method Watch( Shape:LTShape )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Watching method.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>This method will be executed by shape default Act() method if the model will be inactive.
Fill it with commands which will check certain conditions and activate model.
<p>
See also: <a href=#ApplyTo>ApplyTo</a>, <a href=#Act>Act</a>.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTBitmapFont>
<tr><td class=doctop colspan=2>Type LTBitmapFont Extends LTObject</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Bitmap font class.</td></tr>
<tr><td class=docleft width=1%><a href=LTBitmapFont.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Incbin "font.png"
Incbin "font.lfn"

L_InitGraphics()
Local Font:LTBitmapFont = LTBitmapFont.FromFile( "incbin::font.png", 32,127, 16, True )

SetClsColor 0, 128, 0
Cls

Repeat
	If AppTerminate() Or KeyHit( Key_Escape ) Then Exit
	Font.Print( "Hello!", Rnd( -15, 15 ), Rand( -11, 11 ), Rnd( 0.5, 2.0 ), Rand( 0, 2 ), Rand( 0, 2 ) )
	L_PrintText( "LTBitmapFont example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	Flip
Forever

SetClsColor 0, 0, 0</pre></td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTBitmapFont_methods></a>Methods Summary</th></tr>
<tr><td class=docleft width=1%><a href=#Print>Print</a></td><td class=docright>
Prints text using bitmap font.
</td></tr>
<tr><td class=docleft width=1%><a href=#PrintInShape>PrintInShape</a></td><td class=docright>
Prints text inside given shape using bitmap font.
</td></tr>
<tr><td class=docleft width=1%><a href=#Width>Width</a></td><td class=docright>
Returns text width in pixels.
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTBitmapFont_functions></a>Functions Summary</th></tr>
<tr><td class=docleft width=1%><a href=#FromFile>FromFile</a></td><td class=docright>
Creates bitmap font from file.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Print>
<tr><td class=doctop colspan=2>Method Print( Text:String, X:Double, Y:Double, FontHeightInUnits:Double, HorizontalAlignment:Int = LTAlign.ToLeft, VerticalAlignment:Int = LTAlign.ToTop )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Prints text using bitmap font.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>You should specify text, coordinates, font height and alignment.
<p>
See also: <a href=#LTAlign>LTAlign</a>, <a href=#PrintInShape>PrintInShape</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=PrintInShape>
<tr><td class=doctop colspan=2>Method PrintInShape( Text:String, Shape:LTShape, FontHeightInUnits:Double, HorizontalAlignment:Int = LTAlign.ToLeft, VerticalAlignment:Int = LTAlign.ToTop )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Prints text inside given shape using bitmap font.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>You should specify text, shape and alignment.
<p>
See also: <a href=#LTAlign>LTAlign</a>, <a href=#Print>Print</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Width>
<tr><td class=doctop colspan=2>Method Width:Int( Text:String )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Text width in pixels for current bitmap font.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Returns text width in pixels.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=FromFile>
<tr><td class=doctop colspan=2>Function FromFile:LTBitmapFont( FileName:String, FromNum:Int = 32, ToNum:Int = 255, SymbolsPerRow:Int = 16, VariableLength:Int = False )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>New bitmap font.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Creates bitmap font from file.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>You should specify image with letters file name, interval of symbols which are in the image, letter images per row.
VariableLength flag should be set to true if you want to use letters with variable lengths and have file with letter lengths with ".lfn"
extension and same name as image file.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTButtonAction>
<tr><td class=doctop colspan=2>Type LTButtonAction Extends LTObject</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Class for action which can be triggered by activating pushable object (presing a key, mouse button, etc).</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Key can be binded to several actions and several keys can be binded to one action.</td></tr>
<tr><td class=docleft width=1%><a href=LTButtonAction.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Global Example:TExample = New TExample
Example.Execute()


Type TExample Extends LTProject
	Field Velocity:Double = 5.0
	Field BulletVelocity:Double = 10.0

	Field MoveLeft:LTButtonAction = LTButtonAction.Create( LTKeyboardKey.Create( Key_Left ), "move left" )
	Field MoveRight:LTButtonAction = LTButtonAction.Create( LTKeyboardKey.Create( Key_Right ), "move right" )
	Field MoveUp:LTButtonAction = LTButtonAction.Create( LTKeyboardKey.Create( Key_Up ), "move up" )
	Field MoveDown:LTButtonAction = LTButtonAction.Create( LTKeyboardKey.Create( Key_Down ), "move down" )
	Field Fire:LTButtonAction = LTButtonAction.Create( LTMouseButton.Create( 1 ), "fire" )
	Field Actions:LTButtonAction[] = [ MoveLeft, MoveRight, MoveUp, MoveDown, Fire ]
	
	Field Player:LTSprite = LTSprite.FromShape( 0, 0, 1, 1, LTSprite.Oval )
	Field Bullets:LTLayer = New LTLayer
	
	Method Init()
		L_InitGraphics()
		Player.Visualizer.SetColorFromHex( "7FBFFF" )
	End Method
	
	Method Logic()
		If MoveLeft.IsDown() Then Player.Move( -Velocity, 0 )
		If MoveRight.IsDown() Then Player.Move( Velocity, 0 )
		If MoveUp.IsDown() Then Player.Move( 0, -Velocity )
		If MoveDown.IsDown() Then Player.Move( 0, Velocity )
		If Fire.IsDown() Then TBullet.Create()
		
		Bullets.Act()
		
		If KeyDown( Key_LControl ) Or KeyDown( Key_RControl ) Then If KeyDown( Key_D ) Then SwitchTo( New TDefineKeys )
		
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		Bullets.Draw()
		Player.Draw()
		DrawText( "Press Ctrl-D to define keys", 0, 0 )
		L_PrintText( "LTButtonAction, SwitchTo, Move example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type



Type TBullet Extends LTSprite
	Function Create:TBullet()
		Local Bullet:TBullet = New TBullet
		Bullet.SetCoords( Example.Player.X, Example.Player.Y )
		Bullet.SetDiameter( 0.25 )
		Bullet.ShapeType = LTSprite.Oval
		Bullet.Angle = Example.Player.DirectionTo( L_Cursor )
		Bullet.Velocity = Example.BulletVelocity
		Bullet.Visualizer.SetColorFromHex( "7FFFBF" )
		Example.Bullets.AddLast( Bullet )
	End Function
	
	Method Act()
		MoveForward()
	End Method
End Type



Type TDefineKeys Extends LTProject
	Field ActionNum:Int = 0
	Field Z:Int
	
	Method Init()
		FlushKeys()
		FlushMouse()
	End Method
	
	Method Logic()
		If Example.Actions[ ActionNum ].Define() Then
			ActionNum :+ 1
			If ActionNum = Example.Actions.Dimensions()[ 0 ] Then Exiting = True
		End If
	End Method
	
	Method Render()
		Example.Render()
		DrawText( "Press key for " + Example.Actions[ ActionNum ].Name, 0, 16 )
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTButtonAction_fields></a>Fields Summary</th></tr><tr><td colspan=2>
<a href=#MaxButtons>MaxButtons</a>
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTButtonAction_methods></a>Methods Summary</th></tr>
<tr><td class=docleft width=1%><a href=#AddButton>AddButton</a></td><td class=docright>
Adds given pushable object (button) to the button action button list.
</td></tr>
<tr><td class=docleft width=1%><a href=#Clear>Clear</a></td><td class=docright>
Removes all pushable objects (buttons) of the button action.
</td></tr>
<tr><td class=docleft width=1%><a href=#IsDown>IsDown</a></td><td class=docright>
Function which checks button action pressing state.
</td></tr>
<tr><td class=docleft width=1%><a href=#WasPressed>WasPressed</a></td><td class=docright>
Function which checks button action just-pressing state.
</td></tr>
<tr><td class=docleft width=1%><a href=#WasUnpressed>WasUnpressed</a></td><td class=docright>
Function which checks button action just-unpressing state.
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTButtonAction_functions></a>Functions Summary</th></tr>
<tr><td class=docleft width=1%><a href=#Create>Create</a></td><td class=docright>
Creates button action with given pushable object (button) and name (optional).
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=MaxButtons>
<tr><td class=doctop colspan=2>Field MaxButtons:Int = 3</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Maximum quantity of buttons in button list (0 means unlimited).</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=AddButton>
<tr><td class=doctop colspan=2>Method AddButton( Button:LTPushable )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Adds given pushable object (button) to the button action button list.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Clear>
<tr><td class=doctop colspan=2>Method Clear()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Removes all pushable objects (buttons) of the button action.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=IsDown>
<tr><td class=doctop colspan=2>Method IsDown:Int()</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>True if one of pushable objects (buttons) of this action is currently pressed.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Function which checks button action pressing state.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=WasPressed>
<tr><td class=doctop colspan=2>Method WasPressed:Int()</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>True if one of pushable objects (buttons) of this action was pressed in current project cycle.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Function which checks button action just-pressing state.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=WasUnpressed>
<tr><td class=doctop colspan=2>Method WasUnpressed:Int()</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>True if one of pushable objects (buttons) of this action was unpressed in current project cycle.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Function which checks button action just-unpressing state.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Create>
<tr><td class=doctop colspan=2>Function Create:LTButtonAction( Button:LTPushable, Name:String = "" )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>New button action with one pushable object (button).</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Creates button action with given pushable object (button) and name (optional).</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTCamera>
<tr><td class=doctop colspan=2>Type LTCamera Extends LTVectorSprite</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Camera for displaying game objects.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Camera sprite defines rectangular area on game field which will be projected to the defined viewport rectangle.</td></tr>
<tr><td class=docleft width=1%><a href=LTCamera.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Incbin "tiles.png"

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Const TileMapWidth:Int = 64
	Const TileMapHeight:Int = 64
	
	Field TileMap:LTTileMap = LTTileMap.Create( LTTileSet.Create( LTImage.FromFile( "incbin::tiles.png", 8, 4 ) ), TileMapWidth, TileMapHeight )
	Field Cursor:LTSprite = LTSprite.FromShape( 0, 0, 0.5, 0.5, LTSprite.Oval )
	Field Z:Double, BaseK:Double
	
	Method Init()
		L_InitGraphics()
		TileMap.SetSize( TileMapWidth * 2, TileMapHeight * 2 )
		For Local Y:Int = 0 Until TileMapHeight
			For Local X:Int = 0 Until TileMapWidth
				TileMap.SetTile( X, Y, Rand( 1, 31 ) )
			Next
		Next
		Cursor.Visualizer.SetColorFromHex( "FFBF7F" )
		BaseK = L_CurrentCamera.K
	End Method
	
	Method Logic()
		Cursor.MoveUsingArrows( 10.0 )
		L_CurrentCamera.ShiftCameraToShape( Cursor, 10.0 )
		
		If KeyDown( Key_A ) Then Z :+ L_PerSecond( 8.0 )
		If KeyDown( Key_Z ) Then Z :- L_PerSecond( 8.0 )
		L_CurrentCamera.AlterCameraMagnification( Z, BaseK, 8.0 )
		
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		TileMap.Draw()
		Cursor.Draw()
		DrawText( "Shift cursor by arrow keys and alter magnigication by A and Z keys.", 0, 0 )
		Local Message:String = "LTCamera, AlterCameraMagnification, ShiftCameraToShape example"
		DrawText( Message, 400 - 4 * Len( Message ), 584 )
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTCamera_fields></a>Fields Summary</th></tr><tr><td colspan=2>
<a href=#Isometric>Isometric</a>
, 
<a href=#Viewport>Viewport</a>
, 
<a href=#ViewportClipping>ViewportClipping</a>
, 
<a href=#VX1>VX1</a>
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTCamera_methods></a>Methods Summary</th></tr>
<tr><td class=docleft width=1%><a href=#AlterCameraMagnification>AlterCameraMagnification</a></td><td class=docright>
Smoothly alterts camera magnification to the given one.
</td></tr>
<tr><td class=docleft width=1%><a href=#ApplyColor>ApplyColor</a></td><td class=docright>
Applies color with given intensity to the whole viewport.
</td></tr>
<tr><td class=docleft width=1%><a href=#Darken>Darken</a></td><td class=docright>
Darkens current camera viewport.
</td></tr>
<tr><td class=docleft width=1%><a href=#DistFieldToScreen>DistFieldToScreen</a></td><td class=docright>
Transforms field distance to the screen distance.
</td></tr>
<tr><td class=docleft width=1%><a href=#DistScreenToField>DistScreenToField</a></td><td class=docright>
Transforms distance from the screen to field coordinate system.
</td></tr>
<tr><td class=docleft width=1%><a href=#FieldToScreen>FieldToScreen</a></td><td class=docright>
Transforms game field coordinates to the screen coordinates.
</td></tr>
<tr><td class=docleft width=1%><a href=#FieldToScreenFloat>FieldToScreenFloat</a></td><td class=docright>
Same as FieldToScreen, but for Floats.
</td></tr>
<tr><td class=docleft width=1%><a href=#Lighten>Lighten</a></td><td class=docright>
Lightens current camera viewport.
</td></tr>
<tr><td class=docleft width=1%><a href=#ResetViewport>ResetViewport</a></td><td class=docright>
Resets viewport to whole screen.
</td></tr>
<tr><td class=docleft width=1%><a href=#ScreenToField>ScreenToField</a></td><td class=docright>
Transforms screen coordinates to game field coordinates.
</td></tr>
<tr><td class=docleft width=1%><a href=#SetCameraViewport>SetCameraViewport</a></td><td class=docright>
Set viewport cliiping for camera.
</td></tr>
<tr><td class=docleft width=1%><a href=#ShiftCameraToPoint>ShiftCameraToPoint</a></td><td class=docright>
Smoothly shifts camera to the given point.
</td></tr>
<tr><td class=docleft width=1%><a href=#ShiftCameraToShape>ShiftCameraToShape</a></td><td class=docright>
Smoothly shifts camera to the given shape center.
</td></tr>
<tr><td class=docleft width=1%><a href=#SizeFieldToScreen>SizeFieldToScreen</a></td><td class=docright>
Transforms size of the object on the field in units to size of this object on screen in pixels.
</td></tr>
<tr><td class=docleft width=1%><a href=#SizeScreenToField>SizeScreenToField</a></td><td class=docright>
Transforms size of the object on the screen in pixels to size of this object on game field in units.
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTCamera_functions></a>Functions Summary</th></tr>
<tr><td class=docleft width=1%><a href=#Create>Create</a></td><td class=docright>
Creates new camera object using given screen resolution and unit size in pixels.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Isometric>
<tr><td class=doctop colspan=2>Field Isometric:Int</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Isometric view flag.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Viewport>
<tr><td class=doctop colspan=2>Field Viewport:LTShape = New LTShape</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Viewport rectangular shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#ViewportClipping>ViewportClipping</a>, <a href=#SetCameraViewport>SetCameraViewport</a>, <a href=#ResetViewport>ResetViewport</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ViewportClipping>
<tr><td class=doctop colspan=2>Field ViewportClipping:Int = True</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Viewport clipping flag.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Defines will the objects parts outside viewport be clipped. Defaults to True.
<p>
See also: <a href=#Viewport>Viewport</a>, <a href=#SetCameraViewport>SetCameraViewport</a>, <a href=#ResetViewport>ResetViewport</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=VX1>
<tr><td class=doctop colspan=2>Field VX1:Double, VY1:Double, VX2:Double, VY2:Double, VK:Double, AVK:Double</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Elements of vectors V1 and V2 for Isometric view.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=AlterCameraMagnification>
<tr><td class=doctop colspan=2>Method AlterCameraMagnification( NewZ:Double, OldK:Double, Acceleration:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Smoothly alterts camera magnification to the given one.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#LTCamera>LTCamera</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ApplyColor>
<tr><td class=doctop colspan=2>Method ApplyColor( Intensity:Double, Red:Double, Green:Double, Blue:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Applies color with given intensity to the whole viewport.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Red color for example will make picture more "reddish".
If you use intensity 0.0, it will give no effect and intensity 1.0 will make whole viewport solid red.
<p>
See also: <a href=#Lighten>Lighten</a>, <a href=#Darken>Darken</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Darken>
<tr><td class=doctop colspan=2>Method Darken( Intensity:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Darkens current camera viewport.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>0.0 intensity will give no effect, 1.0 intensity will turn viewport to solid black.
<p>
See also: <a href=#ApplyColor>ApplyColor</a>, <a href=#Lighten>Lighten</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DistFieldToScreen>
<tr><td class=doctop colspan=2>Method DistFieldToScreen:Double( ScreenDist:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Transforms field distance to the screen distance.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#ScreenToField>ScreenToField</a>, <a href=#SizeScreenToField>SizeScreenToField</a>, <a href=#DistScreenToField>DistScreenToField</a>, <a href=#FieldToScreen>FieldToScreen</a>, <a href=#SizeFieldToScreen>SizeFieldToScreen</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DistScreenToField>
<tr><td class=doctop colspan=2>Method DistScreenToField:Double( ScreenDist:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Transforms distance from the screen to field coordinate system.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#ScreenToField>ScreenToField</a>, <a href=#SizeScreenToField>SizeScreenToField</a>, <a href=#FieldToScreen>FieldToScreen</a>, <a href=#SizeFieldToScreen>SizeFieldToScreen</a>, <a href=#DistFieldToScreen>DistFieldToScreen</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=FieldToScreen>
<tr><td class=doctop colspan=2>Method FieldToScreen( FieldX:Double, FieldY:Double, ScreenX:Double Var, ScreenY:Double Var )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Transforms game field coordinates to the screen coordinates.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#ScreenToField>ScreenToField</a>, <a href=#SizeScreenToField>SizeScreenToField</a>, <a href=#DistScreenToField>DistScreenToField</a>, <a href=#SizeFieldToScreen>SizeFieldToScreen</a>, <a href=#DistFieldToScreen>DistFieldToScreen</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=FieldToScreenFloat>
<tr><td class=doctop colspan=2>Method FieldToScreenFloat( FieldX:Double, FieldY:Double, ScreenX:Float Var, ScreenY:Float Var )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Same as FieldToScreen, but for Floats.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Lighten>
<tr><td class=doctop colspan=2>Method Lighten( Intensity:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Lightens current camera viewport.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>0.0 intensity will give no effect, 1.0 intensity will turn viewport to solid white.
<p>
See also: <a href=#ApplyColor>ApplyColor</a>, <a href=#Darken>Darken</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ResetViewport>
<tr><td class=doctop colspan=2>Method ResetViewport()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Resets viewport to whole screen.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#Viewport>Viewport</a>, <a href=#ViewportClipping>ViewportClipping</a>, <a href=#SetCameraViewport>SetCameraViewport</a>, <a href=#SetAsViewport>SetAsViewport</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ScreenToField>
<tr><td class=doctop colspan=2>Method ScreenToField( ScreenX:Double, ScreenY:Double, FieldX:Double Var, FieldY:Double Var )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Transforms screen coordinates to game field coordinates.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#SizeScreenToField>SizeScreenToField</a>, <a href=#DistScreenToField>DistScreenToField</a>, <a href=#FieldToScreen>FieldToScreen</a>, <a href=#SizeFieldToScreen>SizeFieldToScreen</a>, <a href=#DistFieldToScreen>DistFieldToScreen</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SetCameraViewport>
<tr><td class=doctop colspan=2>Method SetCameraViewport()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Set viewport cliiping for camera.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>If ViewportClipping flag is set to False, then this command does nothing.
<p>
See also: <a href=#Viewport>Viewport</a>, <a href=#ViewportClipping>ViewportClipping</a>, <a href=#ResetViewport>ResetViewport</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ShiftCameraToPoint>
<tr><td class=doctop colspan=2>Method ShiftCameraToPoint( NewX:Double, NewY:Double, Acceleration:Double = 6.0 )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Smoothly shifts camera to the given point.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#LTCamera>LTCamera</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ShiftCameraToShape>
<tr><td class=doctop colspan=2>Method ShiftCameraToShape( Shape:LTShape, Acceleration:Double = 6.0 )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Smoothly shifts camera to the given shape center.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SizeFieldToScreen>
<tr><td class=doctop colspan=2>Method SizeFieldToScreen( FieldWidth:Double, FieldHeight:Double, ScreenWidth:Double Var, ScreenHeight:Double Var )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Transforms size of the object on the field in units to size of this object on screen in pixels.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#ScreenToField>ScreenToField</a>, <a href=#SizeScreenToField>SizeScreenToField</a>, <a href=#DistScreenToField>DistScreenToField</a>, <a href=#FieldToScreen>FieldToScreen</a>, <a href=#DistFieldToScreen>DistFieldToScreen</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SizeScreenToField>
<tr><td class=doctop colspan=2>Method SizeScreenToField( ScreenWidth:Double, ScreenHeight:Double, FieldWidth:Double Var, FieldHeight:Double Var )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Transforms size of the object on the screen in pixels to size of this object on game field in units.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#ScreenToField>ScreenToField</a>, <a href=#DistScreenToField>DistScreenToField</a>, <a href=#FieldToScreen>FieldToScreen</a>, <a href=#SizeFieldToScreen>SizeFieldToScreen</a>, <a href=#DistFieldToScreen>DistFieldToScreen</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Create>
<tr><td class=doctop colspan=2>Function Create:LTCamera( Width:Double = 800.0, Height:Double = 600.0, UnitSize:Double = 25.0 )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>New camera object.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Creates new camera object using given screen resolution and unit size in pixels.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTColor>
<tr><td class=doctop colspan=2>Type LTColor Extends LTObject</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTColor_fields></a>Fields Summary</th></tr><tr><td colspan=2>
<a href=#Alpha>Alpha</a>
, 
<a href=#Blue>Blue</a>
, 
<a href=#Green>Green</a>
, 
<a href=#Red>Red</a>
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTColor_methods></a>Methods Summary</th></tr>
<tr><td class=docleft width=1%><a href=#AlterColor>AlterColor</a></td><td class=docright>
Alters color randomly with given increments.
</td></tr>
<tr><td class=docleft width=1%><a href=#ApplyClsColor>ApplyClsColor</a></td><td class=docright>
Sets the color of visualizer as screen clearing color.
</td></tr>
<tr><td class=docleft width=1%><a href=#ApplyColor>ApplyColor</a></td><td class=docright>
Sets this color as drawing color.
</td></tr>
<tr><td class=docleft width=1%><a href=#SetColorFromHex>SetColorFromHex</a></td><td class=docright>
Applies color given in hex string to visualizer.
</td></tr>
<tr><td class=docleft width=1%><a href=#SetColorFromRGB>SetColorFromRGB</a></td><td class=docright>
Applies color given in color intensities to visualizer.
</td></tr>
<tr><td class=docleft width=1%><a href=#SetRandomColor>SetRandomColor</a></td><td class=docright>
Sets random color.
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTColor_functions></a>Functions Summary</th></tr>
<tr><td class=docleft width=1%><a href=#FromHex>FromHex</a></td><td class=docright>
Creates new color using given hexadecimal representation and transparency.
</td></tr>
<tr><td class=docleft width=1%><a href=#FromRGB>FromRGB</a></td><td class=docright>
Creates new color using given RGB components and transparency.
</td></tr>
<tr><td class=docleft width=1%><a href=#ResetColor>ResetColor</a></td><td class=docright>
Resets drawing color to solid white.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Alpha>
<tr><td class=doctop colspan=2>Field Alpha:Double = 1.0</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Alpha (transparency) value for drawing.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright><a href=#ApplyColor>ApplyColor</a>, <a href=#ResetColor>ResetColor</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Blue>
<tr><td class=doctop colspan=2>Field Blue:Double = 1.0</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Blue color intensity for drawing.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#SetColorFromHex>SetColorFromHex</a>, <a href=#SetColorFromRGB>SetColorFromRGB</a>, <a href=#AlterColor>AlterColor</a>, <a href=#ApplyColor>ApplyColor</a>, <a href=#ResetColor>ResetColor</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Green>
<tr><td class=doctop colspan=2>Field Green:Double = 1.0</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Green color intensity for drawing.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#SetColorFromHex>SetColorFromHex</a>, <a href=#SetColorFromRGB>SetColorFromRGB</a>, <a href=#AlterColor>AlterColor</a>, <a href=#ApplyColor>ApplyColor</a>, <a href=#ResetColor>ResetColor</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Red>
<tr><td class=doctop colspan=2>Field Red:Double = 1.0</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Red color intensity for drawing.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#SetColorFromHex>SetColorFromHex</a>, <a href=#SetColorFromRGB>SetColorFromRGB</a>, <a href=#AlterColor>AlterColor</a>, <a href=#ApplyColor>ApplyColor</a>, <a href=#ResetColor>ResetColor</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=AlterColor>
<tr><td class=doctop colspan=2>Method AlterColor( D1:Double, D2:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Alters color randomly with given increments.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Every color channel will be altered by random value in D1...D2 interval (value(s) can be negative).
<p>
See also: <a href=#SetColorFromHex>SetColorFromHex</a>, <a href=#SetColorFromRGB>SetColorFromRGB</a>, <a href=#ApplyColor>ApplyColor</a>, <a href=#ApplyClsColor>ApplyClsColor</a>, <a href=#ResetColor>ResetColor</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ApplyClsColor>
<tr><td class=doctop colspan=2>Method ApplyClsColor()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sets the color of visualizer as screen clearing color.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#ApplyColor>ApplyColor</a>, <a href=#SetColorFromHex>SetColorFromHex</a>, <a href=#SetColorFromRGB>SetColorFromRGB</a>, <a href=#AlterColor>AlterColor</a>, <a href=#ResetColor>ResetColor</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ApplyColor>
<tr><td class=doctop colspan=2>Method ApplyColor()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sets this color as drawing color.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#ApplyClsColor>ApplyClsColor</a>, <a href=#SetColorFromHex>SetColorFromHex</a>, <a href=#SetColorFromRGB>SetColorFromRGB</a>, <a href=#AlterColor>AlterColor</a>, <a href=#ResetColor>ResetColor</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SetColorFromHex>
<tr><td class=doctop colspan=2>Method SetColorFromHex( S:String )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Applies color given in hex string to visualizer.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#SetColorFromRGB>SetColorFromRGB</a>, <a href=#AlterColor>AlterColor</a>, <a href=#ApplyColor>ApplyColor</a>, <a href=#ApplyClsColor>ApplyClsColor</a>, <a href=#ResetColor>ResetColor</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SetColorFromRGB>
<tr><td class=doctop colspan=2>Method SetColorFromRGB( NewRed:Double, NewGreen:Double, NewBlue:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Applies color given in color intensities to visualizer.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Every intensity should be in range from 0.0 to 1.0.
<p>
See also: <a href=#SetColorFromHex>SetColorFromHex</a>, <a href=#AlterColor>AlterColor</a>, <a href=#ApplyColor>ApplyColor</a>, <a href=#ApplyClsColor>ApplyClsColor</a>, <a href=#ResetColor>ResetColor</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SetRandomColor>
<tr><td class=doctop colspan=2>Method SetRandomColor()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sets random color.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Each component is in [ 0.25, 1.0 ] range.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=FromHex>
<tr><td class=doctop colspan=2>Function FromHex:LTColor( HexColor:String = "FFFFFF", Alpha:Double = 1.0 )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>New color.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Creates new color using given hexadecimal representation and transparency.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#FromRGB>FromRGB</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=FromRGB>
<tr><td class=doctop colspan=2>Function FromRGB:LTColor( Red:Double, Green:Double, Blue:Double, Alpha:Double = 1.0 )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>New color.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Creates new color using given RGB components and transparency.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#FromHex>FromHex</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ResetColor>
<tr><td class=doctop colspan=2>Function ResetColor()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Resets drawing color to solid white.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#SetColorFromHex>SetColorFromHex</a>, <a href=#SetColorFromRGB>SetColorFromRGB</a>, <a href=#AlterColor>AlterColor</a>, <a href=#ApplyColor>ApplyColor</a>, <a href=#ApplyClsColor>ApplyClsColor</a>.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTContourVisualizer>
<tr><td class=doctop colspan=2>Type LTContourVisualizer Extends LTVisualizer</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>This visualizer draws contours of the shape.</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTContourVisualizer_fields></a>Fields Summary</th></tr><tr><td colspan=2>
<a href=#LineWidth>LineWidth</a>
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTContourVisualizer_functions></a>Functions Summary</th></tr>
<tr><td class=docleft width=1%><a href=#FromWidthAndHexColor>FromWidthAndHexColor</a></td><td class=docright>
Creates new contour visualizer using given hexadecimal color representation and transparency.
</td></tr>
<tr><td class=docleft width=1%><a href=#FromWidthAndRGBColor>FromWidthAndRGBColor</a></td><td class=docright>
Creates new contour visualizer using given RGB color components and transparency.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=LineWidth>
<tr><td class=doctop colspan=2>Field LineWidth:Double = 1.0</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Width of contour lines.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=FromWidthAndHexColor>
<tr><td class=doctop colspan=2>Function FromWidthAndHexColor:LTContourVisualizer( Width:Double, HexColor:String = "FFFFFF", Alpha:Double = 1.0, PivotScale:Double = 1.0 )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>New visualizer.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Creates new contour visualizer using given hexadecimal color representation and transparency.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#FromFile>FromFile</a>, <a href=#FromImage>FromImage</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=FromWidthAndRGBColor>
<tr><td class=doctop colspan=2>Function FromWidthAndRGBColor:LTContourVisualizer( Width:Double, Red:Double = 1.0, Green:Double = 1.0, Blue:Double = 1.0, Alpha:Double = 1.0, PivotScale:Double = 1.0 )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>New visualizer.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Creates new contour visualizer using given RGB color components and transparency.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#FromFile>FromFile</a>, <a href=#FromImage>FromImage</a>.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTDebugVisualizer>
<tr><td class=doctop colspan=2>Type LTDebugVisualizer Extends LTVisualizer</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>This visualizer can draw collision shape, vector and name of the shape with this shape itself.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also <a href=#WedgeOffWithSprite>WedgeOffWithSprite</a> example.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTDistanceJoint>
<tr><td class=doctop colspan=2>Type LTDistanceJoint Extends LTBehaviorModel</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Distance joint keeps fixed distance between parent pivot and given shape.</td></tr>
<tr><td class=docleft width=1%><a href=LTDistanceJoint.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic

Import dwlab.frmwork
Import dwlab.graphicsdrivers

Local Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Field Hinge:LTSprite = LTSprite.FromShape( 0, -8, 1, 1, LTSprite.Oval )
	Field Weight1:LTVectorSprite = LTVectorSprite.FromShapeAndVector( -8, -6, 3, 3, LTSprite.Oval )
	Field Weight2:LTVectorSprite = LTVectorSprite.FromShapeAndVector( -12, -9, 3, 3, LTSprite.Oval )
	Field Rope1:LTLineSegment = LTLineSegment.FromPivots( Hinge, Weight1 )
	Field Rope2:LTLineSegment = LTLineSegment.FromPivots( Weight1, Weight2 )
	
	Method Init()
		L_InitGraphics()
		Hinge.Visualizer = LTVisualizer.FromHexColor( "FF0000" )
		Weight1.Visualizer = LTVisualizer.FromHexColor( "00FF00" )
		Weight2.Visualizer = LTVisualizer.FromHexColor( "FFFF00" )
		Rope1.Visualizer = LTContourVisualizer.FromWidthAndHexColor( 0.25, "0000FF", 1.0 , 2.0 )
		Rope2.Visualizer = Rope1.Visualizer
		Weight1.AttachModel( LTDistanceJoint.Create( Hinge ) )
		Weight2.AttachModel( LTDistanceJoint.Create( Weight1 ) )
	End Method

	Method Render()
		Hinge.Draw()
		Weight1.Draw()
		Weight2.Draw()
		Rope1.Draw()
		Rope2.Draw()
		L_PrintText( "LTDistanceJoint example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
	
	Method Logic()
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
		Weight1.Act()
		Weight1.DY :+ L_PerSecond( 2.0 )
		Weight1.MoveForward()
		Weight2.Act()
		Weight2.DY :+ L_PerSecond( 2.0 )
		Weight2.MoveForward()
	End Method	
End Type</pre></td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTDistanceJoint_functions></a>Functions Summary</th></tr>
<tr><td class=docleft width=1%><a href=#Create>Create</a></td><td class=docright>
Creates distance joint for specified parent pivot using current pivots position.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Create>
<tr><td class=doctop colspan=2>Function Create:LTDistanceJoint( ParentPivot:LTSprite, FixedAngle:Int = True )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Creates distance joint for specified parent pivot using current pivots position.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTDoubleMap>
<tr><td class=doctop colspan=2>Type LTDoubleMap Extends LTMap</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>DoubleMap is basicaly a heightmap.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>It is 2d array of Double values which are in 0.0...1.0 interval.</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTDoubleMap_consts></a>Constants Summary</th></tr><tr><td colspan=2>
<a href=#Add>Add</a>
, 
<a href=#Alpha>Alpha</a>
, 
<a href=#Blue>Blue</a>
, 
<a href=#Green>Green</a>
, 
<a href=#Maximum>Maximum</a>
, 
<a href=#Minimum>Minimum</a>
, 
<a href=#Multiply>Multiply</a>
, 
<a href=#Overwrite>Overwrite</a>
, 
<a href=#Red>Red</a>
, 
<a href=#RGB>RGB</a>
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTDoubleMap_fields></a>Fields Summary</th></tr><tr><td colspan=2>
<a href=#Value>Value</a>
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTDoubleMap_methods></a>Methods Summary</th></tr>
<tr><td class=docleft width=1%><a href=#Blur>Blur</a></td><td class=docright>
Blurs the heightmap with simple 3x3 filter.
</td></tr>
<tr><td class=docleft width=1%><a href=#DrawCircle>DrawCircle</a></td><td class=docright>
Draws anti-aliased circle on the heightmap.
</td></tr>
<tr><td class=docleft width=1%><a href=#ExtractTo>ExtractTo</a></td><td class=docright>
Extracts slice of heightmap to the tilemap.
</td></tr>
<tr><td class=docleft width=1%><a href=#Limit>Limit</a></td><td class=docright>
Limits the heightmap values by standard interval.
</td></tr>
<tr><td class=docleft width=1%><a href=#Paste>Paste</a></td><td class=docright>
Pastes one heightmap over another.
</td></tr>
<tr><td class=docleft width=1%><a href=#PasteToImage>PasteToImage</a></td><td class=docright>
Pastes heightmap to existing image frame with given shift.
</td></tr>
<tr><td class=docleft width=1%><a href=#PasteToPixmap>PasteToPixmap</a></td><td class=docright>
Pastes heightmap to existing pixmap with given shift.
</td></tr>
<tr><td class=docleft width=1%><a href=#PerlinNoise>PerlinNoise</a></td><td class=docright>
Fills heightmap with perlin noise.
</td></tr>
<tr><td class=docleft width=1%><a href=#ToNewImage>ToNewImage</a></td><td class=docright>
Converts heightmap to new image with single frame.
</td></tr>
<tr><td class=docleft width=1%><a href=#ToNewPixmap>ToNewPixmap</a></td><td class=docright>
Converts heightmap to new pixmap.
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTDoubleMap_functions></a>Functions Summary</th></tr>
<tr><td class=docleft width=1%><a href=#Create>Create</a></td><td class=docright>
Creates double map using given resolution.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Add>
<tr><td class=doctop colspan=2>Const Add:Int</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Constant for adding source heightmap values to destination heightmap values.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#Overwrite>Overwrite</a>, <a href=#Add>Add</a>, <a href=#Multiply>Multiply</a>, <a href=#Maximum>Maximum</a>, <a href=#Minimum>Minimum</a>, <a href=#Paste>Paste</a>, <a href=#Limit>Limit</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Alpha>
<tr><td class=doctop colspan=2>Const Alpha:Int</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Constant for filling alpha channel in pixmap (transparency).</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#PasteToImage>PasteToImage</a>, <a href=#PasteToPixmap>PasteToPixmap</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Blue>
<tr><td class=doctop colspan=2>Const Blue:Int</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Constant for filling blue color channel in pixmap.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#PasteToImage>PasteToImage</a>, <a href=#PasteToPixmap>PasteToPixmap</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Green>
<tr><td class=doctop colspan=2>Const Green:Int</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Constant for filling green color channel in pixmap.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#PasteToImage>PasteToImage</a>, <a href=#PasteToPixmap>PasteToPixmap</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Maximum>
<tr><td class=doctop colspan=2>Const Maximum:Int</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Constant for selecting maximum value between source heightmap values and destination heightmap values.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#Overwrite>Overwrite</a>, <a href=#Add>Add</a>, <a href=#Multiply>Multiply</a>, <a href=#Maximum>Maximum</a>, <a href=#Minimum>Minimum</a>, <a href=#Paste>Paste</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Minimum>
<tr><td class=doctop colspan=2>Const Minimum:Int</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Constant for selecting minimum value between source heightmap values and destination heightmap values.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#Overwrite>Overwrite</a>, <a href=#Add>Add</a>, <a href=#Multiply>Multiply</a>, <a href=#Maximum>Maximum</a>, <a href=#Minimum>Minimum</a>, <a href=#Paste>Paste</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Multiply>
<tr><td class=doctop colspan=2>Const Multiply:Int</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Constant for multiplying source heightmap values by destination heightmap values.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#Overwrite>Overwrite</a>, <a href=#Add>Add</a>, <a href=#Multiply>Multiply</a>, <a href=#Maximum>Maximum</a>, <a href=#Minimum>Minimum</a>, <a href=#Paste>Paste</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Overwrite>
<tr><td class=doctop colspan=2>Const Overwrite:Int</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Constant for overwriting source heightmap values by destination heightmap values.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#Overwrite>Overwrite</a>, <a href=#Add>Add</a>, <a href=#Multiply>Multiply</a>, <a href=#Maximum>Maximum</a>, <a href=#Minimum>Minimum</a>, <a href=#Paste>Paste</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Red>
<tr><td class=doctop colspan=2>Const Red:Int</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Constant for filling red color channel in pixmap.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#PasteToImage>PasteToImage</a>, <a href=#PasteToPixmap>PasteToPixmap</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=RGB>
<tr><td class=doctop colspan=2>Const RGB:Int</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Constant for filling all color channels in pixmap (resulting color will be from black to white).</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#PasteToImage>PasteToImage</a>, <a href=#PasteToPixmap>PasteToPixmap</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Value>
<tr><td class=doctop colspan=2>Field Value:Double[ , ] = New Double[ 1, 1 ]</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>2D array of heightmap values.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Blur>
<tr><td class=doctop colspan=2>Method Blur()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Blurs the heightmap with simple 3x3 filter.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#PerlinNoise>PerlinNoise</a>, <a href=#DrawCircle>DrawCircle</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DrawCircle>
<tr><td class=doctop colspan=2>Method DrawCircle( XCenter:Double, YCenter:Double, Radius:Double, Color:Double = 1.0 )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Draws anti-aliased circle on the heightmap.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Parts of circle which will be ouside the heightmap, will be wrapped around.
<p>
See also: <a href=#Paste>Paste</a> example.</td></tr>
<tr><td class=docleft width=1%><a href=DrawCircle.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Const MapSize:Int = 128
	Const MapScale:Double = 4.0
	Const PicScale:Double = 5.0

	Field DoubleMap:LTDoubleMap = LTDoubleMap.Create( MapSize, MapSize )
	
	Method Init()
		L_InitGraphics()
		SetClsColor( 0, 0, 255 )
		Local Array:Float[][][] = [ [ [ 0.0, -7.0, 5.0 ], [ 0.0, -1.5, 7.0 ], [ -4.0, -3.0, 2.0 ], [ 4.0, -3.0, 2.0 ], [ 0.0, 6.0, 9.0 ] ], ..
				[ [ 0.0, -7.0, 1.5 ], [ -1.0, -8.0, 1.0 ], [ 1.0, -8.0, 1.0 ], [ 0.0, -3.5, 1.0 ], [ 0.0, -2.0, 1.0 ], [ 0.0, -0.5, 1.0 ] ] ]
		For Local Col:Int = 0 to 1
			For Local Shape:Float[] = Eachin Array[ Col ]
				DoubleMap.DrawCircle( Shape[ 0 ] * PicScale + 0.5 * MapSize, Shape[ 1 ] * PicScale + 0.5 * MapSize, 0.5 * Shape[ 2 ] * PicScale, 1.0 - 0.7 * Col )
			Next
		Next
	End Method
	
	Method Logic()
		if KeyHit( Key_Space ) Then DoubleMap.Blur()
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		SetScale( MapScale, MapScale )
		DrawImage( DoubleMap.ToNewImage().BMaxImage, 400, 300 )
		SetScale( 1, 1 )
		DrawText( "Press space to blur map", 0, 0 )
		L_PrintText( "DrawCircle, Blur example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
	
	Method DeInit()
		SetClsColor( 0, 0, 0 )
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ExtractTo>
<tr><td class=doctop colspan=2>Method ExtractTo( TileMap:LTIntMap, VFrom:Double, VTo:Double, TileNum:Int )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Extracts slice of heightmap to the tilemap.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Areas of Tilemap with corresponding heightmap values between VFrom and VTo will be filled with TileNum tile index.
Tilemap and heightmap must have same resolution.
<p>
about: See also: <a href=#Enframe>Enframe</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Limit>
<tr><td class=doctop colspan=2>Method Limit()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Limits the heightmap values by standard interval.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>This method will force heighmap values to be in 0.0...1.0 interval.
Use this method after applying unsafe operations on heightmap, for example adding another heightmap to it.
<p>
See also: <a href=#Paste>Paste</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Paste>
<tr><td class=doctop colspan=2>Method Paste( SourceMap:LTDoubleMap, X:Int = 0, Y:Int = 0, Mode:Int = Overwrite )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Pastes one heightmap over another.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>You can change coordinate shift and pasting mode.
All parts of source heightmap which will be outside destination pixmap will be wrapped around destination pixmap.
<p>
See also: <a href=#Overwrite>Overwrite</a>, <a href=#Add>Add</a>, <a href=#Multiply>Multiply</a>, <a href=#Maximum>Maximum</a>, <a href=#Minimum>Minimum</a>.</td></tr>
<tr><td class=docleft width=1%><a href=Paste.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Const MapSize:Int = 128

L_InitGraphics()

Local SourceMap:LTDoubleMap = LTDoubleMap.Create( MapSize, MapSize )
SourceMap.DrawCircle( MapSize * 0.375, MapSize * 0.375, MapSize * 0.35, 0.6 )
Draw( SourceMap.ToNewImage(), "Source map" )

Local TargetMap:LTDoubleMap = LTDoubleMap.Create( MapSize, MapSize )
TargetMap.DrawCircle( MapSize * 0.625, MapSize * 0.625, MapSize * 0.35, 0.8 )
Draw( TargetMap.ToNewImage(), "Target map" )

Local DoubleMap:LTDoubleMap = LTDoubleMap.Create( MapSize, MapSize )
DoubleMap.Paste( TargetMap )
DoubleMap.Paste( SourceMap, 0, 0, LTDoubleMap.Add )
DoubleMap.Limit()
Draw( DoubleMap.ToNewImage(), "Adding source map to target map" )

DoubleMap.Paste( TargetMap )
DoubleMap.Paste( SourceMap, 0, 0, LTDoubleMap.Multiply )
Draw( DoubleMap.ToNewImage(), "Multiplying source map with target map" )

DoubleMap.Paste( TargetMap )
DoubleMap.Paste( SourceMap, 0, 0, LTDoubleMap.Maximum )
Draw( DoubleMap.ToNewImage(), "Maximum of source map and target map" )

DoubleMap.Paste( TargetMap )
DoubleMap.Paste( SourceMap, 0, 0, LTDoubleMap.Minimum )
Draw( DoubleMap.ToNewImage(), "Minimum of source map and target map" )

SetScale( 4.0, 4.0 )
Local Image:LTImage = SourceMap.ToNewImage( LTDoubleMap.Red )
TargetMap.PasteToImage( Image, 0, 0, 0, LTDoubleMap.Green )
Draw( Image, "Pasting maps to different color channels" )


Function Draw( Image:LTImage, Text:String )
	SetScale ( 4.0, 4.0 )
	DrawImage( Image.BMaxImage, 400, 300 )
	SetScale( 1.0, 1.0 )
	DrawText( Text, 0, 0 )
	L_PrintText( "Paste example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	Flip
	Waitkey
	Cls
End Function</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=PasteToImage>
<tr><td class=doctop colspan=2>Method PasteToImage( Image:LTImage, XShift:Int = 0, YShift:Int = 0, Frame:Int = 0, Channel:Int = RGB )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Pastes heightmap to existing image frame with given shift.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>By default every color channel will be filled by heightmap values, but you can specify another channel filling mode.
<p>
See also: <a href=#ToNewImage>ToNewImage</a>, <a href=#ToNewPixmap>ToNewPixmap</a>, <a href=#PasteToPixmap>PasteToPixmap</a>, <a href=#Paste>Paste</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=PasteToPixmap>
<tr><td class=doctop colspan=2>Method PasteToPixmap( Pixmap:TPixmap, XShift:Int = 0, YShift:Int = 0, Channel:Int = RGB )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Pastes heightmap to existing pixmap with given shift.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>By default every color channel will be filled by heightmap values, but you can specify another channel filling mode.
<p>
See also: <a href=#ToNewImage>ToNewImage</a>, <a href=#ToNewPixmap>ToNewPixmap</a>, <a href=#PasteToImage>PasteToImage</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=PerlinNoise>
<tr><td class=doctop colspan=2>Method PerlinNoise( StartingXFrequency:Int, StartingYFrequency:Double, StartingAmplitude:Double, DAmplitude:Double, LayersQuantity:Int )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Fills heightmap with perlin noise.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#Blur>Blur</a>, <a href=#Enframe>Enframe</a> example.</td></tr>
<tr><td class=docleft width=1%><a href=PerlinNoise.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Const MapSize:Int = 256

L_InitGraphics()

Local DoubleMap:LTDoubleMap = New LTDoubleMap
DoubleMap.SetResolution( MapSize, MapSize )

Local Frequency:Int = 16
Local Amplitude:Double = 0.25
Local DAmplitude:Double = 0.5
Local Layers:Int = 4

Repeat
	Cls
	DoubleMap.PerlinNoise( Frequency, Frequency, Amplitude, DAmplitude, Layers )
	Local Pixmap:TPixmap = DoubleMap.ToNewPixmap()
	DrawPixmap( Pixmap, 400 - 0.5 * PixmapWidth( Pixmap ), 300 - 0.5 * PixmapHeight( Pixmap ) )		
	DrawText( "Starting frequency: " + Frequency + " ( +/- to change )", 0, 0 )
	DrawText( "Starting amplitude: " + L_TrimDouble( Amplitude ) + " ( left / right arrow to change )", 0, 16 )
	DrawText( "Starting amplitude increment: " + L_TrimDouble( DAmplitude ) + " ( up / down arrow to change )", 0, 32 )
	DrawText( "Layers quantity: " + Layers + " ( page up / page down arrow to change )", 0, 48 )
	L_PrintText( "PerlinNoise example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	Flip

	Repeat
		If KeyHit( Key_NumAdd ) Then
			If Frequency < 256 Then Frequency :* 2
			Exit
		ElseIf KeyHit( Key_NumSubtract ) Then
			If Frequency > 1 Then Frequency :/ 2
			Exit
		ElseIf KeyHit( Key_Left ) Then
			If Amplitude > 0.05 Then Amplitude :/ 2
			Exit
		ElseIf KeyHit( Key_Right ) Then
			If Amplitude < 1.0 Then Amplitude :* 2
			Exit
		ElseIf KeyHit( Key_Down ) Then
			If DAmplitude > 0.05 Then DAmplitude :/ 2
			Exit
		ElseIf KeyHit( Key_Up ) Then
			If DAmplitude < 2.0 Then DAmplitude :* 2
			Exit
		ElseIf KeyHit( Key_PageUp ) Then
			If Layers < 8 Then Layers :+ 1
			Exit
		ElseIf KeyHit( Key_PageDown ) Then
			If Layers > 1 Then Layers :- 1
			Exit
		End If
	Until KeyDown( Key_Escape )
Until KeyDown( Key_Escape )</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ToNewImage>
<tr><td class=doctop colspan=2>Method ToNewImage:LTImage( Channel:Int = RGB )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>New image.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Converts heightmap to new image with single frame.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>By default every color channel will be filled by heightmap values, but you can specify another channel filling mode.
<p>
See also: <a href=#ToNewPixmap>ToNewPixmap</a>, <a href=#PasteToImage>PasteToImage</a>, <a href=#PasteToPixmap>PasteToPixmap</a>, <a href=#Paste>Paste</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ToNewPixmap>
<tr><td class=doctop colspan=2>Method ToNewPixmap:TPixmap( Channel:Int = RGB )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>New pixmap.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Converts heightmap to new pixmap.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>By default every color channel will be filled by heightmap values, but you can specify another channel filling mode.
<p>
See also: <a href=#ToNewImage>ToNewImage</a>, <a href=#PasteToImage>PasteToImage</a>, <a href=#PasteToPixmap>PasteToPixmap</a>, <a href=#PerlinNoise>PerlinNoise</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Create>
<tr><td class=doctop colspan=2>Function Create:LTDoubleMap( XQuantity:Int, YQuantity:Int )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Created double map.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Creates double map using given resolution.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#Paste>Paste</a> example.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTDrag>
<tr><td class=doctop colspan=2>Type LTDrag Extends LTObject</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Class for implementing dragging operations.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also <a href=#LTRasterFrame>LTRasterFrame</a> example, <a href=#LTAction>LTAction</a> example.</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTDrag_fields></a>Fields Summary</th></tr><tr><td colspan=2>
<a href=#DraggingState>DraggingState</a>
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTDrag_methods></a>Methods Summary</th></tr>
<tr><td class=docleft width=1%><a href=#Dragging>Dragging</a></td><td class=docright>
Dragging method.
</td></tr>
<tr><td class=docleft width=1%><a href=#DraggingConditions>DraggingConditions</a></td><td class=docright>
Method which should return True if all dragging conditions are met.
</td></tr>
<tr><td class=docleft width=1%><a href=#DragKey>DragKey</a></td><td class=docright>
Method which should return True if drag key (or other similar controller) is down.
</td></tr>
<tr><td class=docleft width=1%><a href=#EndDragging>EndDragging</a></td><td class=docright>
Dragging ending method.
</td></tr>
<tr><td class=docleft width=1%><a href=#Execute>Execute</a></td><td class=docright>
Dragging system executing method.
</td></tr>
<tr><td class=docleft width=1%><a href=#StartDragging>StartDragging</a></td><td class=docright>
Dragging starting method.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DraggingState>
<tr><td class=doctop colspan=2>Field DraggingState:Int</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Dragging state: True if this dragging operation is currently active, False otherwise.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Dragging>
<tr><td class=doctop colspan=2>Method Dragging()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Dragging method.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Will be executed persistently during dragging process.
Fill it with commands which will accompany dragging process.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DraggingConditions>
<tr><td class=doctop colspan=2>Method DraggingConditions:Int()</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>True if all dragging conditions are met.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Method which should return True if all dragging conditions are met.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Fill it with conditions.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DragKey>
<tr><td class=doctop colspan=2>Method DragKey:Int()</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>True is dragging key is down.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Method which should return True if drag key (or other similar controller) is down.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Usually you should fill it with single line checking if dragging key is down.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=EndDragging>
<tr><td class=doctop colspan=2>Method EndDragging()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Dragging ending method.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Will be executed when dragging key will be released during dragging.
Fill it with dragging operation finalization commands.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Execute>
<tr><td class=doctop colspan=2>Method Execute()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Dragging system executing method.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Execute it persistently in your project Logic method or some object's Act() method.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=StartDragging>
<tr><td class=doctop colspan=2>Method StartDragging()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Dragging starting method.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Will be executed once when all dragging conditions are met and dragging key has been pressed.
Fill it with dragging system initialization commands.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTFixedJoint>
<tr><td class=doctop colspan=2>Type LTFixedJoint Extends LTBehaviorModel</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Fixed joint moves and rotates angular sprite as parent angular sprite moves or rotates.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#LTRevoluteJoint>LTRevoluteJoint</a>.</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTFixedJoint_functions></a>Functions Summary</th></tr>
<tr><td class=docleft width=1%><a href=#Create>Create</a></td><td class=docright>
Creates fixed joint for specified parent pivot using current pivots position.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Create>
<tr><td class=doctop colspan=2>Function Create:LTFixedJoint( ParentPivot:LTSprite )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>New fixed joint.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Creates fixed joint for specified parent pivot using current pivots position.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTFixedWaitingModel>
<tr><td class=doctop colspan=2>Type LTFixedWaitingModel Extends LTTemporaryModel</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>This model is for waiting given period of time.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>You can add behavior models which will be executed after this period of tme. Waiting model itself will be removed from the shape.
<p>
See also: <a href=#RandomWaitingModel>RandomWaitingModel</a>, <a href=#LTBehaviorModel>LTBehaviorModel</a> example.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTGraph>
<tr><td class=doctop colspan=2>Type LTGraph Extends LTShape</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Graph is a collection of pivots and line segments between them.</td></tr>
<tr><td class=docleft width=1%><a href=LTGraph.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Const PivotsQuantity:Int = 150
	Const MaxDistance:Double = 3.0
	Const MinDistance:Double = 1.0
	
	Field Graph:LTGraph = New LTGraph
	Field SelectedPivot:LTSprite
	Field Path:TList
	Field PivotVisualizer:LTVisualizer = LTVisualizer.FromHexColor( "4F4FFF" )
	Field LineSegmentVisualizer:LTVisualizer = LTContourVisualizer.FromWidthAndHexColor( 0.15, "FF4F4F", , 3.0 )
	Field PathVisualizer:LTVisualizer = LTContourVisualizer.FromWidthAndHexColor( 0.15, "4FFF4F", , 4.0 )
	
	Method Init()
		L_InitGraphics()
		L_Cursor = LTSprite.FromShape( 0, 0, 0.5, 0.5, LTSprite.Oval )
		For Local N:Int = 0 Until PivotsQuantity
			Repeat
				Local X:Double = Rnd( -15,15 )
				Local Y:Double = Rnd( -11, 11 )
				Local Passed:Int = True
				For Local Pivot:LTSprite = Eachin Graph.Pivots.Keys()
					If Pivot.DistanceToPoint( X, Y ) < MinDistance Then
						Passed = False 
						Exit
					End If
				Next
				If Passed Then
					Graph.AddPivot( LTSprite.FromShape( X, Y, 0.3, 0.3, LTSprite.Oval ) )
					Exit
				End If
			Forever
		Next
		For Local Pivot1:LTSprite = Eachin Graph.Pivots.Keys()
			For Local Pivot2:LTSprite = Eachin Graph.Pivots.Keys()
				If Pivot1 <> Pivot2 And Pivot1.DistanceTo( Pivot2 ) <= MaxDistance Then
					Local Passed:Int = True
					Local NewLineSegment:LTLineSegment = LTLineSegment.FromPivots( Pivot1, Pivot2 )
					For Local LineSegment:LTLineSegment = Eachin Graph.LineSegments.Keys()
						If LineSegment.CollidesWithLineSegment( NewLineSegment, False ) Then
							Passed = False
							Exit
						End If
					Next
					If Passed Then Graph.AddLineSegment( NewLineSegment, False )
				End If
			Next
		Next
	End Method
	
	Method Logic()
		If MouseHit( 1 ) Then
			SelectedPivot = Graph.FindPivotCollidingWithSprite( L_Cursor )
			Path = Null
		End If
		If MouseHit( 2 ) And SelectedPivot Then
			Local SelectedPivot2:LTSprite = Graph.FindPivotCollidingWithSprite( L_Cursor )
			If SelectedPivot2 Then Path = Graph.FindPath( SelectedPivot, SelectedPivot2 )
		End If
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		Graph.DrawLineSegmentsUsing( LineSegmentVisualizer )
		LTGraph.DrawPath( Path, PathVisualizer )
		Graph.DrawPivotsUsing( PivotVisualizer )
		If SelectedPivot Then SelectedPivot.DrawUsingVisualizer( PathVisualizer )
		DrawText( "Select first pivot with left mouse button and second with right one", 0, 0 )
		L_PrintText( "LTGraph, FindPath, CollidesWithLineSegment example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTGraph_methods></a>Methods Summary</th></tr>
<tr><td class=docleft width=1%><a href=#AddLineSegment>AddLineSegment</a></td><td class=docright>
Adds line to the graph.
</td></tr>
<tr><td class=docleft width=1%><a href=#AddPivot>AddPivot</a></td><td class=docright>
Adds pivot to the graph.
</td></tr>
<tr><td class=docleft width=1%><a href=#ContainsLineSegment>ContainsLineSegment</a></td><td class=docright>
Checks if graph contains given line.
</td></tr>
<tr><td class=docleft width=1%><a href=#ContainsPivot>ContainsPivot</a></td><td class=docright>
Checks if graph contains given pivot.
</td></tr>
<tr><td class=docleft width=1%><a href=#Draw>Draw</a></td><td class=docright>
Draws graph.
</td></tr>
<tr><td class=docleft width=1%><a href=#DrawLineSegmentsUsing>DrawLineSegmentsUsing</a></td><td class=docright>
Draws LineSegments using given visualizer.
</td></tr>
<tr><td class=docleft width=1%><a href=#DrawPivotsUsing>DrawPivotsUsing</a></td><td class=docright>
Draws pivots using given visualizer.
</td></tr>
<tr><td class=docleft width=1%><a href=#DrawUsingVisualizer>DrawUsingVisualizer</a></td><td class=docright>
Draws graph using another visualizer.
</td></tr>
<tr><td class=docleft width=1%><a href=#FindLineCollidingWithSprite>FindLineCollidingWithSprite</a></td><td class=docright>
Finds line which collides with given sprite.
</td></tr>
<tr><td class=docleft width=1%><a href=#FindLineSegment>FindLineSegment</a></td><td class=docright>
Finds a line in the graph for given pivots.
</td></tr>
<tr><td class=docleft width=1%><a href=#FindPath>FindPath</a></td><td class=docright>
Finds a path  between 2 given pivots of the graph.
</td></tr>
<tr><td class=docleft width=1%><a href=#FindPivotCollidingWithSprite>FindPivotCollidingWithSprite</a></td><td class=docright>
Finds pivot which collides with given sprite.
</td></tr>
<tr><td class=docleft width=1%><a href=#RemoveLineSegment>RemoveLineSegment</a></td><td class=docright>
Removes line from the graph.
</td></tr>
<tr><td class=docleft width=1%><a href=#RemovePivot>RemovePivot</a></td><td class=docright>
Remove pivot from the graph.
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTGraph_functions></a>Functions Summary</th></tr>
<tr><td class=docleft width=1%><a href=#DrawPath>DrawPath</a></td><td class=docright>
Draws path (given as list of pivots) using given visualizer.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=AddLineSegment>
<tr><td class=doctop colspan=2>Method AddLineSegment( Line:LTLineSegment, StopOnErrors:Int = True )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Adds line to the graph.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>If you'll try to add line which already exists in the graph, an error will occur.
Pivots of the line will be also inserted into the graph if they are not already there.
<p>
See also: <a href=#RemoveLine>RemoveLine</a>, <a href=#FindLineCollidingWith>FindLineCollidingWith</a>, <a href=#ContainsLine>ContainsLine</a>, <a href=#FindLine>FindLine</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=AddPivot>
<tr><td class=doctop colspan=2>Method AddPivot:TList( Pivot:LTSprite )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Adds pivot to the graph.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#RemovePivot>RemovePivot</a>, <a href=#FindPivotCollidingWith>FindPivotCollidingWith</a>, <a href=#ContainsPivot>ContainsPivot</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ContainsLineSegment>
<tr><td class=doctop colspan=2>Method ContainsLineSegment:Int( Line:LTLineSegment )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>True if line is in the graph, otherwise False.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Checks if graph contains given line.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ContainsPivot>
<tr><td class=doctop colspan=2>Method ContainsPivot:Int( Pivot:LTSprite )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>True if pivot is in the graph, otherwise False.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Checks if graph contains given pivot.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#AddPivot>AddPivot</a>, <a href=#RemovePivot>RemovePivot</a>, <a href=#FindPivotCollidingWith>FindPivotCollidingWith</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Draw>
<tr><td class=doctop colspan=2>Method Draw()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Draws graph.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>LineSegments then pivots will be drawn using graph visualizer.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DrawLineSegmentsUsing>
<tr><td class=doctop colspan=2>Method DrawLineSegmentsUsing( Visualizer:LTVisualizer )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Draws LineSegments using given visualizer.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#DrawPivotsUsing>DrawPivotsUsing</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DrawPivotsUsing>
<tr><td class=doctop colspan=2>Method DrawPivotsUsing( Visualizer:LTVisualizer )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Draws pivots using given visualizer.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#DrawLineSegmentsUsing>DrawLineSegmentsUsing</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DrawUsingVisualizer>
<tr><td class=doctop colspan=2>Method DrawUsingVisualizer( Vis:LTVisualizer )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Draws graph using another visualizer.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>LineSegments then pivots will be drawn using given visualizer.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=FindLineCollidingWithSprite>
<tr><td class=doctop colspan=2>Method FindLineCollidingWithSprite:LTLineSegment( Sprite:LTSprite )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Finds line which collides with given sprite.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=FindLineSegment>
<tr><td class=doctop colspan=2>Method FindLineSegment:LTLineSegment( Pivot1:LTSprite, Pivot2:LTSprite )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Finds a line in the graph for given pivots.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=FindPath>
<tr><td class=doctop colspan=2>Method FindPath:TList( FromPivot:LTSprite, ToPivot:LTSprite )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>List of pivots forming path between 2 give pivots if it's possible, otherwise null.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Finds a path  between 2 given pivots of the graph.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=FindPivotCollidingWithSprite>
<tr><td class=doctop colspan=2>Method FindPivotCollidingWithSprite:LTSprite( Sprite:LTSprite )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Finds pivot which collides with given sprite.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#AddPivot>AddPivot</a>, <a href=#RemovePivot>RemovePivot</a>, <a href=#ContainsPivot>ContainsPivot</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=RemoveLineSegment>
<tr><td class=doctop colspan=2>Method RemoveLineSegment( Line:LTLineSegment )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Removes line from the graph.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>If line is not in the graph, you will encounter an error.
<p>
See also: <a href=#AddLine>AddLine</a>, <a href=#FindLineCollidingWith>FindLineCollidingWith</a>, <a href=#ContainsLine>ContainsLine</a>, <a href=#FindLine>FindLine</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=RemovePivot>
<tr><td class=doctop colspan=2>Method RemovePivot( Pivot:LTSprite )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Remove pivot from the graph.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Line with this pivot will be also removed.
<p>
See also: <a href=#AddPivot>AddPivot</a>, <a href=#FindPivotCollidingWith>FindPivotCollidingWith</a>, <a href=#ContainsPivot>ContainsPivot</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DrawPath>
<tr><td class=doctop colspan=2>Function DrawPath( Path:TList, Visualizer:LTVisualizer )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Draws path (given as list of pivots) using given visualizer.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTImage>
<tr><td class=doctop colspan=2>Type LTImage Extends LTObject</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Image class.</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTImage_methods></a>Methods Summary</th></tr>
<tr><td class=docleft width=1%><a href=#Draw>Draw</a></td><td class=docright>
Draws image using given coordinates and size.
</td></tr>
<tr><td class=docleft width=1%><a href=#FramesQuantity>FramesQuantity</a></td><td class=docright>
Returns frames quantity of given image.
</td></tr>
<tr><td class=docleft width=1%><a href=#Height>Height</a></td><td class=docright>
Returns height of image.
</td></tr>
<tr><td class=docleft width=1%><a href=#Init>Init</a></td><td class=docright>
Initializes image.
</td></tr>
<tr><td class=docleft width=1%><a href=#SetHandle>SetHandle</a></td><td class=docright>
Sets handle of image.
</td></tr>
<tr><td class=docleft width=1%><a href=#Width>Width</a></td><td class=docright>
Returns width of image.
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTImage_functions></a>Functions Summary</th></tr>
<tr><td class=docleft width=1%><a href=#FromFile>FromFile</a></td><td class=docright>
Creates new image from file with specified cell quantities for splitting.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Draw>
<tr><td class=doctop colspan=2>Method Draw( X:Double, Y:Double, Width:Double, Height:Double, Frame:Int )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Draws image using given coordinates and size.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=FramesQuantity>
<tr><td class=doctop colspan=2>Method FramesQuantity:Int()</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Frames quantity of given image.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Returns frames quantity of given image.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Height>
<tr><td class=doctop colspan=2>Method Height:Double()</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Height of image in pixels.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Returns height of image.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Init>
<tr><td class=doctop colspan=2>Method Init()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Initializes image.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Splits image by XCells x YCells grid. Will be executed after loading image object from XML file.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SetHandle>
<tr><td class=doctop colspan=2>Method SetHandle( X:Double, Y:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sets handle of image.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Values should be in 0.0...1.0 interval.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Width>
<tr><td class=doctop colspan=2>Method Width:Double()</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Width of image in pixels.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Returns width of image.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=FromFile>
<tr><td class=doctop colspan=2>Function FromFile:LTImage( Filename:String, XCells:Int = 1, YCells:Int = 1 )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>New image (LTImage).</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Creates new image from file with specified cell quantities for splitting.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTIntMap>
<tr><td class=doctop colspan=2>Type LTIntMap Extends LTMap</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>IntMap is basically a 2d int array.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTIsButtonActionDown>
<tr><td class=doctop colspan=2>Type LTIsButtonActionDown Extends LTConditionalModel</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>This model checks if button action is down and attaches corresponding lists of models to the shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Same as LTIsModelActive, but TrueModels will be attached if button action is down and FalseModels otherwise.
<p>
See also: <a href=#LTBehaviorModel>LTBehaviorModel</a> example.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTIsModelActive>
<tr><td class=doctop colspan=2>Type LTIsModelActive Extends LTConditionalModel</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>This model checks if model active and attaches corresponding lists of models to the shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>If model is active, models from TrueModels list will be attached to the shape, otherwise models from FalseModels list will be attached.
This conditional model will be removed from shape instantly after doing its job.
<p>
See also: <a href=#LTBehaviorModel>LTBehaviorModel</a> example.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTKeyboardKey>
<tr><td class=doctop colspan=2>Type LTKeyboardKey Extends LTPushable</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Class for keyboard keys.</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTKeyboardKey_functions></a>Functions Summary</th></tr>
<tr><td class=docleft width=1%><a href=#Create>Create</a></td><td class=docright>
Creates keyboard key object.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Create>
<tr><td class=doctop colspan=2>Function Create:LTKeyboardKey( Code:Int )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>New object of keyboard key with given code.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Creates keyboard key object.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTLayer>
<tr><td class=doctop colspan=2>Type LTLayer Extends LTShape</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Layer is the group of sprites which have bounds.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also <a href=#DirectTo>DirectTo</a> example.</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTLayer_fields></a>Fields Summary</th></tr><tr><td colspan=2>
<a href=#Bounds>Bounds</a>
, 
<a href=#Children>Children</a>
, 
<a href=#MixContent>MixContent</a>
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTLayer_methods></a>Methods Summary</th></tr>
<tr><td class=docleft width=1%><a href=#Act>Act</a></td><td class=docright>
Acting method.
</td></tr>
<tr><td class=docleft width=1%><a href=#CountSprites>CountSprites</a></td><td class=docright>
Counts quantity of sprites inside the layer.
</td></tr>
<tr><td class=docleft width=1%><a href=#FindShape>FindShape</a></td><td class=docright>
Finds shape with given name.
</td></tr>
<tr><td class=docleft width=1%><a href=#FindShapeWithParameter>FindShapeWithParameter</a></td><td class=docright>
Finds shape of class with given name with parameter with given name and value.
</td></tr>
<tr><td class=docleft width=1%><a href=#FindShapeWithType>FindShapeWithType</a></td><td class=docright>
Finds shape of class with given name.
</td></tr>
<tr><td class=docleft width=1%><a href=#Init>Init</a></td><td class=docright>
Initialization method.
</td></tr>
<tr><td class=docleft width=1%><a href=#Remove>Remove</a></td><td class=docright>
Removes the shape from layer.
</td></tr>
<tr><td class=docleft width=1%><a href=#RemoveAllOfType>RemoveAllOfType</a></td><td class=docright>
Removes all shapes of class with given name from layer.
</td></tr>
<tr><td class=docleft width=1%><a href=#SetBounds>SetBounds</a></td><td class=docright>
Sets the bounds of layer to given shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#ShowModels>ShowModels</a></td><td class=docright>
Shows all behavior models attached to shape with their status.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Bounds>
<tr><td class=doctop colspan=2>Field Bounds:LTShape</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Rectangular shape of layer bounds.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Children>
<tr><td class=doctop colspan=2>Field Children:TList = New TList</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>List of shapes.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=MixContent>
<tr><td class=doctop colspan=2>Field MixContent:Int</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Flag which defines if layer content should be mixed while displaying.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Some conditions should be met to display mixed content correctly:
<ul><li>Mixed content layer should contain at least one tile map.
<li>All maps in layer should have equal tile/cell size.
<li>All tile maps in layer should have equal corner coordinates like ( N * CellWidth, M * CellHeight ) where N and M is integer.
<li>All tile maps in layer should have equal horizontal and vertical size in tiles.</ul>
If this layer contains sprites or other layers they will not be drawn.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Act>
<tr><td class=doctop colspan=2>Method Act()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Acting method.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Every child shape will be acted.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=CountSprites>
<tr><td class=doctop colspan=2>Method CountSprites:Int()</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Quantity of sprites inside layer and included layers.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Counts quantity of sprites inside the layer.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=FindShape>
<tr><td class=doctop colspan=2>Method FindShape:LTShape( Name:String, IgnoreError:Int = False )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>First found shape with given name.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Finds shape with given name.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>IgnoreError parameter should be set to True if you aren't sure is the corresponding shape inside this layer.
<p>
See also: <a href=#Parallax>Parallax</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=FindShapeWithParameter>
<tr><td class=doctop colspan=2>Method FindShapeWithParameter:LTShape( ParameterName:String, ParameterValue:String, ShapeType:String = "", IgnoreError:Int = False )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>First found layer shape of class with given name and parameter with given name and value.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Finds shape of class with given name with parameter with given name and value.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>IgnoreError parameter should be set to True if you aren't sure is the corresponding shape inside this layer.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=FindShapeWithType>
<tr><td class=doctop colspan=2>Method FindShapeWithType:LTShape( ShapeType:String, Name:String = "", IgnoreError:Int = False )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>First found shape of class of class with given name.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Finds shape of class with given name.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>IgnoreError parameter should be set to True if you aren't sure is the corresponding shape inside this layer.
You can specify optional Name parameter to check only shapes with this name.
<p>
See also: <a href=#Parallax>Parallax</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Init>
<tr><td class=doctop colspan=2>Method Init()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Initialization method.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Every child shape will be initialized by default.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Remove>
<tr><td class=doctop colspan=2>Method Remove( Shape:LTShape )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Removes the shape from layer.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Included layers and sprite maps will be also checked.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=RemoveAllOfType>
<tr><td class=doctop colspan=2>Method RemoveAllOfType( TypeName:String )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Removes all shapes of class with given name from layer.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Included layers will be also checked.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SetBounds>
<tr><td class=doctop colspan=2>Method SetBounds( Shape:LTShape )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sets the bounds of layer to given shape.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ShowModels>
<tr><td class=doctop colspan=2>Method ShowModels:Int( Y:Int = 0, Shift:String = "" )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Shows all behavior models attached to shape with their status.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTLine>
<tr><td class=doctop colspan=2>Type LTLine Extends LTShape</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Line is represented by A B and C values in Ax + Bx + C = 0 equation.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTLineSegment>
<tr><td class=doctop colspan=2>Type LTLineSegment Extends LTShape</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>It's line section between 2 pivots (sprites centers).</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTLineSegment_fields></a>Fields Summary</th></tr><tr><td colspan=2>
<a href=#Pivot>Pivot</a>
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTLineSegment_methods></a>Methods Summary</th></tr>
<tr><td class=docleft width=1%><a href=#CollidesWithLineSegment>CollidesWithLineSegment</a></td><td class=docright>
Checks if the line section collides with given line.
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTLineSegment_functions></a>Functions Summary</th></tr>
<tr><td class=docleft width=1%><a href=#FromPivots>FromPivots</a></td><td class=docright>
Creates line section between two pivots.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Pivot>
<tr><td class=doctop colspan=2>Field Pivot:LTSprite[] = New LTSprite[ 2 ]</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Pivots array.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=CollidesWithLineSegment>
<tr><td class=doctop colspan=2>Method CollidesWithLineSegment:Int( LineSegment:LTLineSegment, IncludingPivots:Int = True )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>True if the line section collides with given line, otherwise false.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Checks if the line section collides with given line.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>You can specify are pivots needs to be checked for collision too (e. g. line sections have common pivot).
<p>
See also: <a href=#LTGraph>LTGraph</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=FromPivots>
<tr><td class=doctop colspan=2>Function FromPivots:LTLineSegment( Pivot1:LTSprite, Pivot2:LTSprite, Segment:LTLineSegment = Null )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>New line.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Creates line section between two pivots.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#PlaceBetween>PlaceBetween</a> example.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTMap>
<tr><td class=doctop colspan=2>Type LTMap Extends LTShape</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Common object for maps.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Map is object with 2d array.</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTMap_fields></a>Fields Summary</th></tr><tr><td colspan=2>
<a href=#XQuantity>XQuantity</a>
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTMap_methods></a>Methods Summary</th></tr>
<tr><td class=docleft width=1%><a href=#SetResolution>SetResolution</a></td><td class=docright>
Sets resolution of the map.
</td></tr>
<tr><td class=docleft width=1%><a href=#Stretch>Stretch</a></td><td class=docright>
Stretches the map by integer values.
</td></tr>
<tr><td class=docleft width=1%><a href=#WrapX>WrapX</a></td><td class=docright>
Wrapping first index.
</td></tr>
<tr><td class=docleft width=1%><a href=#WrapY>WrapY</a></td><td class=docright>
Wrapping second map index.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=XQuantity>
<tr><td class=doctop colspan=2>Field XQuantity:Int, YQuantity:Int</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Dimensions of the array.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SetResolution>
<tr><td class=doctop colspan=2>Method SetResolution( NewXQuantity:Int, NewYQuantity:Int )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sets resolution of the map.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>For some objects resolutions which are powers of 2 are necessary or will work faster.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Stretch>
<tr><td class=doctop colspan=2>Method Stretch:LTMap( XMultiplier:Int, YMultiplier:Int )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Stretches the map by integer values.</td></tr>
<tr><td class=docleft width=1%><a href=Stretch.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Incbin "tiles.png"

Const TileMapWidth:Int = 4
Const TileMapHeight:Int = 3

Local TileSet:LTTileSet = LTTileSet.Create( LTImage.FromFile( "incbin::tiles.png", 8, 4 ) )
Local TileMap:LTTileMap = LTTileMap.Create( TileSet, TileMapWidth, TileMapHeight )

L_InitGraphics()
TileMap.SetSize( TileMapWidth * 2, TileMapHeight * 2 )
For Local Y:Int = 0 Until TileMapHeight
	For Local X:Int = 0 Until TileMapWidth
		TileMap.SetTile( X, Y, Rand( 1, 31 ) )
	Next
Next

For Local N:Int = 1 To 3
	Cls
	TileMap.Draw()
	DrawText( "Press any key to stretch tilemap by 2 times", 0, 0 )
	L_PrintText( "Stretch example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	Flip
	WaitKey
	TileMap.Stretch( 2, 2 )
	TileMap.AlterSize( 2, 2 )
Next</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=WrapX>
<tr><td class=doctop colspan=2>Method WrapX:Int( Value:Int )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Wrapped first index of the map.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Wrapping first index.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Wrapping means to keep index in the dimension limits.
For example, if you will wrap index "5" for map with resolution ( 4x4 ) it will be keeped in 0...3 interval and turned to 1 as 5 + 4 * ( -1 ) = 1.
If you wrap index "-2" for the same map, you will get 2 as -2 + 4 * 1 = 2.
<p>
See also: <a href=#WrapY>WrapY</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=WrapY>
<tr><td class=doctop colspan=2>Method WrapY:Int( Value:Int )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Wrapped second index of the map.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Wrapping second map index.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#WrapX>WrapX</a>.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTMarchingAnts>
<tr><td class=doctop colspan=2>Type LTMarchingAnts Extends LTVisualizer</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>This visualizer draws rectangular animated dashed frame around the shape.</td></tr>
<tr><td class=docleft width=1%><a href=LTMarchingAnts.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Incbin "kolobok.png"

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Const SpritesQuantity:Int = 50
	
	Field Layer:LTLayer = New LTLayer
	Field Cursor:TCursor = New TCursor
	Field SpriteImage:LTImage = LTImage.FromFile( "incbin::kolobok.png" )
	Field Selected:LTSprite
	Field MarchingAnts:LTMarchingAnts = New LTMarchingAnts
	
	Method Init()
		For Local N:Int = 1 To SpritesQuantity
			Local Sprite:LTSprite = LTSprite.FromShape( Rnd( -15, 15 ), Rnd( -11, 11 ), , , LTSprite.Oval, Rnd( 360 ) )
			Sprite.SetDiameter( Rnd( 1, 3 ) )
			Sprite.Visualizer.SetRandomColor()
			Sprite.Visualizer.Image = SpriteImage
			Layer.AddLast( Sprite )
		Next
		
		Cursor.SetDiameter( 0.5 )
		L_InitGraphics()
	End Method
	
	Method Logic()
		Cursor.Act()
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		Layer.Draw()
		If Selected Then Selected.DrawUsingVisualizer( Example.MarchingAnts )
		DrawText( "Select Sprite by left-clicking on it", 0, 0 )
		L_PrintText( "LTMarchingAnts example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type



Type TCursor Extends LTSprite
	Field Handler:TSelectionHandler = New TSelectionHandler
	
	Method Act()
		SetMouseCoords()
		If MouseHit( 1 ) Then
			Example.Selected = Null
			CollisionsWithLayer( Example.Layer, Handler )
		End If
	End Method
End Type



Type TSelectionHandler Extends LTSpriteCollisionHandler
	Method HandleCollision( Sprite1:LTSprite, Sprite2:LTSprite )
		Example.Selected = Sprite2
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTMarchingAnts_functions></a>Functions Summary</th></tr>
<tr><td class=docleft width=1%><a href=#DrawMARect>DrawMARect</a></td><td class=docright>
Draws voluntary marching ants rectangle.
</td></tr>
<tr><td class=docleft width=1%><a href=#MakeMALine>MakeMALine</a></td><td class=docright>
Creates marching ants line.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DrawMARect>
<tr><td class=doctop colspan=2>Function DrawMARect( X:Int, Y:Int, Width:Int, Height:Int )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Draws voluntary marching ants rectangle.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=MakeMALine>
<tr><td class=doctop colspan=2>Function MakeMALine:TImage( Width:Int, Pos:Int Var )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Creates marching ants line.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTModelActivator>
<tr><td class=doctop colspan=2>Type LTModelActivator Extends LTBehaviorModel</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>This model activates another model.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>If you will set Permanent parameter to True, activator will not be instantly removed after doing its job.
<p>
See also: <a href=#LTModelDeactivator>LTModelDeactivator</a>, <a href=#LTBehaviorModel>LTBehaviorModel</a> example.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTModelDeactivator>
<tr><td class=doctop colspan=2>Type LTModelDeactivator Extends LTBehaviorModel</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>This model deactivates another model.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>If you will set Permanent parameter to True, deactivator will not be instantly removed after doing its job.
<p>
See also: <a href=#LTModelActivator>LTModelActivator</a>, <a href=#LTBehaviorModel>LTBehaviorModel</a> example.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTModelStack>
<tr><td class=doctop colspan=2>Type LTModelStack Extends LTBehaviorModel</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Model stack consists of several models and executes first active model in list.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Usually it is used for animation stack for shape because only one animation can be played for shape at every moment.
This way you can set the priorities of animations. Use Add() method to add models to the stack.
<p>
See also: <a href=#LTAnimationModel>LTAnimationModel</a>, <a href=#LTBehaviorModel>LTBehaviorModel</a> example.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTMouseButton>
<tr><td class=doctop colspan=2>Type LTMouseButton Extends LTPushable</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Class for mouse buttons.</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTMouseButton_functions></a>Functions Summary</th></tr>
<tr><td class=docleft width=1%><a href=#Create>Create</a></td><td class=docright>
Creates mouse button object.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Create>
<tr><td class=doctop colspan=2>Function Create:LTMouseButton( Num:Int )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>New object of mouse button with given number.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Creates mouse button object.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTMouseWheelAction>
<tr><td class=doctop colspan=2>Type LTMouseWheelAction Extends LTPushable</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Class for mouse wheel rollings.</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTMouseWheelAction_functions></a>Functions Summary</th></tr>
<tr><td class=docleft width=1%><a href=#Create>Create</a></td><td class=docright>
Creates mouse wheel roll action object.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Create>
<tr><td class=doctop colspan=2>Function Create:LTMouseWheelAction( Direction:Int )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>New object of mouse wheel roll action of given direction.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Creates mouse wheel roll action object.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTObject>
<tr><td class=doctop colspan=2>Type LTObject</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Global object class.</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTObject_methods></a>Methods Summary</th></tr>
<tr><td class=docleft width=1%><a href=#SaveToFile>SaveToFile</a></td><td class=docright>
Saves object with all contents to file.
</td></tr>
<tr><td class=docleft width=1%><a href=#XMLIO>XMLIO</a></td><td class=docright>
Method for loading / saving object.
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTObject_functions></a>Functions Summary</th></tr>
<tr><td class=docleft width=1%><a href=#LoadFromFile>LoadFromFile</a></td><td class=docright>
Loads object with all contents from file.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SaveToFile>
<tr><td class=doctop colspan=2>Method SaveToFile( FileName:String )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Saves object with all contents to file.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#LoadFromFile>LoadFromFile</a>, <a href=#XMLIO>XMLIO</a>.</td></tr>
<tr><td class=docleft width=1%><a href=SaveToFile.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic

Import dwlab.frmwork
Import dwlab.graphicsdrivers

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Const SpritesQuantity:Int = 70

	Field Layer:LTLayer = New LTLayer
	Field Ang:Double
	Field OldSprite:LTSprite

	Method Init()
		L_InitGraphics()
		For Local N:Int = 1 To SpritesQuantity
			OldSprite = LTSprite.FromShape( Rnd( -15, 15 ), Rnd( -11, 11 ), , , LTSprite.Oval, Rnd( 360 ), 5 )
			OldSprite.SetDiameter( Rnd( 0.5, 1.5 ) )
			OldSprite.Visualizer.SetRandomColor()
			Layer.AddLast( OldSprite )
		Next
	End Method
	
	Method Logic()
		Ang = 1500 * Sin( 7 * Time )
		For Local Sprite:LTSprite = Eachin Layer
			OldSprite.DirectTo( Sprite )
			OldSprite.Angle :+ L_PerSecond( Ang ) + Rnd( -45, 45 )
			Sprite.MoveForward()
			OldSprite = Sprite
		Next
		
		If KeyHit( Key_F2 ) Then Layer.SaveToFile( "sprites.lw" )
		If KeyHit( Key_F3 ) Then Layer = LTLayer( LTObject.LoadFromFile( "sprites.lw" ) )
		
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		Layer.Draw()
		DrawText( "Press F2 to save and F3 to load position of sprites", 0, 0 )
		L_PrintText( "LoadFromFile, SaveToFile example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=XMLIO>
<tr><td class=doctop colspan=2>Method XMLIO( XMLObject:LTXMLObject )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Method for loading / saving object.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>This method is for storing object fields into XML object for saving and retrieving object fields from XML object for loading.
You can put different XMLObject commands and your own algorithms for loading / saving data structures here.
<p>
See also: <a href=#ManageChildArray>ManageChildArray</a>, <a href=#ManageChildList>ManageChildList</a>, <a href=#ManageDoubleAttribute>ManageDoubleAttribute</a>, <a href=#ManageIntArrayAttribute>ManageIntArrayAttribute</a>
<a href=#ManageIntAttribute>ManageIntAttribute</a>, <a href=#ManageListField>ManageListField</a>, <a href=#ManageObjectArrayField>ManageObjectArrayField</a>, <a href=#ManageObjectAttribute>ManageObjectAttribute</a>, <a href=#ManageObjectField>ManageObjectField</a>
<a href=#ManageObjectMapField>ManageObjectMapField</a>, <a href=#ManageStringAttribute>ManageStringAttribute</a>.</td></tr>
<tr><td class=docleft width=1%><a href=XMLIO.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Field People:TList = New TList
	Field Professions:TList = New TList
	
	Method Init()
		L_InitGraphics()
		For Local Name:String = Eachin [ "director", "engineer", "dispatcher", "driver", "secretary", "bookkeeper", "supply agent", "bookkeeper chief", ..
				"lawyer", "programmer", "administrator", "courier" ]
			TProfession.Create( Name )
		Next
	End Method
	
	Method Logic()
		If KeyHit( Key_G ) Then
			People.Clear()
			For Local N:Int = 1 To 10
				TWorker.Create()
			Next
		ElseIf KeyHit( Key_C ) Then
			People.Clear()
		ElseIf KeyHit( Key_F2 ) Then
			SaveToFile( "people.dat" )
		ElseIf KeyHit( Key_F3 ) Then
			LoadFromFile( "people.dat" )
		End If
			
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		DrawText( "Press G to generate data, C to clear, F2 to save, F3 to load", 0, 0 )
		Local Y:Int = 16
		For Local Worker:TWorker = Eachin People
			DrawText( Worker.FirstName + " " + Worker.LastName + ", " + Worker.Age + " years, " + L_TrimDouble( Worker.Height, 1 ) + " cm, " + ..
					L_TrimDouble( Worker.Weight, 1 ) + " kg, " + Worker.Profession.Name , 0, Y )
			Y :+ 16
		Next
		L_PrintText( "XMLIO, Manage... example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
	
	Method XMLIO( XMLObject:LTXMLObject )
		Super.XMLIO( XMLObject )
		XMLObject.ManageListField( "professions", Example.Professions )
		XMLObject.ManageChildList( Example.People )
	End Method
End Type



Type TProfession Extends LTObject
	Field Name:String
	
	Function Create:TProfession( Name:String )
		Local Profession:TProfession = New TProfession
		Profession.Name = Name
		Example.Professions.AddLast( Profession )
	End Function
	
	Method XMLIO( XMLObject:LTXMLObject )
		Super.XMLIO( XMLObject )
		XMLObject.ManageStringAttribute( "name", Name )
	End Method
End Type



Type TWorker Extends LTObject
	Field FirstName:String
	Field LastName:String
	Field Age:Int
	Field Height:Double
	Field Weight:Double
	Field Profession:TProfession
	
	Function Create()
		Local Worker:TWorker = New TWorker
		Worker.FirstName = [ "Alexander", "Alex", "Dmitry", "Sergey", "Andrey", "Anton", "Artem", "Vitaly", "Vladimir", "Denis", "Eugene", ..
				"Igor", "Constantine", "Max", "Michael", "Nicholas", "Paul", "Roman", "Stanislaw", "Anatoly", "Boris", "Vadim", "Valentine", ..
				"Valery", "Victor", "Vladislav", "Vyacheslav", "Gennady", "George", "Gleb", "Egor", "Ilya", "Cyril", "Leonid", "Nikita", "Oleg", ..
				"Peter", "Feodor", "Yury", "Ian", "Jaroslav" ][ Rand( 0, 40 ) ]
		Worker.LastName = [ "Ivanov", "Smirnov", "Kuznetsov", "Popov", "Vasiliev", "Petrov", "Sokolov", "Mikhailov", "Novikov", ..
				"Fedorov", "Morozov", "Volkov", "Alekseev", "Lebedev", "Semenov", "Egorov", "Pavlov", "Kozlov", "Stepanov", "Nikolaev", ..
				"Orlovv", "Andreev", "Makarov", "Nikitin", "Zakharov" ][ Rand( 0, 24 ) ]
		Worker.Age = Rand( 20, 50 )
		Worker.Height = Rnd( 155, 180 )
		Worker.Weight = Rnd( 50, 90 )
		Worker.Profession = TProfession( Example.Professions.ValueAtIndex( Rand( 0, Example.Professions.Count() - 1 ) ) )
		Example.People.AddLast( Worker )
	End Function
	
	Method XMLIO( XMLObject:LTXMLObject )
		' !!!!!! Remember to always include this string at the beginning of the method !!!!!!
		
		Super.XMLIO( XMLObject )
		
		' !!!!!! !!!!!! 
		
		XMLObject.ManageStringAttribute( "first-name", FirstName )
		XMLObject.ManageStringAttribute( "last-name", LastName )
		XMLObject.ManageIntAttribute( "age", Age )
		XMLObject.ManageDoubleAttribute( "height", Height )
		XMLObject.ManageDoubleAttribute( "weight", Weight )
		
		' !!!!!! Remember to equate object to to result of ManageObjectAttribute !!!!!!
		
		Profession = TProfession( XMLObject.ManageObjectField( "profession", Profession ) )
		
		' !!!!!! A = TA( XMLObject.ManageObjectAttribute( "name", A ) ) !!!!!!
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=LoadFromFile>
<tr><td class=doctop colspan=2>Function LoadFromFile:LTObject( FileName:String, UseIncbin:Int = -1, XMLObject:LTXMLObject = Null )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Loads object with all contents from file.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#SaveToFile>SaveToFile</a>, <a href=#XMLIO>XMLIO</a>.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTProject>
<tr><td class=doctop colspan=2>Type LTProject Extends LTObject</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Class for main project and subprojects.</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTProject_fields></a>Fields Summary</th></tr><tr><td colspan=2>
<a href=#Exiting>Exiting</a>
, 
<a href=#Pass>Pass</a>
, 
<a href=#Time>Time</a>
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTProject_methods></a>Methods Summary</th></tr>
<tr><td class=docleft width=1%><a href=#DeInit>DeInit</a></td><td class=docright>
Deinitialization method.
</td></tr>
<tr><td class=docleft width=1%><a href=#Execute>Execute</a></td><td class=docright>
Executes the project.
</td></tr>
<tr><td class=docleft width=1%><a href=#Init>Init</a></td><td class=docright>
Initialization method.
</td></tr>
<tr><td class=docleft width=1%><a href=#InitGraphics>InitGraphics</a></td><td class=docright>
Graphics initialization method.
</td></tr>
<tr><td class=docleft width=1%><a href=#InitSound>InitSound</a></td><td class=docright>
Sound initialization method.
</td></tr>
<tr><td class=docleft width=1%><a href=#LoadAndInitLayer>LoadAndInitLayer</a></td><td class=docright>
Loads and initializes layer and all its child objects from previously loaded world.
</td></tr>
<tr><td class=docleft width=1%><a href=#LoadLayer>LoadLayer</a></td><td class=docright>
Loads layer from world.
</td></tr>
<tr><td class=docleft width=1%><a href=#Logic>Logic</a></td><td class=docright>
Logic method.
</td></tr>
<tr><td class=docleft width=1%><a href=#Render>Render</a></td><td class=docright>
Rendering method.
</td></tr>
<tr><td class=docleft width=1%><a href=#SwitchTo>SwitchTo</a></td><td class=docright>
Switches the project execution to given.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Exiting>
<tr><td class=doctop colspan=2>Field Exiting:Int</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Exit flag.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Set it to True to exit project.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Pass>
<tr><td class=doctop colspan=2>Field Pass:Int</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Current logic frame number.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Time>
<tr><td class=doctop colspan=2>Field Time:Double = 0.0</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Current game time in seconds (starts from 0).</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#PerSecond>PerSecond</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DeInit>
<tr><td class=doctop colspan=2>Method DeInit()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Deinitialization method.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>It will be executed before exit from the project.
<p>
See also: <a href=#Init>Init</a>, <a href=#InitGraphics>InitGraphics</a>, <a href=#InitSound>InitSound</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Execute>
<tr><td class=doctop colspan=2>Method Execute()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Executes the project.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>You cannot use this method to execute more projects if the project is already running, use Insert() method instead.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Init>
<tr><td class=doctop colspan=2>Method Init()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Initialization method.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Fill it with project initialization commands.
<p>
See also: <a href=#InitGraphics>InitGraphics</a>, <a href=#InitSound>InitSound</a>, <a href=#DeInit>DeInit</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=InitGraphics>
<tr><td class=doctop colspan=2>Method InitGraphics()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Graphics initialization method.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>It will be relaunched after changing graphics driver (via profiles). You should put font loading code there if you have any.
<p>
See also: <a href=#Init>Init</a>, <a href=#InitSound>InitSound</a>, <a href=#DeInit>DeInit</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=InitSound>
<tr><td class=doctop colspan=2>Method InitSound()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sound initialization method.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>It will be relaunched after changing sound driver (via profiles). You should put sound loading code there if you have any.
<p>
See also: <a href=#Init>Init</a>, <a href=#InitGraphics>InitGraphics</a>, <a href=#DeInit>DeInit</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=LoadAndInitLayer>
<tr><td class=doctop colspan=2>Method LoadAndInitLayer( NewLayer:LTLayer Var, Layer:LTLayer )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Loads and initializes layer and all its child objects from previously loaded world.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=LoadLayer>
<tr><td class=doctop colspan=2>Method LoadLayer:LTLayer( Layer:LTLayer )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Loads layer from world.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Logic>
<tr><td class=doctop colspan=2>Method Logic()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Logic method.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Fill it with project mechanics commands. Will be executed "LogicFPS" times per second.
<p>
See also: <a href=#LogicFPS>LogicFPS</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Render>
<tr><td class=doctop colspan=2>Method Render()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Rendering method.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Fill it with objects drawing commands. Will be executed as many times as possible, while keeping logic frame rate.
<p>
See also: <a href=#MinFPS>MinFPS</a>, <a href=#FPS>FPS</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SwitchTo>
<tr><td class=doctop colspan=2>Method SwitchTo( Project:LTProject )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Switches the project execution to given.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Use this command instead of calling another Execute() method.
<p>
See also: <a href=#LTButtonAction>LTButtonAction</a> example.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTPushable>
<tr><td class=doctop colspan=2>Type LTPushable Extends LTObject</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Common class for keys, buttons and mouse wheel rolls.</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTPushable_methods></a>Methods Summary</th></tr>
<tr><td class=docleft width=1%><a href=#GetName>GetName</a></td><td class=docright>
Name of pushable object.
</td></tr>
<tr><td class=docleft width=1%><a href=#IsDown>IsDown</a></td><td class=docright>
Function which checks is the object pressed.
</td></tr>
<tr><td class=docleft width=1%><a href=#WasPressed>WasPressed</a></td><td class=docright>
Function which checks was the object pressed.
</td></tr>
<tr><td class=docleft width=1%><a href=#WasUnpressed>WasUnpressed</a></td><td class=docright>
Function which checks was the object unpressed.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=GetName>
<tr><td class=doctop colspan=2>Method GetName:String()</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Name of object.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Name of pushable object.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>You can use LocalizeString to get name in current language.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=IsDown>
<tr><td class=doctop colspan=2>Method IsDown:Int()</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>True if pushable object is currently pressed.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Function which checks is the object pressed.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=WasPressed>
<tr><td class=doctop colspan=2>Method WasPressed:Int()</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>True if pushable object was presed during this project cycle.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Function which checks was the object pressed.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=WasUnpressed>
<tr><td class=doctop colspan=2>Method WasUnpressed:Int()</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>True if pushable object was unpresed during this project cycle.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Function which checks was the object unpressed.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTRandomWaitingModel>
<tr><td class=doctop colspan=2>Type LTRandomWaitingModel Extends LTTemporaryModel</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>This model is for waiting random period of time in some interval.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Same as LTFixedWaitingModel, but you can specify interval in which time period will be selected.
<p>
See also: <a href=#FixedWaitingModel>FixedWaitingModel</a>, <a href=#LTBehaviorModel>LTBehaviorModel</a> example.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTRasterFrame>
<tr><td class=doctop colspan=2>Type LTRasterFrame Extends LTImage</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Special image subclass to display raster frame.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>After creating this LTImage sub-class you have to load image. This image should consist of 9 images aligned by 3x3 grid.
When raster frame have been drawn as the rectangular shape which represents sprite on the screen, this shape will be constructed following
way: corner images will be put in corners of the shape, side images will be stretched horizontaly or vertically to fit side bars between them and center
image will be stretched in both direction to fully cover remaining center rectangle.</td></tr>
<tr><td class=docleft width=1%><a href=LTRasterFrame.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Incbin "border.png"

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Field Frame:LTSprite
	Field FrameImage:LTRasterFrame = LTRasterFrame.FromFileAndBorders( "incbin::border.png", 8, 8, 8, 8 )
	Field Layer:LTLayer = New LTLayer
	Field CreateFrame:TCreateFrame = New TCreateFrame
	
	Method Init()
		L_InitGraphics()
	End Method
	
	Method Logic()
		CreateFrame.Execute()
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		Layer.Draw()
		If Frame Then Frame.Draw()
		DrawText( "Drag left mouse button to create frames", 0, 0 )
		L_PrintText( "LTRasterFrame, LTDrag example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type



Type TCreateFrame Extends LTDrag
	Field StartingX:Double, StartingY:Double
	
	Method DragKey:Int()
		Return MouseDown( 1 )
	End Method

	Method StartDragging()
		StartingX = L_Cursor.X
		StartingY = L_Cursor.Y
		Example.Frame = LTSprite.FromShape( L_Cursor.X, L_Cursor.Y, 0, 0 )
		Example.Frame.Visualizer.SetRandomColor()
		Example.Frame.Visualizer.Image = Example.FrameImage
	End Method

	Method Dragging()
		Local CornerX:Double, CornerY:Double
		If StartingX < L_Cursor.X Then CornerX = StartingX Else CornerX = L_Cursor.X
		If StartingY < L_Cursor.Y Then CornerY = StartingY Else CornerY = L_Cursor.Y
		Example.Frame.SetSize( Abs( StartingX - L_Cursor.X ), Abs( StartingY - L_Cursor.Y ) )
		Example.Frame.SetCornerCoords( CornerX, CornerY )
	End Method
	
	Method EndDragging()
		Example.Layer.AddLast( Example.Frame )
		Example.Frame = Null
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTRasterFrame_fields></a>Fields Summary</th></tr><tr><td colspan=2>
<a href=#BottomBorder>BottomBorder</a>
, 
<a href=#LeftBorder>LeftBorder</a>
, 
<a href=#Proportional>Proportional</a>
, 
<a href=#RightBorder>RightBorder</a>
, 
<a href=#TopBorder>TopBorder</a>
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTRasterFrame_methods></a>Methods Summary</th></tr>
<tr><td class=docleft width=1%><a href=#Init>Init</a></td><td class=docright>
Initialization function.
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTRasterFrame_functions></a>Functions Summary</th></tr>
<tr><td class=docleft width=1%><a href=#FromFileAndBorders>FromFileAndBorders</a></td><td class=docright>
Raster frame creation function.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=BottomBorder>
<tr><td class=doctop colspan=2>Field BottomBorder:Int = 1</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Width of the bottom row of 3x3 grid which will be used for frame's bottom.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=LeftBorder>
<tr><td class=doctop colspan=2>Field LeftBorder:Int = 1</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Width of the left column of 3x3 grid part which will be used for left frame side.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Proportional>
<tr><td class=doctop colspan=2>Field Proportional:Int</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Flag which switches to another frame displaying algorhytm.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=RightBorder>
<tr><td class=doctop colspan=2>Field RightBorder:Int = 1</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Width of the right column of 3x3 grid which will be used for right frame side.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=TopBorder>
<tr><td class=doctop colspan=2>Field TopBorder:Int = 1</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Width of the top row of 3x3 grid which will be used for frame's top.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Init>
<tr><td class=doctop colspan=2>Method Init()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Initialization function.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Main image will be splitted into 9 images and put into array for using.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=FromFileAndBorders>
<tr><td class=doctop colspan=2>Function FromFileAndBorders:LTRasterFrame( FileName:String, LeftBorder:Int = 1, TopBorder:Int = 1, RightBorder:Int = 1, BottomBorder:Int = 1 )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Raster frame creation function.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>You should provide image file name and 4 values for borders (optional, 1 by default).</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTRevoluteJoint>
<tr><td class=doctop colspan=2>Type LTRevoluteJoint Extends LTBehaviorModel</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Revolute joint moves angular sprite if parent pivot moves or rotates, but the sprite can be rotated freely.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#LTFixedJoint>LTFixedJoint</a>.</td></tr>
<tr><td class=docleft width=1%><a href=LTRevoluteJoint.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Incbin "human.lw"
Incbin "part.png"

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Const Period:Double = 2.0
	Field World:LTWorld
	Field Layer:LTLayer
	Field Body:LTSprite
	Field UpperArm:LTSprite[] = New LTSprite[ 2 ]
	Field LowerArm:LTSprite[] = New LTSprite[ 2 ]
	Field UpperLeg:LTSprite[] = New LTSprite[ 2 ]
	Field LowerLeg:LTSprite[] = New LTSprite[ 2 ]
	Field Foot:LTSprite[] = New LTSprite[ 2 ]

	Method Init()
		L_SetIncbin( True )
		World = LTWorld.FromFile( "human.lw" )
		L_SetIncbin( False )
		Layer = LTLayer( World.FindShapeWithType( "LTLayer" ) )
		Body = LTSprite( Layer.FindShape( "body" ) )
		Layer.FindShape( "head" ).AttachModel( LTFixedJoint.Create( Body ) )
		For local N:Int = 0 To 1
			Local Prefix:String = [ "inner_", "outer_" ][ N ]
			UpperArm[ N ] = LTSprite( Layer.FindShape( Prefix + "upper_arm" ) )
			LowerArm[ N ] = LTSprite( Layer.FindShape( Prefix + "lower_arm" ) )
			UpperArm[ N ].AttachModel( LTRevoluteJoint.Create( Body, 0, -0.333 ) )
			LowerArm[ N ].AttachModel( LTRevoluteJoint.Create( UpperArm[ N ], 0, -0.333 ) )
			Layer.FindShape( Prefix + "fist" ).AttachModel( LTFixedJoint.Create( LowerArm[ N ]  ) )
			UpperLeg[ N ] = LTSprite( Layer.FindShape( Prefix + "upper_leg" ) )
			LowerLeg[ N ] = LTSprite( Layer.FindShape( Prefix + "lower_leg" ) )
			Foot[ N ] = LTSprite( Layer.FindShape( Prefix + "foot" ) )
			UpperLeg[ N ].AttachModel( LTRevoluteJoint.Create( Body, 0, -0.375 ) )
			LowerLeg[ N ].AttachModel( LTRevoluteJoint.Create( UpperLeg[ N ], 0, -0.375 ) )
			Foot[ N ].AttachModel( LTFixedJoint.Create( LowerLeg[ N ] ) )
		Next
		L_CurrentCamera.JumpTo( Body )
		L_InitGraphics()
		Body.Angle = 16
	End Method
	
	Method Logic()
		Local Angle:Double = 360 / Period * Time
		Body.Y = -Sin( Angle * 2 + 240 ) * 0.25 - 5.5
			
		UpperArm[ 0 ].Angle = -Sin( Angle + 90 ) * 60
		LowerArm[ 0 ].Angle = UpperArm[ 0 ].Angle - 45 - Sin( Angle + 90 ) * 30
		UpperLeg[ 0 ].Angle = Cos( Angle ) * 45
		LowerLeg[ 0 ].Angle = UpperLeg[ 0 ].Angle + Sin( Angle + 60 ) * 60 + 60
		
		UpperArm[ 1 ].Angle = Sin( Angle + 90 ) * 60
		LowerArm[ 1 ].Angle = UpperArm[ 1 ].Angle - 45 + Sin( Angle + 90 ) * 30
		UpperLeg[ 1 ].Angle = Cos( Angle + 180 ) * 45
		LowerLeg[ 1 ].Angle = UpperLeg[ 1 ].Angle + Sin( Angle + 240 ) * 60 + 60
		
		Layer.Act()
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		Layer.Draw()
		L_PrintText( "LTFixedJoint, LTRevoluteJoint example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTRevoluteJoint_functions></a>Functions Summary</th></tr>
<tr><td class=docleft width=1%><a href=#Create>Create</a></td><td class=docright>
Creates revolute joint for specified parent pivot using current pivots position.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Create>
<tr><td class=doctop colspan=2>Function Create:LTRevoluteJoint( ParentPivot:LTSprite, DX:Double = 0, DY:Double = 0 )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Creates revolute joint for specified parent pivot using current pivots position.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTShape>
<tr><td class=doctop colspan=2>Type LTShape Extends LTObject</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Common object for item of game field.</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTShape_fields></a>Fields Summary</th></tr><tr><td colspan=2>
<a href=#Active>Active</a>
, 
<a href=#BehaviorModels>BehaviorModels</a>
, 
<a href=#Height>Height</a>
, 
<a href=#Visible>Visible</a>
, 
<a href=#Visualizer>Visualizer</a>
, 
<a href=#Width>Width</a>
, 
<a href=#X>X</a>
, 
<a href=#Y>Y</a>
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTShape_methods></a>Methods Summary</th></tr>
<tr><td class=docleft width=1%><a href=#Act>Act</a></td><td class=docright>
Acting method of the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#ActivateAllModels>ActivateAllModels</a></td><td class=docright>
Activates all behavior models of the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#ActivateModel>ActivateModel</a></td><td class=docright>
Activates shape behavior models of class with given name.
</td></tr>
<tr><td class=docleft width=1%><a href=#AddParameter>AddParameter</a></td><td class=docright>
Adds parameter with given name and value to the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#AlterCoords>AlterCoords</a></td><td class=docright>
Alter coordinates of the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#AlterDiameter>AlterDiameter</a></td><td class=docright>
Alters both sizes of the shape (pretending they are equal).
</td></tr>
<tr><td class=docleft width=1%><a href=#AlterSize>AlterSize</a></td><td class=docright>
Alters the size of the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#AttachModel>AttachModel</a></td><td class=docright>
Attaches behavior model to the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#AttachModels>AttachModels</a></td><td class=docright>
Attaches list of behavior model to the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#BottomY>BottomY</a></td><td class=docright>
Bottom of the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#Clone>Clone</a></td><td class=docright>
Clones the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#CorrectHeight>CorrectHeight</a></td><td class=docright>
Corrects height to display shape image with no distortion.
</td></tr>
<tr><td class=docleft width=1%><a href=#DeactivateAllModels>DeactivateAllModels</a></td><td class=docright>
Deactivates all behavior models of the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#DeactivateModel>DeactivateModel</a></td><td class=docright>
Deactivates shape behavior models of class with given name.
</td></tr>
<tr><td class=docleft width=1%><a href=#Destroy>Destroy</a></td><td class=docright>
Method for destruction of the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#DirectionTo>DirectionTo</a></td><td class=docright>
Direction to shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#DirectionToPoint>DirectionToPoint</a></td><td class=docright>
Direction to the point.
</td></tr>
<tr><td class=docleft width=1%><a href=#DistanceTo>DistanceTo</a></td><td class=docright>
Distance to shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#DistanceToPoint>DistanceToPoint</a></td><td class=docright>
Distance to point.
</td></tr>
<tr><td class=docleft width=1%><a href=#Draw>Draw</a></td><td class=docright>
Draws the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#DrawContour>DrawContour</a></td><td class=docright>
Draws the contour of the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#DrawUsingVisualizer>DrawUsingVisualizer</a></td><td class=docright>
Draws the shape using another visualizer.
</td></tr>
<tr><td class=docleft width=1%><a href=#FindModel>FindModel</a></td><td class=docright>
Finds behavior model by its class name.
</td></tr>
<tr><td class=docleft width=1%><a href=#GetDiameter>GetDiameter</a></td><td class=docright>
Returns diameter of circular shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#GetFacing>GetFacing</a></td><td class=docright>
Returns shape facing.
</td></tr>
<tr><td class=docleft width=1%><a href=#GetName>GetName</a></td><td class=docright>
Retrieves name of object.
</td></tr>
<tr><td class=docleft width=1%><a href=#GetParameter>GetParameter</a></td><td class=docright>
Retrieves value of object's parameter with given name.
</td></tr>
<tr><td class=docleft width=1%><a href=#Init>Init</a></td><td class=docright>
Initialization method of the sprite.
</td></tr>
<tr><td class=docleft width=1%><a href=#IsAtPositionOf>IsAtPositionOf</a></td><td class=docright>
Checks if the shape is at position of another shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#JumpTo>JumpTo</a></td><td class=docright>
Moves shape to another one.
</td></tr>
<tr><td class=docleft width=1%><a href=#LeftX>LeftX</a></td><td class=docright>
Left side of the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#LimitBottomWith>LimitBottomWith</a></td><td class=docright>
Limits bottom of the shape with bottom of given rectangular shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#LimitByWindow>LimitByWindow</a></td><td class=docright>
Limits sprite displaying by window with given parameters.
</td></tr>
<tr><td class=docleft width=1%><a href=#LimitByWindowShape>LimitByWindowShape</a></td><td class=docright>
Limits sprite displaying by given rectangular shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#LimitHorizontallyWith>LimitHorizontallyWith</a></td><td class=docright>
Keeps shape within limits of given shape horizontally.
</td></tr>
<tr><td class=docleft width=1%><a href=#LimitLeftWith>LimitLeftWith</a></td><td class=docright>
Limits left side of the shape with left side of given rectangular shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#LimitRightWith>LimitRightWith</a></td><td class=docright>
Limits right side of the shape with right side of given rectangular shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#LimitTopWith>LimitTopWith</a></td><td class=docright>
Limits top of the shape with top of given rectangular shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#LimitVerticallyWith>LimitVerticallyWith</a></td><td class=docright>
Keeps shape within limits of given shape vertically.
</td></tr>
<tr><td class=docleft width=1%><a href=#LimitWith>LimitWith</a></td><td class=docright>
Limits shape with given rectangular shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#Move>Move</a></td><td class=docright>
Moves the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#MoveTowards>MoveTowards</a></td><td class=docright>
Moves the shape with given velocity towards shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#MoveTowardsPoint>MoveTowardsPoint</a></td><td class=docright>
Moves the shape with given velocity towards shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#MoveUsingArrows>MoveUsingArrows</a></td><td class=docright>
Allowing moving the shape around with given velocity with Arrow keys.
</td></tr>
<tr><td class=docleft width=1%><a href=#MoveUsingKeys>MoveUsingKeys</a></td><td class=docright>
Allowing moving the shape around with with given keys and velocity.
</td></tr>
<tr><td class=docleft width=1%><a href=#MoveUsingWSAD>MoveUsingWSAD</a></td><td class=docright>
Allowing moving the shape around with given velocity with WSAD keys.
</td></tr>
<tr><td class=docleft width=1%><a href=#Parallax>Parallax</a></td><td class=docright>
Applies parallax effect for shape depending on current camera size and position relative to given shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#PlaceBetween>PlaceBetween</a></td><td class=docright>
Places the shape between two another shapes.
</td></tr>
<tr><td class=docleft width=1%><a href=#PositionOnTileMap>PositionOnTileMap</a></td><td class=docright>
Position shape using coordinates in tilemap's coordinate system.
</td></tr>
<tr><td class=docleft width=1%><a href=#PrintText>PrintText</a></td><td class=docright>
Prints text inside the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#RemoveModel>RemoveModel</a></td><td class=docright>
Removes all shape behavior models of class with given name.
</td></tr>
<tr><td class=docleft width=1%><a href=#RemoveParameter>RemoveParameter</a></td><td class=docright>
Removes parameter with given name from the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#RemoveWindowLimit>RemoveWindowLimit</a></td><td class=docright>
Removes window limit.
</td></tr>
<tr><td class=docleft width=1%><a href=#RightX>RightX</a></td><td class=docright>
Right side of the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#SetAsViewport>SetAsViewport</a></td><td class=docright>
Sets shape's rectangle as viewport.
</td></tr>
<tr><td class=docleft width=1%><a href=#SetCoords>SetCoords</a></td><td class=docright>
Sets coordinates of the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#SetCornerCoords>SetCornerCoords</a></td><td class=docright>
Sets top-left corner coordinates of the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#SetDiameter>SetDiameter</a></td><td class=docright>
Sets the diameter of the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#SetFacing>SetFacing</a></td><td class=docright>
Sets the facing of a shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#SetHeight>SetHeight</a></td><td class=docright>
Sets the height of the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#SetMouseCoords>SetMouseCoords</a></td><td class=docright>
Moves shape to mouse position.
</td></tr>
<tr><td class=docleft width=1%><a href=#SetParameter>SetParameter</a></td><td class=docright>
Sets shape parameter  with given name and value.
</td></tr>
<tr><td class=docleft width=1%><a href=#SetSize>SetSize</a></td><td class=docright>
Sets the size of the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#SetSizeAs>SetSizeAs</a></td><td class=docright>
Sets the size of the shape as of given shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#SetWidth>SetWidth</a></td><td class=docright>
Sets the width of the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#SetX>SetX</a></td><td class=docright>
Sets X coordinate of the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#SetY>SetY</a></td><td class=docright>
Sets X coordinate of the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#ShowModels>ShowModels</a></td><td class=docright>
Shows all behavior models attached to shape with their status.
</td></tr>
<tr><td class=docleft width=1%><a href=#ToggleModel>ToggleModel</a></td><td class=docright>
Toggles activity of shape behavior models of class with given name.
</td></tr>
<tr><td class=docleft width=1%><a href=#TopY>TopY</a></td><td class=docright>
Top of the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#Update>Update</a></td><td class=docright>
Method for updating shape.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Active>
<tr><td class=doctop colspan=2>Field Active:Int = True</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Activity flag.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>If False then Act() method for shape will not be executed.
<p>
See also: <a href=#Act>Act</a>.</td></tr>
<tr><td class=docleft width=1%><a href=Active.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Const SpritesQuantity:Int = 50
	
	Field Layer:LTLayer = New LTLayer
	Field Rectangle:LTShape = LTSprite.FromShape( 0, 0, 30, 20 )
	
	Method Init()
		For Local N:Int = 1 To SpritesQuantity
			TBall.Create()
		Next
		Rectangle.Visualizer = LTContourVisualizer.FromWidthAndHexColor( 0.1, "FF0000" )
		L_InitGraphics()
	End Method
	
	Method Logic()
		Layer.Act()
		If KeyHit( Key_Space ) Then
			For Local Sprite:LTSprite = Eachin Layer
				Sprite.Active = True
				Sprite.Visible = True
			Next
		End If
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		Layer.Draw()
		Rectangle.Draw()
		DrawText( "Press left mouse button on circle to make it inactive, right button to make it invisible.", 0, 0 )
		DrawText( "Press space to restore all back.", 0, 16 )
		L_PrintText( "Active, BounceInside, CollisionsWisthSprite, HandleCollisionWithSprite, Visible example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type

Type TBall Extends LTSprite
	Field Handler:TCollisionHandler = New TCollisionHandler

	Function Create:TBall()
		Local Ball:TBall = New TBall
		Ball.SetCoords( Rnd( -13, 13 ), Rnd( -8, 8 ) )
		Ball.SetDiameter( Rnd( 0.5, 1.5 ) )
		Ball.Angle = Rnd( 360 )
		Ball.Velocity = Rnd( 3, 7 )
		Ball.ShapeType = LTSprite.Oval
		Ball.Visualizer.SetRandomColor()
		Example.Layer.AddLast( Ball )
		Return Ball
	End Function
	
	Method Act()
		MoveForward()
		BounceInside( Example.Rectangle )
		CollisionsWithSprite( L_Cursor, Handler )
	End Method
End Type

Type TCollisionHandler Extends LTSpriteCollisionHandler
	Method HandleCollision( Sprite1:LTSprite, Sprite2:LTSprite )
		If MouseDown( 1 ) Then Sprite1.Active = False
		If MouseDown( 2 ) Then Sprite1.Visible = False
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=BehaviorModels>
<tr><td class=doctop colspan=2>Field BehaviorModels:TList = New TList</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Behavior models list.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Standard Act() method will apply every behavior model in this list to the shape.
<p>
See also: <a href=#LTBehaviorModel>LTBehaviorModel</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Height>
<tr><td class=doctop colspan=2>Field Height:Double = 1.0</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Shape height in units.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#SetHeight>SetHeight</a>, <a href=#CorrectHeight>CorrectHeight</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Visible>
<tr><td class=doctop colspan=2>Field Visible:Int = True</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Visibility flag.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>If False then shape will not be drawn.
<p>
See also: <a href=#Draw>Draw</a>, <a href=#DrawUsingVisualizer>DrawUsingVisualizer</a>, <a href=#Active>Active</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Visualizer>
<tr><td class=doctop colspan=2>Field Visualizer:LTVisualizer = New LTVisualizer</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Shape visualizer (object which displays this shape).</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#LTVisualizer>LTVisualizer</a>, <a href=#LTDebugVisualizer>LTDebugVisualizer</a>, <a href=#L_DebugVisualizer>L_DebugVisualizer</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Width>
<tr><td class=doctop colspan=2>Field Width:Double = 1.0</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Shape width in units.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#SetWidth>SetWidth</a>, <a href=#GetDiameter>GetDiameter</a>, <a href=#SetDiameter>SetDiameter</a>,</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=X>
<tr><td class=doctop colspan=2>Field X:Double</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>X coordinate of the shape center in units.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#SetX>SetX</a>, <a href=#SetCoords>SetCoords</a>, <a href=#SetCornerCoords>SetCornerCoords</a>, <a href=#SetVouseCoords>SetVouseCoords</a>, <a href=#AlterCoords>AlterCoords</a>, <a href=#LeftX>LeftX</a>, <a href=#RightX>RightX</a>, <a href=#DistanceTo>DistanceTo</a>, <a href=#JumpTo>JumpTo</a>
<a href=#PlaceBetween>PlaceBetween</a>, <a href=#IsAtPositionOf>IsAtPositionOf</a>, <a href=#LimitWith>LimitWith</a>, <a href=#LimitHorizontallyWith>LimitHorizontallyWith</a>, <a href=#LimitLeftWith>LimitLeftWith</a>, <a href=#LimitRightWith>LimitRightWith</a>, <a href=#Move>Move</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Y>
<tr><td class=doctop colspan=2>Field Y:Double</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Y coordinate of the shape center in units.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#SetY>SetY</a>, <a href=#SetCoords>SetCoords</a>, <a href=#SetCornerCoords>SetCornerCoords</a>, <a href=#SetVouseCoords>SetVouseCoords</a>, <a href=#AlterCoords>AlterCoords</a>, <a href=#TopY>TopY</a>, <a href=#BottomY>BottomY</a>, <a href=#DistanceTo>DistanceTo</a>, <a href=#JumpTo>JumpTo</a>
<a href=#PlaceBetween>PlaceBetween</a>, <a href=#IsAtPositionOf>IsAtPositionOf</a>, <a href=#LimitWith>LimitWith</a>, <a href=#LimitVerticallyWith>LimitVerticallyWith</a>, <a href=#LimitTopWith>LimitTopWith</a>, <a href=#LimitBottomWith>LimitBottomWith</a>, <a href=#Move>Move</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Act>
<tr><td class=doctop colspan=2>Method Act()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Acting method of the shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Fill it with the shape acting commands. By default this method applies all behavior models of the shape to the shape, so if
you want to have this action inside your own Act() method, use Super.Act() command.
See also: <a href=#LTBehaviorModel>LTBehaviorModel</a>, <a href=#ApplyTo>ApplyTo</a>, <a href=#Watch>Watch</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ActivateAllModels>
<tr><td class=doctop colspan=2>Method ActivateAllModels()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Activates all behavior models of the shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Executes Activate() method of all deactivated models and set their Active field to True.
<p>
See also: <a href=#DeactivateAllModels>DeactivateAllModels</a>, <a href=#LTBehaviorModel>LTBehaviorModel</a>, <a href=#Activate>Activate</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ActivateModel>
<tr><td class=doctop colspan=2>Method ActivateModel( TypeName:String )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Activates shape behavior models of class with given name.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Executes Activate() method of all inactive models of class with given name and set their Active field to True.
<p>
See also: <a href=#DeactivateModel>DeactivateModel</a>, <a href=#ToggleModel>ToggleModel</a>, <a href=#LTBehaviorModel>LTBehaviorModel</a>, <a href=#Activate>Activate</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=AddParameter>
<tr><td class=doctop colspan=2>Method AddParameter( Name:String, Value:String )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Adds parameter with given name and value to the shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Recommended to use it only if you build your own world via code.
<p>
See also: <a href=#GetParameter>GetParameter</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=AlterCoords>
<tr><td class=doctop colspan=2>Method AlterCoords( DX:Double, DY:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Alter coordinates of the shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Given values will be added to the coordinates. It's better to use this method instead of incrementing X and Y fields manually.
<p>
See also: <a href=#SetCoords>SetCoords</a>, <a href=#SetCornerCoords>SetCornerCoords</a>, <a href=#SetMouseCoords>SetMouseCoords</a>, <a href=#Clone>Clone</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=AlterDiameter>
<tr><td class=doctop colspan=2>Method AlterDiameter( D:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Alters both sizes of the shape (pretending they are equal).</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>It's better to use this method instead of equating Width and Height fields to new values.
<p>
See also: <a href=#Clone>Clone</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=AlterSize>
<tr><td class=doctop colspan=2>Method AlterSize( DWidth:Double, DHeight:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Alters the size of the shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>It's better to use this method instead of equating Width and Height fields to new values.
<p>
See also: <a href=#Width>Width</a>, <a href=#Height>Height</a>, <a href=#SetWidth>SetWidth</a>, <a href=#SetHeight>SetHeight</a>, <a href=#SetSize>SetSize</a>, <a href=#SetSizeAs>SetSizeAs</a>, <a href=#Stretch>Stretch</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=AttachModel>
<tr><td class=doctop colspan=2>Method AttachModel( Model:LTBehaviorModel, Activated:Int = True )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Attaches behavior model to the shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Model will be initialized and activated if necessary.
<p>
See also: <a href=#LTBehaviorModel>LTBehaviorModel</a>, <a href=#Activate>Activate</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=AttachModels>
<tr><td class=doctop colspan=2>Method AttachModels( Models:TList, Activated:Int = True )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Attaches list of behavior model to the shape.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=BottomY>
<tr><td class=doctop colspan=2>Method BottomY:Double()</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Y coordinate of shape bottom in units.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Bottom of the shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: LeftX#, RightX#, TopY#, #Y, #Height.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Clone>
<tr><td class=doctop colspan=2>Method Clone:LTShape()</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Clone of the shape.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Clones the shape.</td></tr>
<tr><td class=docleft width=1%><a href=Clone.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Incbin "kolobok.png"

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Const SpritesQuantity:Int = 50
	
	Field Sprites:LTLayer = New LTLayer
	Field SpriteImage:LTImage = LTImage.FromFile( "incbin::kolobok.png" )
	
	Method Init()
		For Local N:Int = 1 To SpritesQuantity
			Local Sprite:LTSprite = LTSprite.FromShape( Rnd( -15, 15 ), Rnd( -11, 11 ), , , LTSprite.Oval )
			Sprite.SetDiameter( Rnd( 1, 3 ) )
			Sprite.Visualizer.SetRandomColor()
			Sprite.Visualizer.Angle = Rnd( 360 )
			Sprite.Visualizer.Image = SpriteImage
			Sprite.Visualizer.SetVisualizerScales( 1.3 )
			Sprites.AddLast( Sprite )
		Next
		L_InitGraphics()
	End Method
	
	Method Logic()
		If MouseHit( 1 ) Then
			Local Sprite:LTSprite = L_Cursor.FirstCollidedSpriteOfLayer( Sprites )
			If Sprite Then
				Local NewSprite:LTSprite = LTSprite( Sprite.Clone() )
				NewSprite.AlterCoords( Rnd( -2, 2 ), Rnd( -2, 2 ) )
				NewSprite.AlterDiameter( Rnd( 0.75, 1.5 ) )
				NewSprite.AlterAngle( Rnd( -45, 45 ) ) 
				Sprites.AddLast( NewSprite )
			End If
		End If
		
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		Sprites.Draw()
		DrawText( "Clone sprites with left mouse button", 0, 0 )
		L_PrintText( "AlterAngle, AlterCoords, AlterDiameter, Clone example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=CorrectHeight>
<tr><td class=doctop colspan=2>Method CorrectHeight()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Corrects height to display shape image with no distortion.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>After this operation ratio of width to height will be the same as ratio of image width to image height.
<p>
See also: <a href=#Height>Height</a>, <a href=#SetHeight>SetHeight</a>, <a href=#Visualizer>Visualizer</a>.</td></tr>
<tr><td class=docleft width=1%><a href=CorrectHeight.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Incbin "mario.png"

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Const SpritesQuantity:Int = 50
	
	Field Layer:LTLayer = New LTLayer
	
	Method Init()
		L_InitGraphics()
		Local SpriteVisualizer:LTVisualizer = LTVisualizer.FromFile( "incbin::mario.png", 4 )
		For Local N:Int = 1 To SpritesQuantity
			Local Sprite:LTSprite = LTSprite.FromShape( Rnd( -15, 15 ), Rnd( -11, 11 ), Rnd( 0.5, 2 ), Rnd( 0.5, 2 ) )
			Sprite.Visualizer = SpriteVisualizer
			Layer.AddLast( Sprite )
		Next
	End Method
	
	Method Logic()
		If KeyHit( Key_Space ) Then
			For Local Sprite:LTSprite = EachIn Layer
				Sprite.CorrectHeight()
			Next
		End If
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		Layer.Draw()
		DrawText( "Press space to correct height", 0, 0 )
		L_PrintText( "CorrectHeight example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DeactivateAllModels>
<tr><td class=doctop colspan=2>Method DeactivateAllModels()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Deactivates all behavior models of the shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Executes Deactivate() method of all activated models and set their Active field to False.
<p>
See also: <a href=#ActivateAllModels>ActivateAllModels</a>, <a href=#LTBehaviorModel>LTBehaviorModel</a>, <a href=#Deactivate>Deactivate</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DeactivateModel>
<tr><td class=doctop colspan=2>Method DeactivateModel( TypeName:String )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Deactivates shape behavior models of class with given name.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Executes Deactivate() method of all active models of class with given name and set their Active field to False.
<p>
See also: <a href=#ActivateModel>ActivateModel</a>, <a href=#ToggleModel>ToggleModel</a>, <a href=#LTBehaviorModel>LTBehaviorModel</a>, <a href=#Deactivate>Deactivate</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Destroy>
<tr><td class=doctop colspan=2>Method Destroy()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Method for destruction of the shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Fill it with commands for removing shape from layers, lists, maps, etc.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DirectionTo>
<tr><td class=doctop colspan=2>Method DirectionTo:Double( Shape:LTShape )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Angle between vector from the center of this shape to center of given shape and X axis.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Direction to shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#DirectionToPoint>DirectionToPoint</a>, <a href=#DistanceToPoint>DistanceToPoint</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DirectionToPoint>
<tr><td class=doctop colspan=2>Method DirectionToPoint:Double( PointX:Double, PointY:Double )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Angle between vector from the center of the shape to the point with given coordinates and X axis.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Direction to the point.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#DirectionTo>DirectionTo</a>, <a href=#DistanceToPoint>DistanceToPoint</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DistanceTo>
<tr><td class=doctop colspan=2>Method DistanceTo:Double( Shape:LTShape )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Distance from the shape center to center of another shape.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Distance to shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#DistanceToPoint>DistanceToPoint</a>, <a href=#DistanceToPoint>DistanceToPoint</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DistanceToPoint>
<tr><td class=doctop colspan=2>Method DistanceToPoint:Double( PointX:Double, PointY:Double )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Distance from the shape center to the point with given coordinates.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Distance to point.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#DistanceTo>DistanceTo</a>.</td></tr>
<tr><td class=docleft width=1%><a href=DistanceToPoint.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Const SpritesQuantity:Int = 20
	
	Field Layer:LTLayer = New LTLayer
	Field LineSegment:LTLineSegment = New LTLineSegment
	Field MinSprite:LTSprite

	Method Init()
		L_InitGraphics()
		For Local N:Int = 1 To SpritesQuantity
			Local Sprite:LTSprite = LTSprite.FromShape( Rnd( -15, 15 ), Rnd( -11, 11 ), , , LTSprite.Oval )
			Sprite.SetDiameter( Rnd( 0.5, 1.5 ) )
			Sprite.Visualizer.SetRandomColor()
			Layer.AddLast( Sprite )
		Next
		L_Cursor = LTSprite.FromShape( 0, 0, 0.5, 0.5, LTSprite.Oval )
		LineSegment.Pivot[ 0 ] = L_Cursor
	End Method
	
	Method Logic()
		MinSprite = Null
		Local MinDistance:Double
		For Local Sprite:LTSprite = Eachin Layer
			If L_Cursor.DistanceTo( Sprite ) < MinDistance Or Not MinSprite Then
				MinSprite = Sprite
				MinDistance = L_Cursor.DistanceTo( Sprite )
			End If
		Next
		LineSegment.Pivot[ 1 ] = MinSprite
		
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		Layer.Draw()
		
		LineSegment.Draw()
		L_PrintText( L_TrimDouble( L_Cursor.DistanceTo( MinSprite ) ), 0.5 * ( L_Cursor.X + MinSprite.X ), 0.5 * ( L_Cursor.Y + MinSprite.Y ) )
		
		Local SX:Double, SY:Double
		L_CurrentCamera.FieldToScreen( L_Cursor.X, L_Cursor.Y, SX, SY )
		DrawLine( SX, SY, 400, 300 )
		L_PrintText( L_TrimDouble( L_Cursor.DistanceToPoint( 0, 0 ) ), 0.5 * L_Cursor.X, 0.5 * L_Cursor.Y )
		
		DrawText( "Direction to field center is " + L_TrimDouble( L_Cursor.DirectionToPoint( 0, 0 ) ), 0, 0 )
		DrawText( "Direction to nearest sprite is " + L_TrimDouble( L_Cursor.DirectionTo( MinSprite ) ), 0, 16 )
		L_PrintText( "DirectionTo, DirectionToPoint, DistanceTo, DistanceToPoint example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Draw>
<tr><td class=doctop colspan=2>Method Draw()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Draws the shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>You can fill it with drawing commands for shape and its parts.
<p>
See also: <a href=#DrawUsingVisualizer>DrawUsingVisualizer</a>, <a href=#LTVisualizer>LTVisualizer</a>, <a href=#Visible>Visible</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DrawContour>
<tr><td class=doctop colspan=2>Method DrawContour( LineWidth:Double = 1.0 )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Draws the contour of the shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#Draw>Draw</a>, <a href=#SetAsViewport>SetAsViewport</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DrawUsingVisualizer>
<tr><td class=doctop colspan=2>Method DrawUsingVisualizer( Vis:LTVisualizer )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Draws the shape using another visualizer.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>You can fill it with drawing commands for shape and its parts using another visualizer.
<p>
See also: <a href=#Draw>Draw</a>, <a href=#LTVisualizer>LTVisualizer</a>, <a href=#Visible>Visible</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=FindModel>
<tr><td class=doctop colspan=2>Method FindModel:LTBehaviorModel( TypeName:String )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>First behavior model with the class of given name.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Finds behavior model by its class name.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#LTBehaviorModel>LTBehaviorModel</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=GetDiameter>
<tr><td class=doctop colspan=2>Method GetDiameter:Double()</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Width field of the shape.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Returns diameter of circular shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#SetDiameter>SetDiameter</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=GetFacing>
<tr><td class=doctop colspan=2>Method GetFacing:Double()</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Shape facing.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Returns shape facing.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright><ul>
<li> Returns -1.0 if shape is facing left (LeftFacing constant)
<li> Returns +1.0 if shape is facing right (RightFacing constant).
</ul>
Equal to the sign of visualizer XScale field.
<p>
See also: <a href=#SetFacing>SetFacing</a>, <a href=#XScale>XScale</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=GetName>
<tr><td class=doctop colspan=2>Method GetName:String()</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Value of object's parameter "name".</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Retrieves name of object.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#GetParameter>GetParameter</a>, <a href=#GetTitle>GetTitle</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=GetParameter>
<tr><td class=doctop colspan=2>Method GetParameter:String( Name:String )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Value of object's parameter with given name.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Retrieves value of object's parameter with given name.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#GetTitle>GetTitle</a>, <a href=#GetName>GetName</a>, <a href=#LTBehaviorModel>LTBehaviorModel</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Init>
<tr><td class=doctop colspan=2>Method Init()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Initialization method of the sprite.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Fill it with shape initialization commands. This method will be executed after loading the layer which have this shape inside.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=IsAtPositionOf>
<tr><td class=doctop colspan=2>Method IsAtPositionOf:Int( Shape:LTShape )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>True if shape center has same coordinates as another shape center.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Checks if the shape is at position of another shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#X>X</a>, <a href=#Y>Y</a>, <a href=#MoveTowards>MoveTowards</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=JumpTo>
<tr><td class=doctop colspan=2>Method JumpTo( Shape:LTShape )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Moves shape to another one.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Center coordinates of the shape will be equated to corresponding center coordinates of given shape.
<p>
See also: <a href=#IsAtPositionOf>IsAtPositionOf</a>, <a href=#SetCoords>SetCoords</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=LeftX>
<tr><td class=doctop colspan=2>Method LeftX:Double()</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>X coordinate of left shape side in units.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Left side of the shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: RightX#, TopY#, BottomY#, #X, #Width.</td></tr>
<tr><td class=docleft width=1%><a href=LeftX.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Field Rectangle:LTSprite = LTSprite.FromShape( 0, 0, 8, 6 )
	Field Ball:LTSprite = LTSprite.FromShape( 0, 0, 1, 1, LTSprite.Oval )
	
	Method Init()
		L_InitGraphics()
		Rectangle.Visualizer.SetColorFromHex( "FF0000" )
		Ball.Visualizer.SetColorFromHex( "FFFF00" )
	End Method
	
	Method Logic()
		Rectangle.SetMouseCoords()
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		Rectangle.Draw()
		Ball.SetCoords( Rectangle.LeftX(), Rectangle.Y )
		Ball.Draw()
		Ball.SetCoords( Rectangle.X, Rectangle.TopY() )
		Ball.Draw()
		Ball.SetCoords( Rectangle.RightX(), Rectangle.Y )
		Ball.Draw()
		Ball.SetCoords( Rectangle.X, Rectangle.BottomY() )
		Ball.Draw()
		L_PrintText( "LeftX, TopY, RightX, BottomY example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=LimitBottomWith>
<tr><td class=doctop colspan=2>Method LimitBottomWith( Rectangle:LTShape, AlterVelocity:Int = False )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Limits bottom of the shape with bottom of given rectangular shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>If the bottom Y coordinate of shape is more than bottom Y coordinate of given shape, bottom of the shape will be equated to the bottom of given shape.
<p>
See also: <a href=#LimitWith>LimitWith</a>, <a href=#LimitHorizontallyWith>LimitHorizontallyWith</a>, <a href=#LimitVerticallyWith>LimitVerticallyWith</a>, <a href=#LimitLeftWith>LimitLeftWith</a>, <a href=#LimitRightWith>LimitRightWith</a>, <a href=#LimitTopWith>LimitTopWith</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=LimitByWindow>
<tr><td class=doctop colspan=2>Method LimitByWindow( X:Double, Y:Double, Width:Double, Height:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Limits sprite displaying by window with given parameters.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>These parameters forms a rectangle on game field which will be viewport for displaying the sprite.
All sprite parts which are outside this rectangle will not be displayed.
<p>
See also: <a href=#LimitByWindowShape>LimitByWindowShape</a>, <a href=#RemoveWindowLimit>RemoveWindowLimit</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=LimitByWindowShape>
<tr><td class=doctop colspan=2>Method LimitByWindowShape( Shape:LTShape )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Limits sprite displaying by given rectangular shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>All sprite parts which are outside this rectangle will not be displayed.
<p>
See also: <a href=#LimitByWindow>LimitByWindow</a>, <a href=#RemoveWindowLimit>RemoveWindowLimit</a>.</td></tr>
<tr><td class=docleft width=1%><a href=LimitByWindowShape.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Field Ball1:LTSprite = LTSprite.FromShape( 0, 0, 3, 3, LTSprite.Oval )
	Field Ball2:LTSprite = LTSprite.FromShape( 0, 0, 2, 2, LTSprite.Oval )
	Field Rectangle:LTSprite = LTSprite.FromShape( 0, 0, 10, 10 )
	
	Method Init()
		L_InitGraphics()
		Ball1.Visualizer.SetColorFromHex( "FF0000" )
		Ball2.Visualizer.SetColorFromHex( "FFFF00" )
		Ball1.LimitByWindowShape( Rectangle )
		Rectangle.Visualizer = LTContourVisualizer.FromWidthAndHexColor( 0.1, "00FF00" )
	End Method
	
	Method Logic()
		Ball1.SetMouseCoords()
		Ball2.SetMouseCoords()
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		Rectangle.Draw()
		Ball1.Draw()
		Ball2.Draw()
		DrawText( "Move cursor to see how ball is limited by rectangle", 0, 0 )
		L_PrintText( "LimitByWindowShape example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=LimitHorizontallyWith>
<tr><td class=doctop colspan=2>Method LimitHorizontallyWith( Rectangle:LTShape, AlterVelocity:Int = False )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Keeps shape within limits of given shape horizontally.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#LimitWith>LimitWith</a>, <a href=#LimitVerticallyWith>LimitVerticallyWith</a>, <a href=#LimitLeftWith>LimitLeftWith</a>, <a href=#LimitRightWith>LimitRightWith</a>, <a href=#LimitTopWith>LimitTopWith</a>, <a href=#LimitBottomWith>LimitBottomWith</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=LimitLeftWith>
<tr><td class=doctop colspan=2>Method LimitLeftWith( Rectangle:LTShape, AlterVelocity:Int = False )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Limits left side of the shape with left side of given rectangular shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>If the left side X coordinate of shape is less than left side X coordinate of given shape, left side of the shape will be equated to left side of given shape.
<p>
See also: <a href=#LimitWith>LimitWith</a>, <a href=#LimitHorizontallyWith>LimitHorizontallyWith</a>, <a href=#LimitVerticallyWith>LimitVerticallyWith</a>, <a href=#LimitRightWith>LimitRightWith</a>, <a href=#LimitTopWith>LimitTopWith</a>, <a href=#LimitBottomWith>LimitBottomWith</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=LimitRightWith>
<tr><td class=doctop colspan=2>Method LimitRightWith( Rectangle:LTShape, AlterVelocity:Int = False )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Limits right side of the shape with right side of given rectangular shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>If the right side X coordinate of shape is more than right side X coordinate of given shape, right side of the shape will be equated to right side of given shape.
<p>
See also: <a href=#LimitWith>LimitWith</a>, <a href=#LimitHorizontallyWith>LimitHorizontallyWith</a>, <a href=#LimitVerticallyWith>LimitVerticallyWith</a>, <a href=#LimitLeftWith>LimitLeftWith</a>, <a href=#LimitTopWith>LimitTopWith</a>, <a href=#LimitBottomWith>LimitBottomWith</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=LimitTopWith>
<tr><td class=doctop colspan=2>Method LimitTopWith( Rectangle:LTShape, AlterVelocity:Int = False )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Limits top of the shape with top of given rectangular shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>If the top Y coordinate of shape is less than top Y coordinate of given shape, top of the shape will be equated to the top of given shape.
<p>
See also: <a href=#LimitWith>LimitWith</a>, <a href=#LimitHorizontallyWith>LimitHorizontallyWith</a>, <a href=#LimitVerticallyWith>LimitVerticallyWith</a>, <a href=#LimitLeftWith>LimitLeftWith</a>, <a href=#LimitRightWith>LimitRightWith</a>, <a href=#LimitBottomWith>LimitBottomWith</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=LimitVerticallyWith>
<tr><td class=doctop colspan=2>Method LimitVerticallyWith( Rectangle:LTShape, AlterVelocity:Int = False )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Keeps shape within limits of given shape vertically.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#LimitWith>LimitWith</a>, <a href=#LimitHorizontallyWith>LimitHorizontallyWith</a>, <a href=#LimitLeftWith>LimitLeftWith</a>, <a href=#LimitRightWith>LimitRightWith</a>, <a href=#LimitTopWith>LimitTopWith</a>, <a href=#LimitBottomWith>LimitBottomWith</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=LimitWith>
<tr><td class=doctop colspan=2>Method LimitWith( Rectangle:LTShape, AlterVelocity:Int = False )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Limits shape with given rectangular shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>If the shape is outside given shape, it will be moved inside it. If the shape is larger than given shape, it will be moved to the center of given shape.
<p>
See also: <a href=#LimitHorizontallyWith>LimitHorizontallyWith</a>, <a href=#LimitVerticallyWith>LimitVerticallyWith</a>, <a href=#LimitLeftWith>LimitLeftWith</a>, <a href=#LimitRightWith>LimitRightWith</a>, <a href=#LimitTopWith>LimitTopWith</a>, <a href=#LimitBottomWith>LimitBottomWith</a>.</td></tr>
<tr><td class=docleft width=1%><a href=LimitWith.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Field Ball:LTSprite[] = New LTSprite[ 7 ]
	Field Rectangle:LTSprite = LTSprite.FromShape( 0, 0, 22, 14 )
	
	Method Init()
		L_InitGraphics()
		Rectangle.Visualizer = LTContourVisualizer.FromWidthAndHexColor( 0.1, "FF0000" )
		For Local N:Int = 0 To 6
			Ball[ N ] = New LTSprite
			Ball[ N ].ShapeType = LTSprite.Oval
			Ball[ N ].SetDiameter( 0.5 * ( 7 - N ) )
			Ball[ N ].Visualizer.SetRandomColor()
		Next
	End Method
	
	Method Logic()
		For Local N:Int = 0 To 6
			Ball[ N ].SetMouseCoords()
		Next
		Ball[ 0 ].LimitWith( Rectangle )
		Ball[ 1 ].LimitHorizontallyWith( Rectangle )
		Ball[ 2 ].LimitVerticallyWith( Rectangle )
		Ball[ 3 ].LimitLeftWith( Rectangle )
		Ball[ 4 ].LimitTopWith( Rectangle )
		Ball[ 5 ].LimitRightWith( Rectangle )
		Ball[ 6 ].LimitBottomWith( Rectangle )
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		Rectangle.Draw()
		For Local N:Int = 0 To 6
			Ball[ N ].Draw()
		Next
		DrawText( "Move cursor to see how the balls are limited in movement", 0, 0 )
		L_PrintText( "Limit...With example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Move>
<tr><td class=doctop colspan=2>Method Move( DX:Double, DY:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Moves the shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>The shape will be moved with given horizontal and vertical speed per second.
<p>
See also: <a href=#LTButtonAction>LTButtonAction</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=MoveTowards>
<tr><td class=doctop colspan=2>Method MoveTowards( Shape:LTShape, Velocity:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Moves the shape with given velocity towards shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#MoveForward>MoveForward</a>, <a href=#MoveBackward>MoveBackward</a>.</td></tr>
<tr><td class=docleft width=1%><a href=MoveTowards.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Field Ball:LTSprite = LTSprite.FromShape( 0, 0, 3, 3, LTSprite.Oval, 0, 5 )
	
	Method Init()
		L_InitGraphics()
		Ball.Visualizer = LTVisualizer.FromHexColor( "3F3F7F" )
		L_Cursor = LTSprite.FromShape( 0, 0, 1, 1, LTSprite.Oval )
		L_Cursor.Visualizer = LTVisualizer.FromHexColor( "7FFF3F" )
	End Method
	
	Method Logic()
		Ball.MoveTowards( L_Cursor, Ball.Velocity )
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		Ball.Draw()
		L_Cursor.Draw()
		If Ball.IsAtPositionOf( L_Cursor ) Then DrawText( "Ball is at position of cursor", 0, 0 )
		L_PrintText( "IsAtPositionOf, MoveTowards example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=MoveTowardsPoint>
<tr><td class=doctop colspan=2>Method MoveTowardsPoint( DestinationX:Double, DestinationY:Double, Velocity:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Moves the shape with given velocity towards shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#MoveForward>MoveForward</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=MoveUsingArrows>
<tr><td class=doctop colspan=2>Method MoveUsingArrows( Velocity:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Allowing moving the shape around with given velocity with Arrow keys.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#MoveUsingWSAD>MoveUsingWSAD</a>, <a href=#MoveUsingKeys>MoveUsingKeys</a>, <a href=#Move>Move</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=MoveUsingKeys>
<tr><td class=doctop colspan=2>Method MoveUsingKeys( KUp:Int, KDown:Int, KLeft:Int, KRight:Int, Velocity:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Allowing moving the shape around with with given keys and velocity.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#MoveUsingArrows>MoveUsingArrows</a>, <a href=#MoveUsingWSAD>MoveUsingWSAD</a>, <a href=#Move>Move</a>.</td></tr>
<tr><td class=docleft width=1%><a href=MoveUsingKeys.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Field Ball1:LTSprite = LTSprite.FromShape( -8, 0, 1, 1, LTSprite.Oval, 0, 7 )
	Field Ball2:LTSprite = LTSprite.FromShape( 0, 0, 2, 2, LTSprite.Oval, 0, 3 )
	Field Ball3:LTSprite = LTSprite.FromShape( 8, 0, 1.5, 1.5, LTSprite.Oval, 0, 5 )
	
	Method Init()
		Ball1.Visualizer = LTVisualizer.FromHexColor( "FF0000" )
		Ball2.Visualizer = LTVisualizer.FromHexColor( "00FF00" )
		Ball3.Visualizer = LTVisualizer.FromHexColor( "0000FF" )
		L_InitGraphics()
	End Method
	
	Method Logic()
		Ball1.MoveUsingWSAD( Ball1.Velocity )
		Ball2.MoveUsingArrows( Ball2.Velocity )
		Ball3.MoveUsingKeys( Key_I, Key_K, Key_J, Key_L, Ball3.Velocity )
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		DrawText( "Move red ball using WSAD keys", 0, 0 )
		DrawText( "Move green ball using arrow keys", 0, 16 )
		DrawText( "Move blue ball using IJKL keys", 0, 32 )
		Ball1.Draw()
		Ball2.Draw()
		Ball3.Draw()
		L_PrintText( "MoveUsingKeys example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=MoveUsingWSAD>
<tr><td class=doctop colspan=2>Method MoveUsingWSAD( Velocity:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Allowing moving the shape around with given velocity with WSAD keys.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#MoveUsingArrows>MoveUsingArrows</a>, <a href=#MoveUsingKeys>MoveUsingKeys</a>, <a href=#Move>Move</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Parallax>
<tr><td class=doctop colspan=2>Method Parallax( Shape:LTShape )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Applies parallax effect for shape depending on current camera size and position relative to given shape.</td></tr>
<tr><td class=docleft width=1%><a href=Parallax.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import brl.pngloader
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Incbin "parallax.lw"
Incbin "water_and_snow.png"
Incbin "grid.png"
Incbin "clouds.png"

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
  Field Ground:LTTileMap
  Field Grid:LTTileMap
  Field Clouds:LTTileMap
  
  Method Init()
    L_InitGraphics()
	L_CurrentCamera.SetMagnification( 32.0 )
    
	L_SetIncbin( True )
    Local Layer:LTLayer = LoadLayer( LTLayer( LTWorld.FromFile( "parallax.lw" ).FindShapeWithType( "LTLayer" ) ) )
	L_SetIncbin( False )
  
    Ground = LTTileMap( Layer.FindShape( "Ground" ) )
    Grid = LTTileMap( Layer.FindShape( "Grid" ) )
    Clouds = LTTileMap( Layer.FindShape( "Clouds" ) )
  End Method
  
  Method Logic()
    L_CurrentCamera.MoveUsingArrows( 8.0 )
    L_CurrentCamera.LimitWith( Grid )
    Ground.Parallax( Grid )
    Clouds.Parallax( Grid )
    If KeyHit( Key_Escape ) Then Exiting = True
  End Method

  Method Render()
    Ground.Draw()
    Grid.Draw()
    Clouds.Draw()
	DrawText( "Move camera with arrow keys", 0, 0 )
	L_PrintText( "Parallax example", L_CurrentCamera.X, L_CurrentCamera.Y + 9, LTAlign.ToCenter, LTAlign.ToBottom )
  End Method
End Type</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=PlaceBetween>
<tr><td class=doctop colspan=2>Method PlaceBetween( Shape1:LTShape, Shape2:LTShape, K:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Places the shape between two another shapes.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>K parameter is in 0...1 interval.
<ul>
<li> 0 shifts shape to the center of first given shape.
<li> 1 shifts shape to the center of the second given shape.
<li> 0.5 shifts shape to the middle between given shapes centers.
</ul></td></tr>
<tr><td class=docleft width=1%><a href=PlaceBetween.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Field Pivot1:LTSprite = LTSprite.FromShape( 0, 0, 0, 0, LTSprite.Pivot )
	Field Pivot2:LTSprite = LTSprite.FromShape( 0, 0, 0, 0, LTSprite.Pivot )
	Field Oval1:LTSprite = LTSprite.FromShape( 0, 0, 0.75, 0.75, LTSprite.Oval )
	Field Oval2:LTSprite = LTSprite.FromShape( 0, 0, 0.75, 0.75, LTSprite.Oval )
	Field LineSegment:LTLineSegment = LTLineSegment.FromPivots( Pivot1, Pivot2 )
	
	Method Init()
		L_InitGraphics()
		LineSegment.Visualizer = LTContourVisualizer.FromWidthAndHexColor( 0.2, "0000FF", 1.0, 2.0 )
		Oval1.Visualizer.SetColorFromHex( "FF0000" )
		Oval2.Visualizer.SetColorFromHex( "00FF00" )
	End Method
	
	Method Logic()
		Pivot2.SetMouseCoords()
		Oval1.PlaceBetween( Pivot1, Pivot2, 0.5 )
		Oval2.PlaceBetween( Pivot1, Pivot2, 0.3 )
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		LineSegment.Draw()
		Oval1.Draw()
		Oval2.Draw()
		L_PrintText( "PlaceBetween example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=PositionOnTileMap>
<tr><td class=doctop colspan=2>Method PositionOnTileMap( TileMap:LTTileMap, TileX:Double, TileY:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Position shape using coordinates in tilemap's coordinate system.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Integer TileX and TileY sets shape position to the center of given tilemap's cooresponding tile.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=PrintText>
<tr><td class=doctop colspan=2>Method PrintText( Text:String, Size:Double = 1.0, HorizontalAlign:Int = LTAlign.ToCenter, VerticalAlign:Int = LTAlign.ToCenter, HorizontalShift:Double = 0, VerticalShift:Double = 0, Contour:Int = False )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Prints text inside the shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Current ImageFont is used. You can specify horizontal and vertical alignment and also horizontal and vertical shift in units.</td></tr>
<tr><td class=docleft width=1%><a href=PrintText.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Field Rectangle:LTSprite = LTSprite.FromShape( 0, 0, 16, 12 )
	
	Method Init()
		L_InitGraphics()
	End Method
	
	Method Logic()
		Rectangle.SetMouseCoords()
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		Rectangle.DrawContour( 2 )
		Rectangle.PrintText( "topleft corner", LTAlign.ToLeft, LTAlign.ToTop )
		Rectangle.PrintText( "top", LTAlign.ToCenter, LTAlign.ToTop )
		Rectangle.PrintText( "topright corner", LTAlign.ToRight, LTAlign.ToTop )
		Rectangle.PrintText( "left side", LTAlign.ToLeft, LTAlign.ToCenter )
		Rectangle.PrintText( "center", LTAlign.ToCenter, LTAlign.ToCenter )
		Rectangle.PrintText( "right side", LTAlign.ToRight, LTAlign.ToCenter )
		Rectangle.PrintText( "bottomleft corner", LTAlign.ToLeft, LTAlign.ToBottom )
		Rectangle.PrintText( "bottom", LTAlign.ToCenter, LTAlign.ToBottom )
		Rectangle.PrintText( "bottomright corner", LTAlign.ToRight, LTAlign.ToBottom )
		L_PrintText( "PrintText example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=RemoveModel>
<tr><td class=doctop colspan=2>Method RemoveModel( TypeName:String )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Removes all shape behavior models of class with given name.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Active models will be deactivated before removal.
<p>
See also: <a href=#LTBehaviorModel>LTBehaviorModel</a>, <a href=#Deactivate>Deactivate</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=RemoveParameter>
<tr><td class=doctop colspan=2>Method RemoveParameter( Name:String )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Removes parameter with given name from the shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Recommended to use it only if you build your own world via code.
<p>
See also: <a href=#GetParameter>GetParameter</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=RemoveWindowLimit>
<tr><td class=doctop colspan=2>Method RemoveWindowLimit()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Removes window limit.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>After executing this method the sprite will be displayed as usual.
<p>
See also: <a href=#LimitByWindow>LimitByWindow</a>, <a href=#LimitByWindowShape>LimitByWindowShape</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=RightX>
<tr><td class=doctop colspan=2>Method RightX:Double()</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>X coordinate of right shape side in units.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Right side of the shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#LeftX>LeftX</a>, <a href=#TopY>TopY</a>, <a href=#BottomY>BottomY</a>, <a href=#X>X</a>, <a href=#Width>Width</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SetAsViewport>
<tr><td class=doctop colspan=2>Method SetAsViewport()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sets shape's rectangle as viewport.</td></tr>
<tr><td class=docleft width=1%><a href=SetAsViewport.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Const SpritesQuantity:Int = 100
	
	Field Layer:LTLayer = New LTLayer
	Field Rectangle:LTShape = LTSprite.FromShape( 0, 0, 30, 20 )
	
	Method Init()
		L_Cursor = LTSprite.FromShape( 0, 0, 8, 6 )
		For Local N:Int = 1 To SpritesQuantity
			Local Sprite:LTSprite = LTSprite.FromShape( Rnd( -13, 13 ), Rnd( -8, 8 ), , , LTSprite.Oval, Rnd( 360 ), Rnd( 3, 7 ) )
			Sprite.Visualizer.SetRandomColor()
			Layer.AddLast( Sprite )
		Next
		L_InitGraphics()
	End Method
	
	Method Logic()
		For Local Sprite:LTSprite = Eachin Layer
			Sprite.MoveForward()
			Sprite.BounceInside( Rectangle )
		Next
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		L_Cursor.SetAsViewport()
		Layer.Draw()
		Rectangle.DrawContour( 2 )
		L_CurrentCamera.ResetViewport()
		L_Cursor.DrawContour( 2 )
		L_PrintText( "SetAsViewport, ResetViewport example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SetCoords>
<tr><td class=doctop colspan=2>Method SetCoords( NewX:Double, NewY:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sets coordinates of the shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>It's better to use this method instead of equating X and Y fields to new values.
<p>
See also: <a href=#X>X</a>, <a href=#Y>Y</a>, <a href=#SetCornerCoords>SetCornerCoords</a>, <a href=#AlterCoords>AlterCoords</a>, <a href=#SetMouseCoords>SetMouseCoords</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SetCornerCoords>
<tr><td class=doctop colspan=2>Method SetCornerCoords( NewX:Double, NewY:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sets top-left corner coordinates of the shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>After this operation top-left corner of the shape will be at given coordinates.
<p>
See also: <a href=#SetCoords>SetCoords</a>, <a href=#AlterCoords>AlterCoords</a>, <a href=#SetMouseCoords>SetMouseCoords</a>.</td></tr>
<tr><td class=docleft width=1%><a href=SetCornerCoords.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Field Rectangle:LTSprite = LTSprite.FromShape( 0, 0, 8, 6 )
	
	Method Init()
		L_InitGraphics()
	End Method
	
	Method Logic()
		Rectangle.SetCornerCoords( L_Cursor.X, L_Cursor.Y )
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		Rectangle.Draw()
		L_PrintText( "SetCornerCoords example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SetDiameter>
<tr><td class=doctop colspan=2>Method SetDiameter( NewDiameter:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sets the diameter of the shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#GetDiameter>GetDiameter</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SetFacing>
<tr><td class=doctop colspan=2>Method SetFacing( NewFacing:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sets the facing of a shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Use LeftFacing and RightFacing constants.
See also: <a href=#GetFacing>GetFacing</a>, <a href=#XScale>XScale</a>.</td></tr>
<tr><td class=docleft width=1%><a href=SetFacing.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Incbin "kolobok.png"

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Field Sprite:LTSprite = LTSprite.FromShape( 0, 0, 8, 8 )
	
	Method Init()
		L_InitGraphics()
		Sprite.Visualizer.Image = LTImage.FromFile( "incbin::kolobok.png" )
	End Method
	
	Method Logic()
		If KeyHit( Key_Left ) Then Sprite.SetFacing( LTSprite.LeftFacing )
		If KeyHit( Key_Right ) Then Sprite.SetFacing( LTSprite.RightFacing )
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		Sprite.Draw()
		DrawText( "Press left and right arrows to change sprite facing", 0, 0 )
		L_PrintText( "SetFacing example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SetHeight>
<tr><td class=doctop colspan=2>Method SetHeight( NewHeight:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sets the height of the shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>It's better to use this method instead of equating Height field to new value.
<p>
See also: <a href=#Height>Height</a>, <a href=#SetWidth>SetWidth</a>, <a href=#SetSize>SetSize</a>, <a href=#AlterSize>AlterSize</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SetMouseCoords>
<tr><td class=doctop colspan=2>Method SetMouseCoords()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Moves shape to mouse position.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Mouse coordinates will be transformed to field coordinates using current camera. Then shape coordinates will be equated to these.
<p>
See also: <a href=#SetCoords>SetCoords</a>, <a href=#PlaceBetween>PlaceBetween</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SetParameter>
<tr><td class=doctop colspan=2>Method SetParameter( Name:String, Value:String )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sets shape parameter  with given name and value.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Recommended to use it only if you build your own world via code.
<p>
See also: <a href=#GetParameter>GetParameter</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SetSize>
<tr><td class=doctop colspan=2>Method SetSize( NewWidth:Double, NewHeight:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sets the size of the shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>It's better to use this method instead of equating Width and Height fields to new values.
<p>
See also: <a href=#Width>Width</a>, <a href=#Height>Height</a>, <a href=#SetWidth>SetWidth</a>, <a href=#SetHeight>SetHeight</a>, <a href=#SetSizeAs>SetSizeAs</a>, <a href=#AlterSize>AlterSize</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SetSizeAs>
<tr><td class=doctop colspan=2>Method SetSizeAs( Shape:LTShape )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sets the size of the shape as of given shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#Width>Width</a>, <a href=#Height>Height</a>, <a href=#SetWidth>SetWidth</a>, <a href=#SetHeight>SetHeight</a>, <a href=#SetSize>SetSize</a>, <a href=#AlterSize>AlterSize</a>, <a href=#DirectAs>DirectAs</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SetWidth>
<tr><td class=doctop colspan=2>Method SetWidth( NewWidth:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sets the width of the shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>It's better to use this method instead of equating Width field to new value.
<p>
See also: <a href=#Width>Width</a>, <a href=#GetDiameter>GetDiameter</a>, <a href=#SetDiameter>SetDiameter</a>, <a href=#SetHeight>SetHeight</a>, <a href=#SetSize>SetSize</a>, <a href=#AlterSize>AlterSize</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SetX>
<tr><td class=doctop colspan=2>Method SetX( NewX:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sets X coordinate of the shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>It's better to use this method instead of equating X field to new value.
<p>
See also: <a href=#X>X</a>, SetY#</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SetY>
<tr><td class=doctop colspan=2>Method SetY( NewY:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sets X coordinate of the shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>It's better to use this method instead of equating X field to new value.
<p>
See also: <a href=#Y>Y</a>, SetX#</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ShowModels>
<tr><td class=doctop colspan=2>Method ShowModels:Int( Y:Int = 0, Shift:String = "" )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Shows all behavior models attached to shape with their status.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ToggleModel>
<tr><td class=doctop colspan=2>Method ToggleModel( TypeName:String )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Toggles activity of shape behavior models of class with given name.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Executes Activate() method of all inactive and Deactivate() method of all active models of class with given name and toggles their Active field.
<p>
See also: <a href=#ActivateModel>ActivateModel</a>, <a href=#DeactivateModel>DeactivateModel</a>, <a href=#LTBehaviorModel>LTBehaviorModel</a>, <a href=#Activate>Activate</a>, <a href=#Deactivate>Deactivate</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=TopY>
<tr><td class=doctop colspan=2>Method TopY:Double()</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Y coordinate of shape top in units.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Top of the shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: LeftX#, RightX#, BottomY#, #Y, #Height.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Update>
<tr><td class=doctop colspan=2>Method Update()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Method for updating shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>It will be called after changing coordinates or size. You can add your shape updating commands here, but don't forget to add Super.Update() command as well.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTSprite>
<tr><td class=doctop colspan=2>Type LTSprite Extends LTShape</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sprite is the main basic shape of the framework to draw, move and check collisions.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#LTVectorSprite>LTVectorSprite</a>.</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTSprite_consts></a>Constants Summary</th></tr><tr><td colspan=2>
<a href=#Circle>Circle</a>
, 
<a href=#Pivot>Pivot</a>
, 
<a href=#Raster>Raster</a>
, 
<a href=#Ray>Ray</a>
, 
<a href=#Rectangle>Rectangle</a>
, 
<a href=#TopLeftTriangle>TopLeftTriangle</a>
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTSprite_fields></a>Fields Summary</th></tr><tr><td colspan=2>
<a href=#Angle>Angle</a>
, 
<a href=#DisplayingAngle>DisplayingAngle</a>
, 
<a href=#Frame>Frame</a>
, 
<a href=#ShapeType>ShapeType</a>
, 
<a href=#Velocity>Velocity</a>
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTSprite_methods></a>Methods Summary</th></tr>
<tr><td class=docleft width=1%><a href=#AlterAngle>AlterAngle</a></td><td class=docright>
Alters angle by given value.
</td></tr>
<tr><td class=docleft width=1%><a href=#Animate>Animate</a></td><td class=docright>
Animates the sprite.
</td></tr>
<tr><td class=docleft width=1%><a href=#BounceInside>BounceInside</a></td><td class=docright>
Forces sprite to bounce off the inner bounds of the shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#CollidesWithLineSegment>CollidesWithLineSegment</a></td><td class=docright>
Checks if the sprite collides with given line.
</td></tr>
<tr><td class=docleft width=1%><a href=#CollidesWithSprite>CollidesWithSprite</a></td><td class=docright>
Checks if this sprite collides with given sprite.
</td></tr>
<tr><td class=docleft width=1%><a href=#CollisionsWithLayer>CollisionsWithLayer</a></td><td class=docright>
Executes given collision handler for collision of sprite with shapes in given group.
</td></tr>
<tr><td class=docleft width=1%><a href=#CollisionsWithLineSegment>CollisionsWithLineSegment</a></td><td class=docright>
Executes given collision handler for collision of sprite with given line.
</td></tr>
<tr><td class=docleft width=1%><a href=#CollisionsWithSprite>CollisionsWithSprite</a></td><td class=docright>
Executes given collision handler for collision of sprite with given sprite.
</td></tr>
<tr><td class=docleft width=1%><a href=#CollisionsWithSpriteMap>CollisionsWithSpriteMap</a></td><td class=docright>
Executes reaction for collision of sprite with sprites in sprite map.
</td></tr>
<tr><td class=docleft width=1%><a href=#CollisionsWithTileMap>CollisionsWithTileMap</a></td><td class=docright>
Executes given collision handler for collision of sprite with tiles in given tilemap.
</td></tr>
<tr><td class=docleft width=1%><a href=#DirectAs>DirectAs</a></td><td class=docright>
Directs sprite as given angular sprite.
</td></tr>
<tr><td class=docleft width=1%><a href=#DirectTo>DirectTo</a></td><td class=docright>
Direct the sprite to center of the given shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#FirstCollidedSpriteOfLayer>FirstCollidedSpriteOfLayer</a></td><td class=docright>
Searches the layer for first sprite which collides with given.
</td></tr>
<tr><td class=docleft width=1%><a href=#MoveBackward>MoveBackward</a></td><td class=docright>
Moves sprite backward.
</td></tr>
<tr><td class=docleft width=1%><a href=#MoveForward>MoveForward</a></td><td class=docright>
Moves sprite forward.
</td></tr>
<tr><td class=docleft width=1%><a href=#Overlaps>Overlaps</a></td><td class=docright>
Checks if the sprite overlaps given sprite.
</td></tr>
<tr><td class=docleft width=1%><a href=#PushFromSprite>PushFromSprite</a></td><td class=docright>
Pushes sprite from given sprite.
</td></tr>
<tr><td class=docleft width=1%><a href=#PushFromTile>PushFromTile</a></td><td class=docright>
Pushes sprite from given tile.
</td></tr>
<tr><td class=docleft width=1%><a href=#SetAsTile>SetAsTile</a></td><td class=docright>
Sets the sprite as a tile.
</td></tr>
<tr><td class=docleft width=1%><a href=#Turn>Turn</a></td><td class=docright>
Turns the sprite.
</td></tr>
<tr><td class=docleft width=1%><a href=#WedgeOffWithSprite>WedgeOffWithSprite</a></td><td class=docright>
Wedges off sprite with given sprite.
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTSprite_functions></a>Functions Summary</th></tr>
<tr><td class=docleft width=1%><a href=#FromShape>FromShape</a></td><td class=docright>
Creates sprite using given coordinates, size, shape type, angle and velocity.
</td></tr>
<tr><td class=docleft width=1%><a href=#FromShapeType>FromShapeType</a></td><td class=docright>
Creates sprite using given shape type.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Circle>
<tr><td class=doctop colspan=2>Const Circle:Int</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Type of the sprite shape: oval / circle which is inscribed in shape's rectangle.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Pivot>
<tr><td class=doctop colspan=2>Const Pivot:Int</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Type of the sprite shape: pivot. It's a point on game field with (X, Y) coordinates.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Raster>
<tr><td class=doctop colspan=2>Const Raster:Int</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Type of the sprite shape: mask of raster image which is inscribed in shape's rectangle.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Ray>
<tr><td class=doctop colspan=2>Const Ray:Int</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Type of the sprite shape: ray which starts in (X, Y) and directed as Angle.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Rectangle>
<tr><td class=doctop colspan=2>Const Rectangle:Int</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Type of the sprite shape: rectangle.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=TopLeftTriangle>
<tr><td class=doctop colspan=2>Const TopLeftTriangle:Int</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Type of the sprite shape: right triangle which is inscribed in shape's rectangle and have right angle situated in corresponding corner.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Angle>
<tr><td class=doctop colspan=2>Field Angle:Double</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Direction of the sprite.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#MoveForward>MoveForward</a>, <a href=#MoveTowards>MoveTowards</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DisplayingAngle>
<tr><td class=doctop colspan=2>Field DisplayingAngle:Double = 0.0</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Angle of displaying image.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Displaying angle is relative to sprite's direction if visualizer's rotating flag is set to True.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Frame>
<tr><td class=doctop colspan=2>Field Frame:Int</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Frame of the sprite image.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Can only be used with visualizer which have images.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ShapeType>
<tr><td class=doctop colspan=2>Field ShapeType:Int = Rectangle</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Type of the sprite shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#Pivot>Pivot</a>, <a href=#Oval>Oval</a>, <a href=#Rectangle>Rectangle</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Velocity>
<tr><td class=doctop colspan=2>Field Velocity:Double = 1.0</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Velocity of the sprite in units per second.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#MoveForward>MoveForward</a>, <a href=#MoveTowards>MoveTowards</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=AlterAngle>
<tr><td class=doctop colspan=2>Method AlterAngle( DAngle:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Alters angle by given value.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#Clone>Clone</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Animate>
<tr><td class=doctop colspan=2>Method Animate( Speed:Double, FramesQuantity:Int = 0, FrameStart:Int = 0, StartingTime:Double = 0.0, PingPong:Int = False )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Animates the sprite.</td></tr>
<tr><td class=docleft width=1%><a href=Animate.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Incbin "mario.png"

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Field Player:LTSprite = LTSprite.FromShape( 0, 0, 1, 2 )
	Field StartingTime:Double
	Field PingPong:Int
	
	Method Init()
		Player.Visualizer.Image = LTImage.FromFile( "incbin::mario.png", 4 )
		L_InitGraphics()
	End Method
	
	Method Logic()
		If KeyDown( Key_Space ) Then
			If StartingTime = 0 Then StartingTime = Time
			Player.Animate( 0.1, 3, 1, StartingTime, PingPong )
		Else
			Player.Frame = 0
			StartingTime = 0
		End If
		If KeyHit( Key_P ) Then PingPong = Not PingPong
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		Player.Draw()
		DrawText( "Press space to animate sprite, P to toggle ping-pong animation (now it's " + PingPong + ")", 0, 0 )
		L_PrintText( "Animate example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=BounceInside>
<tr><td class=doctop colspan=2>Method BounceInside( Shape:LTShape, LeftSide:Int = True, TopSide:Int = True, RightSide:Int = True, BottomSide:Int = True )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Forces sprite to bounce off the inner bounds of the shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#Active>Active</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=CollidesWithLineSegment>
<tr><td class=doctop colspan=2>Method CollidesWithLineSegment:Int( LineSegment:LTLineSegment )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>True if the sprite collides with given line, otherwise false.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Checks if the sprite collides with given line.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Only collision of line and Oval is yet implemented.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=CollidesWithSprite>
<tr><td class=doctop colspan=2>Method CollidesWithSprite:Int( Sprite:LTSprite )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>True if the sprite collides with given sprite, False otherwise.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Checks if this sprite collides with given sprite.</td></tr>
<tr><td class=docleft width=1%><a href=CollidesWithSprite.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Global Example:TExample = New TExample
Example.Execute()

Incbin "spaceship.png"

Type TExample Extends LTProject
	Field Sprites:LTLayer = New LTLayer
	Field Image:LTImage = LTImage.FromFile( "incbin::spaceship.png" )
	
	Method Init()
		For Local N:Int = 0 Until 9
			Local Sprite:LTSprite = New LTSprite.FromShape( ( N Mod 3 ) * 8.0 - 8.0, Floor( N / 3 ) * 6.0 - 6.0, 6.0, 4.0, N )
			If N = LTSprite.Raster Then Sprite.Visualizer.Image = Image
			Sprite.Visualizer.SetColorFromHex( "7FFF7F" )
			Sprite.Angle = 60
			Sprites.AddLast( Sprite )
		Next
		L_InitGraphics()
		L_Cursor = New LTSprite.FromShape( 0.0, 0.0, 5.0, 7.0, LTSprite.Pivot )
		L_Cursor.Angle = 45
		L_Cursor.Visualizer.SetColorFromHex( "7F7F7FFF" )
		L_Cursor.ShapeType = LTSprite.Ray
	End Method
	
	Method Logic()
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
		If MouseHit( 2 ) Then
			L_Cursor.ShapeType = ( L_Cursor.ShapeType + 1 ) Mod 9
			If L_Cursor.ShapeType = LTSprite.Raster Then L_Cursor.Visualizer.Image = Image Else L_Cursor.Visualizer.Image = Null
		End If
		'L_Cursor.Angle :+ 0.5
	End Method

	Method Render()
		Sprites.Draw()
		For Local Sprite:LTSprite = Eachin Sprites.Children
			'If Sprite.ShapeType < 4 Then Continue
			if L_Cursor.CollidesWithSprite( Sprite ) Then
				Sprite.Visualizer.SetColorFromHex( "FF7F7F" )
				Local WedgedCursor:LTSprite = LTSprite( L_Cursor.Clone() )
				WedgedCursor.WedgeOffWithSprite( Sprite, 0, 1 )
				WedgedCursor.Visualizer.SetColorFromHex( "7F7FFFFF" )
				WedgedCursor.Draw()
			Else
				Sprite.Visualizer.SetColorFromHex( "7FFF7F" )
			End If
		Next
		L_Cursor.Draw()
		
		L_PrintText( "Press right mouse button to change shape ", 0, -12, LTAlign.ToCenter, LTAlign.ToTop )
		L_PrintText( "ColldesWithSprite example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=CollisionsWithLayer>
<tr><td class=doctop colspan=2>Method CollisionsWithLayer( Layer:LTLayer, Handler:LTSpriteCollisionHandler )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Executes given collision handler for collision of sprite with shapes in given group.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>For every collided shape collision handling method will be executed and corresponding parameters will be passed to this method.
You can specify collision type which will be passed to this method too.
<p>
See also: <a href=#CollisionsWithSprite>CollisionsWithSprite</a>, <a href=#CollisionsWithTileMap>CollisionsWithTileMap</a>, <a href=#CollisionsWithLine>CollisionsWithLine</a>, <a href=#CollisionsWithSpriteMap>CollisionsWithSpriteMap</a>, <a href=#Horizontal>Horizontal</a>, <a href=#Vertical>Vertical</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=CollisionsWithLineSegment>
<tr><td class=doctop colspan=2>Method CollisionsWithLineSegment( LineSegment:LTLineSegment, Handler:LTSpriteAndLineSegmentCollisionHandler )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Executes given collision handler for collision of sprite with given line.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>If sprite collides with line then HandleCollisionWithLine() method will be executed and line will be passed to this method.
You can specify collision type which will be passed to this method too.
<p>
See also: <a href=#CollisionsWithLayer>CollisionsWithLayer</a>, <a href=#CollisionsWithSprite>CollisionsWithSprite</a>, <a href=#CollisionsWithTileMap>CollisionsWithTileMap</a>, <a href=#CollisionsWithSpriteMap>CollisionsWithSpriteMap</a>, <a href=#Horizontal>Horizontal</a>, <a href=#Vertical>Vertical</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=CollisionsWithSprite>
<tr><td class=doctop colspan=2>Method CollisionsWithSprite( Sprite:LTSprite, Handler:LTSpriteCollisionHandler )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Executes given collision handler for collision of sprite with given sprite.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>If sprites collide then HandleCollisionWithSprite() method will be executed and given sprite will be passed to this method.
You can specify collision type which will be passed to this method too.
<p>
See also: <a href=#CollisionsWithLayer>CollisionsWithLayer</a>, <a href=#CollisionsWithTileMap>CollisionsWithTileMap</a>, <a href=#CollisionsWithLine>CollisionsWithLine</a>, <a href=#CollisionsWithSpriteMap>CollisionsWithSpriteMap</a>, <a href=#Horizontal>Horizontal</a>, <a href=#Vertical>Vertical</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=CollisionsWithSpriteMap>
<tr><td class=doctop colspan=2>Method CollisionsWithSpriteMap( SpriteMap:LTSpriteMap, Handler:LTSpriteCollisionHandler, Map:TMap = Null )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Executes reaction for collision of sprite with sprites in sprite map.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>For every collided sprite HandleCollisionWithSprite() method will be executed and collided srite will be passed to this method.
You can specify collision type which will be passed to this method too.
Map parameter allows you to specify map to where collided sprites will be added as keys.
<p>
See also: <a href=#CollisionsWithGroup>CollisionsWithGroup</a>, <a href=#CollisionsWithSprite>CollisionsWithSprite</a>, <a href=#CollisionsWithTileMap>CollisionsWithTileMap</a>, <a href=#CollisionsWithLine>CollisionsWithLine</a>, <a href=#Horizontal>Horizontal</a>, <a href=#Vertical>Vertical</a>, <a href=#LTSpriteMap>LTSpriteMap</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=CollisionsWithTileMap>
<tr><td class=doctop colspan=2>Method CollisionsWithTileMap( TileMap:LTTileMap, Handler:LTSpriteAndTileCollisionHandler )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Executes given collision handler for collision of sprite with tiles in given tilemap.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>For every collided tile HandleCollisionWithTile() method will be executed and tilemap with tile indexes will be passed to this method.
You can specify collision type which will be passed to this method too.
<p>
See also: <a href=#CollisionsWithLayer>CollisionsWithLayer</a>, <a href=#CollisionsWithSprite>CollisionsWithSprite</a>, <a href=#CollisionsWithLine>CollisionsWithLine</a>, <a href=#CollisionsWithSpriteMap>CollisionsWithSpriteMap</a>, <a href=#Horizontal>Horizontal</a>, <a href=#Vertical>Vertical</a>, <a href=#LTVectorSprite>LTVectorSprite</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DirectAs>
<tr><td class=doctop colspan=2>Method DirectAs( Sprite:LTSprite )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Directs sprite as given angular sprite.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#DirectTo>DirectTo</a>.</td></tr>
<tr><td class=docleft width=1%><a href=DirectAs.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Incbin "kolobok.png"

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Const SpritesQuantity:Int = 50
	
	Field Layer:LTLayer = New LTLayer
	Field Cursor:TCursor = New TCursor
	Field SpriteImage:LTImage = LTImage.FromFile( "incbin::kolobok.png" )
	Field Selected:LTSprite
	
	Method Init()
		For Local N:Int = 1 To SpritesQuantity
			Local Sprite:LTSprite = LTSprite.FromShape( Rnd( -15, 15 ), Rnd( -11, 11 ), , , LTSprite.Oval, Rnd( 360 ) )
			Sprite.SetDiameter( Rnd( 1, 3 ) )
			Sprite.Visualizer.SetRandomColor()
			Sprite.Visualizer.Image = SpriteImage
			Layer.AddLast( Sprite )
		Next
		
		Cursor.Visualizer.Image = SpriteImage
		Cursor.ShapeType = LTSprite.Pivot
		L_InitGraphics()
	End Method
	
	Method Logic()
		Cursor.Act()
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		Layer.Draw()
		Cursor.Draw()
		DrawText( "Click left mouse button on sprite to direct cursor sprite as it", 0, 0 )
		DrawText( "and right button to set size equal to sprite's", 0, 16 )
		L_PrintText( "DirectAs, SetSizeAs example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type



Type TCursor Extends LTSprite
	Field SizeHandler:TSizeCollisionHandler = New TSizeCollisionHandler
	Field DirectionHandler:TDirectionCollisionHandler = new TDirectionCollisionHandler
	
	Method Act()
		SetMouseCoords()
		If MouseHit( 1 ) Then CollisionsWithLayer( Example.Layer, DirectionHandler )
		If MouseHit( 2 ) Then CollisionsWithLayer( Example.Layer, SizeHandler )
	End Method
End Type



Type TSizeCollisionHandler Extends LTSpriteCollisionHandler
	Method HandleCollision( Sprite1:LTSprite, Sprite2:LTSprite )
		Sprite1.SetSizeAs( Sprite2 )
	End Method
End Type



Type TDirectionCollisionHandler Extends LTSpriteCollisionHandler
	Method HandleCollision( Sprite1:LTSprite, Sprite2:LTSprite )
		Sprite1.DirectAs( Sprite2 )
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DirectTo>
<tr><td class=doctop colspan=2>Method DirectTo( Shape:LTShape )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Direct the sprite to center of the given shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#DirectAs>DirectAs</a>.</td></tr>
<tr><td class=docleft width=1%><a href=DirectTo.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Incbin "kolobok.png"

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Const KoloboksQuantity:Int = 50
	
	Field Layer:LTLayer = New LTLayer
	Field KolobokImage:LTImage = LTImage.FromFile( "incbin::kolobok.png" )
	
	Method Init()
		For Local N:Int = 1 To KoloboksQuantity
			Local Kolobok:TKolobok = New TKolobok
			Kolobok.SetCoords( Rnd( -15, 15 ), Rnd( -11, 11 ) )
			Kolobok.SetDiameter( Rnd( 1, 3 ) )
			Kolobok.ShapeType = LTSprite.Oval
			Kolobok.Visualizer.SetRandomColor()
			Kolobok.Visualizer.Image = KolobokImage
			Layer.AddLast( Kolobok )
		Next
		L_InitGraphics()
	End Method
	
	Method Logic()
		Layer.Act()
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		Layer.Draw()
		L_PrintText( "DirectTo example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type



Type TKolobok Extends LTSprite
	Method Act()
		DirectTo( L_Cursor )
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=FirstCollidedSpriteOfLayer>
<tr><td class=doctop colspan=2>Method FirstCollidedSpriteOfLayer:LTSprite( Layer:LTLayer )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Searches the layer for first sprite which collides with given.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=MoveBackward>
<tr><td class=doctop colspan=2>Method MoveBackward()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Moves sprite backward.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#Move>Move</a>, <a href=#MoveForward>MoveForward</a>, <a href=#Turn>Turn</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=MoveForward>
<tr><td class=doctop colspan=2>Method MoveForward()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Moves sprite forward.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#Move>Move</a>, <a href=#MoveBackward>MoveBackward</a>, <a href=#Turn>Turn</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Overlaps>
<tr><td class=doctop colspan=2>Method Overlaps:Int( Sprite:LTSprite )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>True if the sprite overlaps given sprite, otherwise false.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Checks if the sprite overlaps given sprite.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Pivot overlapping is not supported.</td></tr>
<tr><td class=docleft width=1%><a href=Overlaps.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Field Pivot:LTSprite = LTSprite.FromShape( 6, 0, 0, 0, LTSprite.Pivot )
	Field Oval:LTSprite = LTSprite.FromShape( -4, -2, 3, 5, LTSprite.Oval )
	Field Rectangle:LTSprite = LTSprite.FromShape( 0, 5, 4, 4, LTSprite.Rectangle )
	Field Triangle:LTSprite = LTSprite.FromShape( 4, 4, 3, 5, LTSprite.TopLeftTriangle )
	Field Cursor:LTSprite = LTSprite.FromShape( 0, 0, 16, 16 )
	Field Text:String
	
	Method Init()
		Pivot.Visualizer.SetColorFromHex( "FF0000" )
		Oval.Visualizer.SetColorFromHex( "00FF00" )
		Rectangle.Visualizer.SetColorFromHex( "0000FF" )
		Triangle.Visualizer.SetColorFromHex( "007FFF" )
		Cursor.Visualizer.Alpha = 0.5
		L_InitGraphics()
	End Method
	
	Method Logic()
		Cursor.SetMouseCoords()
		Text = ""
		If Cursor.Overlaps( Pivot ) Then Text = ", pivot"
		If Cursor.Overlaps( Oval ) Then Text :+ ", oval"
		If Cursor.Overlaps( Rectangle ) Then Text :+ ", rectangle"
		If Cursor.Overlaps( Triangle ) Then Text :+ ", triangle"
		If Not Text Then Text = ", nothing"
		If MouseHit( 2 ) Then Cursor.ShapeType = 3 - Cursor.ShapeType
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		Pivot.Draw()
		Oval.Draw()
		Rectangle.Draw()
		Triangle.Draw()
		Cursor.Draw()
		DrawText( "Press right mouse button to change cursor shape", 0, 0 )
		DrawText( "Cursor rectangle fully overlaps " + Text[ 2.. ], 0, 16 )
		L_PrintText( "Overlaps example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=PushFromSprite>
<tr><td class=doctop colspan=2>Method PushFromSprite( Sprite:LTSprite )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Pushes sprite from given sprite.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also : <a href=#WedgeOffWithSprite>WedgeOffWithSprite</a>, <a href=#PushFromTile>PushFromTile</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=PushFromTile>
<tr><td class=doctop colspan=2>Method PushFromTile( TileMap:LTTileMap, TileX:Int, TileY:Int )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Pushes sprite from given tile.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also : <a href=#PushFromSprite>PushFromSprite</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SetAsTile>
<tr><td class=doctop colspan=2>Method SetAsTile( TileMap:LTTileMap, TileX:Int, TileY:Int )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sets the sprite as a tile.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Position, size, visualizer and frame will be changed. This method can be used to cover other shapes with the tile or voluntary moving the tile.
<p>
See also: <a href=#GetTileForPoint>GetTileForPoint</a> example.</td></tr>
<tr><td class=docleft width=1%><a href=SetAsTile.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Incbin "tiles.png"

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Const TileMapWidth:Int = 16
	Const TileMapHeight:Int = 12
	
	Field TileSet:LTTileSet = LTTileSet.Create( LTImage.FromFile( "incbin::tiles.png", 8, 4 ) )
	Field TileMap:LTTileMap = LTTileMap.Create( TileSet, TileMapWidth, TileMapHeight )
	Field Pieces:LTLayer = New LTLayer
	
	Method Init()
		L_InitGraphics()
		TileMap.SetSize( TileMapWidth * 2, TileMapHeight * 2 )
		For Local Y:Int = 0 Until TileMapHeight
			For Local X:Int = 0 Until TileMapWidth
				TileMap.SetTile( X, Y, Rand( 1, 31 ) )
			Next
		Next
	End Method
	
	Method Logic()
		If MouseHit( 1 ) Then 
			Local TileX:Int, TileY:Int
			TileMap.GetTileForPoint( L_Cursor.X, L_Cursor.Y, TileX, TileY )
			If TileMap.GetTile( TileX, TileY ) > 0 Then
				Local Piece:TPiece = TPiece.Create()
				Piece.SetAsTile( TileMap, TileX, TileY )
				TileMap.SetTile( TileX, TileY, 0 )
			End If
		End If
		Pieces.Act()
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		TileMap.Draw()
		Pieces.Draw()
		DrawText( "Click on tiles to make them fall", 0, 0 )
		L_PrintText( "SetAsTile example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type



Type TPiece Extends LTVectorSprite
	Const Gravity:Double = 8.0
	
	Field StartingTime:Double = 0
	Field AngularDirection:Double = 0
	
	Function Create:TPiece()
		Local Piece:TPiece = New TPiece
		Piece.StartingTime = Example.Time
		Piece.AngularDirection = -1 + 2 * Rand( 0, 1 )
		Example.Pieces.AddFirst( Piece )
		Return Piece
	End Function
	
	Method Act()
		MoveForward()
		Angle = ( Example.Time - StartingTime ) * 45 * AngularDirection
		DY :+ L_PerSecond( Gravity )
		If TopY() > Example.TileMap.BottomY() Then Example.Pieces.Remove( Self )
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Turn>
<tr><td class=doctop colspan=2>Method Turn( TurningSpeed:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Turns the sprite.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Turns the sprite with given speed per second.</td></tr>
<tr><td class=docleft width=1%><a href=Turn.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Incbin "tank.png"

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Const TurningSpeed:Double = 90

	Field Tank:LTSprite = LTSprite.FromShape( 0, 0, 2, 2, LTSprite.Rectangle, 0, 5 )
	
	Method Init()
		L_InitGraphics()
		Tank.Visualizer = LTVisualizer.FromFile( "incbin::tank.png" )
	End Method
	
	Method Logic()
		If KeyDown( Key_Left ) Then Tank.Turn( -TurningSpeed )
		If KeyDown( Key_Right ) Then Tank.Turn( TurningSpeed )
		If KeyDown( Key_Up ) Then Tank.MoveForward()
		If KeyDown( Key_Down ) Then Tank.MoveBackward()
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		Tank.Draw()
		DrawText( "Press arrow keys to move tank", 0, 0 )
		L_PrintText( "Turn, MoveForward, MoveBackward example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=WedgeOffWithSprite>
<tr><td class=doctop colspan=2>Method WedgeOffWithSprite( Sprite:LTSprite, SelfMovingResistance:Double = 0.5, SpriteMovingResistance:Double = 0.5 )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Wedges off sprite with given sprite.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Pushes sprites from each other until they stops colliding. More the moving resistance, less the sprite will be moved.
<ul>
<li> If each sprite's moving resistance is zero, or each sprite's moving resistance is less than 0 then sprites will be moved on same distance.
<li> If one of the sprite has zero moving resistance and other's moving resistance is non-zero, only zero-moving-resistance sprite will be moved
<li> If one of the sprite has moving resistance less than 0 and other has moving resistance more or equal to 0, then only zero-or-more-moving-resistance sprite will be moved.
</ul></td></tr>
<tr><td class=docleft width=1%><a href=WedgeOffWithSprite.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Incbin "kolobok.png"

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Const KoloboksQuantity:Int = 50
	
	Field Koloboks:LTLayer = New LTLayer
	Field KolobokImage:LTImage = LTImage.FromFile( "incbin::kolobok.png" )
	Field Player:TKolobok
	Field DebugMode:Int
	Field CollisionHandler:TCollisionHandler = New TCollisionHandler
	
	Method Init()
		For Local N:Int = 1 To KoloboksQuantity
			TKolobok.CreateKolobok()
		Next
		Player = TKolobok.CreatePlayer()
		L_InitGraphics()
	End Method
	
	Method Logic()
		Koloboks.Act()
		
		If KeyDown( Key_Left ) Then Player.Turn( -Player.TurningSpeed )
		If KeyDown( Key_Right ) Then Player.Turn( Player.TurningSpeed )
		If KeyDown( Key_Up ) Then Player.MoveForward()
		If KeyDown( Key_Down ) Then Player.MoveBackward()
		
		If KeyHit( Key_D ) Then DebugMode = Not DebugMode
		
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		if DebugMode Then
			Koloboks.DrawUsingVisualizer( L_DebugVisualizer )
			ShowDebugInfo()
		Else
			Koloboks.Draw()
			DrawText( "Move white kolobok with arrow keys and push other koloboks and press D for debug mode", 0, 0 )
			L_PrintText( "WedgeOffWithSprite example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
		End If
	End Method
End Type



Type TKolobok Extends LTSprite
	Const TurningSpeed:Double = 180.0
	
	Function CreatePlayer:TKolobok()
		Local Player:TKolobok = Create()
		Player.SetDiameter( 2 )
		Player.Velocity = 7
		Return Player
	End Function
	
	Function CreateKolobok:TKolobok()
		Local Kolobok:TKolobok = Create()
		Kolobok.SetCoords( Rnd( -15, 15 ), Rnd( -11, 11 ) )
		Kolobok.SetDiameter( Rnd( 1, 3 ) )
		Kolobok.Angle = Rnd( 360 )
		Kolobok.Visualizer.SetRandomColor()
		Return Kolobok
	End Function
	
	Function Create:TKolobok()
		Local Kolobok:TKolobok = New TKolobok
		Kolobok.ShapeType = LTSprite.Oval
		Kolobok.Visualizer.Image = Example.KolobokImage
		Kolobok.Visualizer.SetVisualizerScale( 1.3, 1.3 )
		Example.Koloboks.AddLast( Kolobok )
		Return Kolobok
	End Function
	
	Method Act()
		CollisionsWithLayer( Example.Koloboks, Example.CollisionHandler )
	End Method
End Type



Type TCollisionHandler Extends LTSpriteCollisionHandler
	Method HandleCollision( Sprite1:LTSprite, Sprite2:LTSprite )
		Sprite1.WedgeOffWithSprite( Sprite2, Sprite1.Width ^ 2, Sprite2.Width ^ 2 )
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=FromShape>
<tr><td class=doctop colspan=2>Function FromShape:LTSprite( X:Double = 0.0, Y:Double = 0.0, Width:Double = 1.0, Height:Double = 1.0, ShapeType:Int = Rectangle, Angle:Double = 0.0, Velocity:Double = 1.0 )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Created sprite.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Creates sprite using given coordinates, size, shape type, angle and velocity.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also <a href=#Overlaps>Overlaps</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=FromShapeType>
<tr><td class=doctop colspan=2>Function FromShapeType:LTSprite( ShapeType:Int = Rectangle )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Created sprite.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Creates sprite using given shape type.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTSpriteAndLineSegmentCollisionHandler>
<tr><td class=doctop colspan=2>Type LTSpriteAndLineSegmentCollisionHandler Extends LTObject</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sprite and line collision handling class.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Collision check method with specified collision handler will execute this handler's method on collision sprite with line.
<p>
See also: <a href=#Active>Active</a> example.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTSpriteAndTileCollisionHandler>
<tr><td class=doctop colspan=2>Type LTSpriteAndTileCollisionHandler Extends LTObject</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sprite and tile collision handling class.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Collision check method with specified collision handler will execute this handler's method on collision sprite with tile.
<p>
See also: <a href=#Active>Active</a> example.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTSpriteCollisionHandler>
<tr><td class=doctop colspan=2>Type LTSpriteCollisionHandler Extends LTObject</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sprite collision handling class.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Sprite collision check method with specified collision handler will execute this handler's method on collision one sprite with another.
<p>
See also: <a href=#Active>Active</a> example.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTSpriteGroup>
<tr><td class=doctop colspan=2>Type LTSpriteGroup Extends LTSprite</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Group of sprites.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>It has a lot of methods duplicating methods of TList.</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTSpriteGroup_fields></a>Fields Summary</th></tr><tr><td colspan=2>
<a href=#Children>Children</a>
</table>
<table class=doc width=100% cellspacing=3 id=Children>
<tr><td class=doctop colspan=2>Field Children:TList = New TList</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>List of sprites.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTSpriteMap>
<tr><td class=doctop colspan=2>Type LTSpriteMap Extends LTMap</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sprite map is a structure which can contain sprites, draw and perform collision checks between them and other shapes.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Operations like drawing and checking collision between large groups of sprites will be faster with use of collision maps.</td></tr>
<tr><td class=docleft width=1%><a href=LTSpriteMap.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Global Example:TExample = New TExample
Example.Execute()

Const MapSize:Int = 192

Type TExample Extends LTProject
	Const SpritesQuantity:Int = 800
	
	Field Rectangle:LTShape = LTSprite.FromShape( 0, 0, MapSize, MapSize )
	Field Cursor:LTSprite = LTSprite.FromShape( 0, 0, 0, 0, LTSprite.Pivot )
	Field SpriteMap:LTSpriteMap = LTSpriteMap.CreateForShape( Rectangle, 2.0 )
	Field CollisionHandler:TCollisionHandler = New TCollisionHandler
	
	Method Init()
		For Local N:Int = 1 To SpritesQuantity
			TBall.Create()
		Next
		Rectangle.Visualizer = LTContourVisualizer.FromWidthAndHexColor( 0.1, "FF0000" )
		L_InitGraphics()
	End Method
	
	Method Logic()
		L_CurrentCamera.Move( 0.1 * ( MouseX() - 400 ), 0.1 * ( MouseY() - 300 ) )
		SpriteMap.Act()
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		SpriteMap.Draw()
		Rectangle.Draw()
		DrawOval( 398, 298, 5, 5 )
		L_Cursor.Draw()
		L_PrintText( "LTSpriteMap, CollisionsWithSpriteMap example", L_CurrentCamera.X, L_CurrentCamera.Y + 12, LTAlign.ToCenter, LTAlign.ToBottom )
		ShowDebugInfo()
	End Method
End Type



Type TBall Extends LTSprite
	Function Create:TBall()
		Local Ball:TBall = New TBall
		Ball.SetCoords( Rnd( -0.5 * ( MapSize - 2 ), 0.5 * ( MapSize - 2 ) ), Rnd( -0.5 * ( MapSize - 2 ), 0.5 * ( MapSize - 2 ) ) )
		Ball.SetDiameter( Rnd( 0.5, 1.5 ) )
		Ball.Angle = Rnd( 360 )
		Ball.Velocity = Rnd( 3, 7 )
		Ball.ShapeType = LTSprite.Oval
		Ball.Visualizer.SetRandomColor()
		Example.SpriteMap.InsertSprite( Ball )
		Return Ball
	End Function
	
	Method Act()
		Super.Act()
		L_CurrentCamera.BounceInside( Example.Rectangle )
		MoveForward()
		BounceInside( Example.Rectangle )
		CollisionsWithSpriteMap( Example.SpriteMap, Example.CollisionHandler )
	End Method
End Type



Type TCollisionHandler Extends LTSpriteCollisionHandler
	Method HandleCollision( Sprite1:LTSprite, Sprite2:LTSprite )
		If TParticleArea( Sprite2 ) Then Return
		Sprite1.PushFromSprite( Sprite2 )
		Sprite1.Angle = Sprite2.DirectionTo( Sprite1 )
		Sprite2.Angle = Sprite1.DirectionTo( Sprite2 )
		TParticleArea.Create( Sprite1, Sprite2 )
	End Method
End Type



Type TParticleArea Extends LTSprite
	Const ParticlesQuantity:Int = 30
	Const FadingTime:Double = 1.0
	
	Field Particles:TList = New TList
	Field StartingTime:Double

	Function Create( Ball1:LTSprite, Ball2:LTSprite )
		Local Area:TParticleArea = New TParticleArea
		Local Diameters:Double = Ball1.GetDiameter() + Ball2.GetDiameter()
		Area.SetCoords( Ball1.X + ( Ball2.X - Ball1.X ) * Ball1.GetDiameter() / Diameters, Ball1.Y + ( Ball2.Y - Ball1.Y ) * Ball1.GetDiameter() / Diameters )
		Area.SetSize( 4, 4 )
		Area.StartingTime = Example.Time
		Local Angle:Double = Ball1.DirectionTo( Ball2 ) + 90
		For Local N:Int = 0 Until ParticlesQuantity
			Local Particle:LTSprite = New LTSprite
			Particle.JumpTo( Area )
			Particle.Angle = Angle + Rnd( -15, 15 ) + ( N Mod 2 ) * 180
			Particle.SetDiameter( Rnd( 0.2, 0.6 ) )
			Particle.Velocity = Rnd( 0.5, 3 )
			Area.Particles.AddLast( Particle )
		Next
		Example.SpriteMap.InsertSprite( Area )
	End Function
	
	Method Draw()
		Local A:Double = 1.0 - ( Example.Time - StartingTime ) / FadingTime
		If A >= 0 Then
			SetAlpha( A )
			SetColor( 255, 192, 0 )
			For Local Sprite:LTSprite = Eachin Particles
				Local DX:Double = Cos( Sprite.Angle ) * Sprite.GetDiameter() * 0.5
				Local DY:Double = Sin( Sprite.Angle ) * Sprite.GetDiameter() * 0.5
				Local SX1:Double, SY1:Double, SX2:Double, SY2:Double
				L_CurrentCamera.FieldToScreen( Sprite.X - DX, Sprite.Y - DY, SX1, SY1 )
				L_CurrentCamera.FieldToScreen( Sprite.X + DX, Sprite.Y + DY, SX2, SY2 )
				DrawLine( SX1, SY1, SX2, SY2 )
				Sprite.MoveForward()
			Next
			LTVisualizer.ResetColor()
		End If
	End Method
	
	Method Act()
		If Example.Time > StartingTime + FadingTime Then Example.SpriteMap.RemoveSprite( Self )

		If CollidesWithSprite( L_CurrentCamera ) Then
			For Local Sprite:LTSprite = Eachin Particles
				Sprite.MoveForward()
			Next
		End If
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTSpriteMap_fields></a>Fields Summary</th></tr><tr><td colspan=2>
<a href=#CellHeight>CellHeight</a>
, 
<a href=#CellWidth>CellWidth</a>
, 
<a href=#LeftMargin>LeftMargin</a>
, 
<a href=#PivotMode>PivotMode</a>
, 
<a href=#Sorted>Sorted</a>
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTSpriteMap_methods></a>Methods Summary</th></tr>
<tr><td class=docleft width=1%><a href=#Clear>Clear</a></td><td class=docright>
Clears sprite map.
</td></tr>
<tr><td class=docleft width=1%><a href=#Draw>Draw</a></td><td class=docright>
Draws all objects of sprite map which are in cells under camera's rectangle plus margins.
</td></tr>
<tr><td class=docleft width=1%><a href=#InsertSprite>InsertSprite</a></td><td class=docright>
Inserts a sprite into sprite map.
</td></tr>
<tr><td class=docleft width=1%><a href=#RemoveSprite>RemoveSprite</a></td><td class=docright>
Removes sprite from sprite map.
</td></tr>
<tr><td class=docleft width=1%><a href=#SetBorder>SetBorder</a></td><td class=docright>
Sets all margins to single value.
</td></tr>
<tr><td class=docleft width=1%><a href=#SetCellSize>SetCellSize</a></td><td class=docright>
Sets cell size of sprite map.
</td></tr>
<tr><td class=docleft width=1%><a href=#SetMargins>SetMargins</a></td><td class=docright>
Sets margins of the map.
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTSpriteMap_functions></a>Functions Summary</th></tr>
<tr><td class=docleft width=1%><a href=#Create>Create</a></td><td class=docright>
Creates collision map.
</td></tr>
<tr><td class=docleft width=1%><a href=#CreateForShape>CreateForShape</a></td><td class=docright>
Creates collision map using existing shape.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=CellHeight>
<tr><td class=doctop colspan=2>Field CellHeight:Double = 1.0</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Height of sprite map cell in units.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#SetCellSize>SetCellSize</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=CellWidth>
<tr><td class=doctop colspan=2>Field CellWidth:Double = 1.0</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Width of sprite map cell in units.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#SetCellSize>SetCellSize</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=LeftMargin>
<tr><td class=doctop colspan=2>Field LeftMargin:Double, RightMargin:Double, TopMargin:Double, BottomMargin:Double</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Margins for drawing sprite map in units.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>When drawing sprite map, margins define the size of rectangular frame around camera's rectangle in which objects will be also drawn.
Will be handy if you draw sprite map with objects with XScale / YScale parameters greater than 1.0.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=PivotMode>
<tr><td class=doctop colspan=2>Field PivotMode:Int = False</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Flag which defines will be all objects recognized as pivots.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>False by default.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Sorted>
<tr><td class=doctop colspan=2>Field Sorted:Int = False</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Flag which defines will be the sprite map sorted by sprite Y coordinates.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>False by default.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Clear>
<tr><td class=doctop colspan=2>Method Clear()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Clears sprite map.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Draw>
<tr><td class=doctop colspan=2>Method Draw()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Draws all objects of sprite map which are in cells under camera's rectangle plus margins.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=InsertSprite>
<tr><td class=doctop colspan=2>Method InsertSprite( Sprite:LTSprite, ChangeSpriteMapField:Int = True )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Inserts a sprite into sprite map.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>When PivotMode is set to True, insertion will be faster.
<p>
See also: <a href=#RemoveSprite>RemoveSprite</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=RemoveSprite>
<tr><td class=doctop colspan=2>Method RemoveSprite( Sprite:LTSprite, ChangeSpriteMapField:Int = True )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Removes sprite from sprite map.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>When PivotMode is set to True, removal will be faster.
<p>
See also: <a href=#InsertSprite>InsertSprite</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SetBorder>
<tr><td class=doctop colspan=2>Method SetBorder( Border:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sets all margins to single value.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SetCellSize>
<tr><td class=doctop colspan=2>Method SetCellSize( NewCellWidth:Double, NewCellHeight:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sets cell size of sprite map.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SetMargins>
<tr><td class=doctop colspan=2>Method SetMargins( NewLeftMargin:Double, NewTopMargin:Double, NewRightMargin:Double, NewBottomMargin:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sets margins of the map.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Create>
<tr><td class=doctop colspan=2>Function Create:LTSpriteMap( XQuantity:Int, YQuantity:Int, CellWidth:Double = 1.0, CellHeight:Double = 1.0, Sorted:Int = False, PivotMode:Int = False )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Creates collision map.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>You should specify cell quantities and size.
<p>
See also: <a href=#CreateForShape>CreateForShape</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=CreateForShape>
<tr><td class=doctop colspan=2>Function CreateForShape:LTSpriteMap( Shape:LTShape, CellSize:Double = 1.0, Sorted:Int = False )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Creates collision map using existing shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Collision map with size not less than shape size will be created. You can specify cell size either.
Use this function ob layer bounds or layer tilemap which are covers all level to maximize performance.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTTileMap>
<tr><td class=doctop colspan=2>Type LTTileMap Extends LTIntMap</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Tilemap is displayable rectangular tile-based shape with 2d array of tile indexes and tileset with tile images.</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTTileMap_fields></a>Fields Summary</th></tr><tr><td colspan=2>
<a href=#HorizontalOrder>HorizontalOrder</a>
, 
<a href=#LeftMargin>LeftMargin</a>
, 
<a href=#TileSet>TileSet</a>
, 
<a href=#TilesQuantity>TilesQuantity</a>
, 
<a href=#VerticalOrder>VerticalOrder</a>
, 
<a href=#Wrapped>Wrapped</a>
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTTileMap_methods></a>Methods Summary</th></tr>
<tr><td class=docleft width=1%><a href=#Enframe>Enframe</a></td><td class=docright>
Enframes tilemap.
</td></tr>
<tr><td class=docleft width=1%><a href=#GetTile>GetTile</a></td><td class=docright>
Returns tile index for given coordinates.
</td></tr>
<tr><td class=docleft width=1%><a href=#GetTileCollisionShape>GetTileCollisionShape</a></td><td class=docright>
Returns tile collision shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#GetTileForPoint>GetTileForPoint</a></td><td class=docright>
Returns tile coordinates for given field coordinates.
</td></tr>
<tr><td class=docleft width=1%><a href=#GetTileHeight>GetTileHeight</a></td><td class=docright>
Returns tilemap tile height.
</td></tr>
<tr><td class=docleft width=1%><a href=#GetTileWidth>GetTileWidth</a></td><td class=docright>
Returns tilemap tile width.
</td></tr>
<tr><td class=docleft width=1%><a href=#RefreshTilesQuantity>RefreshTilesQuantity</a></td><td class=docright>
Refreshes tile indexes of tilemap.
</td></tr>
<tr><td class=docleft width=1%><a href=#SetTile>SetTile</a></td><td class=docright>
Sets tile index for given tile coordinates.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=HorizontalOrder>
<tr><td class=doctop colspan=2>Field HorizontalOrder:Int = 1</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Horizontal displaying order.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>1 means drawing tile columns from left to right, -1 means otherwise.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=LeftMargin>
<tr><td class=doctop colspan=2>Field LeftMargin:Double, RightMargin:Double, TopMargin:Double, BottomMargin:Double</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Margins for drawing tile map in units.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>When drawing tile map, margins define the size of rectangular frame around camera's rectangle in which tiles will be also drawn.
Will be handy if tilemap's XScale / YScale parameters are greater than 1.0.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=TileSet>
<tr><td class=doctop colspan=2>Field TileSet:LTTileset</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Tilemap's default tileset.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#LTTileSet>LTTileSet</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=TilesQuantity>
<tr><td class=doctop colspan=2>Field TilesQuantity:Int</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Tiles quantity of tilemap.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>All map tile indexes should be in 0...TilesQuantity - 1 interval.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=VerticalOrder>
<tr><td class=doctop colspan=2>Field VerticalOrder:Int = 1</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Vertical displaying order.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>1 means drawing tile rows from top to bottom, -1 means otherwise.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Wrapped>
<tr><td class=doctop colspan=2>Field Wrapped:Int = False</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Wrapping flag.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>If this flag will be set to True, then map will be repeated (tiled, wrapped) enlessly in all directions.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Enframe>
<tr><td class=doctop colspan=2>Method Enframe( ByTileSet:LTTileset = Null )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Enframes tilemap.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>You can specify tileset for enframing. If no tileset will be specified, tilemap's default tileset will be used.
<p>
See also: <a href=#LTTileSet>LTTileSet</a>.</td></tr>
<tr><td class=docleft width=1%><a href=Enframe.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Const MapSize:Int = 64
Const MapScale:Double = 8
Const FilledTileNum:Int = 20

Incbin "tileset.lw"
Incbin "curved_areas.png"

L_InitGraphics()
L_EditorData = New LTEditorData
SetClsColor( 64, 128, 0 )

Cls
Local DoubleMap:LTDoubleMap = New LTDoubleMap
DoubleMap.SetResolution( MapSize, MapSize )
DrawDoubleMap( DoubleMap )
DrawText( "Step 1: creating Double map and set its resolution", 0, 0 )
Flip
Waitkey

Cls
DoubleMap.PerlinNoise( 16, 16, 0.25, 0.5, 4 )
DrawDoubleMap( DoubleMap )
DrawText( "Step 2: filling DoubleMap with Perlin noise", 0, 0 )
Flip
Waitkey

Cls
L_SetIncbin( True )
Local World:LTWorld = LTWorld.FromFile( "tileset.lw" )
L_SetIncbin( False )
Local TileSet:LTTileSet = LTTileSet( L_EditorData.Tilesets.First() )
Local TileMap:LTTileMap = LTTileMap.Create( TileSet, MapSize, MapSize )
TileMap.SetSize( MapSize * MapScale / 25.0, MapSize * MapScale / 25.0 )
DrawText( "Step 3: loading world, extract tileset from there and", 0, 0 )
DrawText( "creating tilemap with same size and this tileset", 0, 16 )
DrawDoubleMap( DoubleMap )
Flip
Waitkey


Cls
DoubleMap.ExtractTo( TileMap, 0.5, 1.0, FilledTileNum )
DrawText( "Step 4: setting tiles number of tilemap to FilledTileNum", 0, 0 )
DrawText( "if corresponding value of Double map is higher than 0.5", 0, 16 )
TileMap.Draw()
DrawSignature()
Flip
Waitkey

Cls
For Local Y:Int = 0 Until MapSize
	For Local X:Int = 0 Until MapSize
		Fix( TileMap, X, Y )
	Next
Next
DrawText( "Step 5: preparing tilemap by fixing some unmanaged cell positions", 0, 0 )
TileMap.Draw()
DrawSignature()
Flip
Waitkey

Cls
TileMap.Enframe()
DrawText( "Step 6a: enframing tile map", 0, 0 )
TileMap.Draw()
DrawSignature()
Flip
Waitkey


Cls
L_ProlongTiles = False
TileMap.Enframe() 
DrawText( "Step 6b: enframing tile map with prolonging tiles off", 0, 0 )
TileMap.Draw()
DrawSignature()
Flip
Waitkey


SetClsColor( 0, 0, 0 )
    

Function DrawDoubleMap( Map:LTDoubleMap )
	Local Image:TImage = CreateImage( MapSize, MapSize )
	Local Pixmap:TPixmap = Lockimage( Image )
	ClearPixels( Pixmap, $FF000000 )
	Map.PasteToPixmap( Pixmap )
	Unlockimage( Image )
	SetScale( MapScale, MapScale )
	DrawImage( Image, 400 - 0.5 * MapScale * MapSize, 300 - 0.5 * MapScale * MapSize )
	SetScale( 1, 1 )
	DrawSignature()
End Function



Function DrawSignature()
	L_PrintText( "PerlinNoise, ExtractTo, Enframe, L_ProlongTiles, example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
End Function



Function Fix( TileMap:LTTileMap, X:Int, Y:Int )
	If TileMap.Value[ X, Y ] = FilledTileNum Then Return
	Local DoFix:Int = False
	
	Local FixHorizontal:Int = True
	If X > 0 And X < MapSize - 1 Then
		If TileMap.Value[ X - 1, Y ] = FilledTileNum And TileMap.Value[ X + 1, Y ] = FilledTileNum Then DoFix = True
	Else
		FixHorizontal = False
	End If
	
	Local FixVertical:Int = True
	If Y > 0 And Y < MapSize - 1 Then
		If TileMap.Value[ X, Y - 1 ] = FilledTileNum And TileMap.Value[ X, Y + 1 ] = FilledTileNum Then DoFix = True
	Else
		FixVertical = False
	End If
	
	If DoFix Then
		TileMap.Value[ X, Y ] = FilledTileNum
		If FixHorizontal Then
			Fix( TileMap, X - 1, Y )
			Fix( TileMap, X + 1, Y )
		End If
		If FixVertical Then
			Fix( TileMap, X, Y - 1 )
			Fix( TileMap, X, Y + 1 )
		End If
	End If
End Function</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=GetTile>
<tr><td class=doctop colspan=2>Method GetTile:Int( TileX:Int, TileY:Int )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Tile index for given tile coordinates.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Returns tile index for given coordinates.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#SetTile>SetTile</a>, <a href=#SetAsTile>SetAsTile</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=GetTileCollisionShape>
<tr><td class=doctop colspan=2>Method GetTileCollisionShape:LTShape( TileX:Int, TileY:Int )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Tile collision shape of tilemap's tile with given coordinates using default tilemap tileset.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Returns tile collision shape.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=GetTileForPoint>
<tr><td class=doctop colspan=2>Method GetTileForPoint( X:Double, Y:Double, TileX:Int Var, TileY:Int Var )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Tile coordinates for given point.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Returns tile coordinates for given field coordinates.</td></tr>
<tr><td class=docleft width=1%><a href=GetTileForPoint.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Incbin "tiles.png"

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Const TileMapWidth:Int = 16
	Const TileMapHeight:Int = 12
	
	Field TileSet:LTTileSet = LTTileSet.Create( LTImage.FromFile( "incbin::tiles.png", 8, 4 ) )
	Field TileMap:LTTileMap = LTTileMap.Create( TileSet, TileMapWidth, TileMapHeight )
	Field Cursor:LTSprite = LTSprite.FromShape( 0, 0, 2, 2 )
	
	Method Init()
		L_InitGraphics()
		TileMap.SetSize( TileMapWidth * 2, TileMapHeight * 2 )
		For Local Y:Int = 0 Until TileMapHeight
			For Local X:Int = 0 Until TileMapWidth
				TileMap.SetTile( X, Y, Rand( 1, 31 ) )
			Next
		Next
		Cursor.Visualizer.Image = TileMap.TileSet.Image
		Cursor.Frame = 1
	End Method
		
	Method Logic()
		Cursor.SetMouseCoords()
		Local TileX:Int, TileY:Int
		TileMap.GetTileForPoint( Cursor.X, Cursor.Y, TileX, TileY )
		If TileX >= 0 And TileY >= 0 And TileX < TileMap.XQuantity And TileY < TileMap.YQuantity Then
			if MouseDown( 1 ) Then TileMap.SetTile( TileX, TileY, Cursor.Frame )
			If MouseHit( 2 ) Then Cursor.SetAsTile( TileMap, TileX, TileY )
		End If
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		TileMap.Draw()
		Cursor.Draw()
		DrawText( "Press right mouse button to select brush, left button to draw.", 0, 0 )
		L_PrintText( "GetTileForPoint, SetTile, SetAsTile example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=GetTileHeight>
<tr><td class=doctop colspan=2>Method GetTileHeight:Double()</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Tile height of the tilemap in units.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Returns tilemap tile height.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=GetTileWidth>
<tr><td class=doctop colspan=2>Method GetTileWidth:Double()</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Tile width of the tilemap in units.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Returns tilemap tile width.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#GetTileHeight>GetTileHeight</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=RefreshTilesQuantity>
<tr><td class=doctop colspan=2>Method RefreshTilesQuantity()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Refreshes tile indexes of tilemap.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Execute this method after lowering tiles quantity of this tilemap or its tileset to avoid errors.
Tile indexes will be limited to 0...TilesQuantity - 1 interval.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SetTile>
<tr><td class=doctop colspan=2>Method SetTile( TileX:Int, TileY:Int, TileNum:Int )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sets tile index for given tile coordinates.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#GetTile>GetTile</a>, <a href=#GetTileForPoint>GetTileForPoint</a> example, <a href=#Stretch>Stretch</a> example.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTTileMapPathFinder>
<tr><td class=doctop colspan=2>Type LTTileMapPathFinder Extends LTObject</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Pathfinder finds a path in tilemap using flooding algorithm.</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTTileMapPathFinder_methods></a>Methods Summary</th></tr>
<tr><td class=docleft width=1%><a href=#FindPath>FindPath</a></td><td class=docright>
Finds a path between two given points on previously specified tilemap.
</td></tr>
<tr><td class=docleft width=1%><a href=#Passage>Passage</a></td><td class=docright>
Method which determines which tiles are passable.
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTTileMapPathFinder_functions></a>Functions Summary</th></tr>
<tr><td class=docleft width=1%><a href=#Create>Create</a></td><td class=docright>
Creates pathfinder object with given tilemap and diagonal movement flag.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=FindPath>
<tr><td class=doctop colspan=2>Method FindPath:LTTileMapPosition( StartingX:Int, StartingY:Int, FinalX:Int, FinalY:Int, Range:Int = 0, MaxDistance:Int = 1024 )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>First tilemap position object in path. Next one can be retrieved using NextPosition field.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Finds a path between two given points on previously specified tilemap.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Passage>
<tr><td class=doctop colspan=2>Method Passage:Double( X:Int, Y:Int )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>True if tilemap cell with specified coordinates is passable.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Method which determines which tiles are passable.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>If you want to make your own way to determine is given tile passable, make class which extends LTTileMapPathFinder and rewrite this method.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Create>
<tr><td class=doctop colspan=2>Function Create:LTTileMapPathFinder( TileMap:LTIntMap, AllowDiagonalMovement:Int = True )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Found path or empty path if path is not found.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Creates pathfinder object with given tilemap and diagonal movement flag.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: LTGraph.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTTileMapPosition>
<tr><td class=doctop colspan=2>Type LTTileMapPosition</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Class for tilemap position - the point on tilemap.</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTTileMapPosition_fields></a>Fields Summary</th></tr><tr><td colspan=2>
<a href=#NextPosition>NextPosition</a>
, 
<a href=#PrevPosition>PrevPosition</a>
, 
<a href=#X>X</a>
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTTileMapPosition_methods></a>Methods Summary</th></tr>
<tr><td class=docleft width=1%><a href=#FirstPosition>FirstPosition</a></td><td class=docright>
Method for retrieving first position in queue.
</td></tr>
<tr><td class=docleft width=1%><a href=#LastPosition>LastPosition</a></td><td class=docright>
Method for retrieving last position in queue.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=NextPosition>
<tr><td class=doctop colspan=2>Field NextPosition:LTTileMapPosition</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Next position in the path.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=PrevPosition>
<tr><td class=doctop colspan=2>Field PrevPosition:LTTileMapPosition</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Previous position in the path.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=X>
<tr><td class=doctop colspan=2>Field X:Int, Y:Int</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Tile coordinates of the tilemap postion.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=FirstPosition>
<tr><td class=doctop colspan=2>Method FirstPosition:LTTileMapPosition()</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>First position in queue.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Method for retrieving first position in queue.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=LastPosition>
<tr><td class=doctop colspan=2>Method LastPosition:LTTileMapPosition()</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Last position in queue.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Method for retrieving last position in queue.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTTileSet>
<tr><td class=doctop colspan=2>Type LTTileSet Extends LTObject</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Tileset stores image and collision shapes of tiles for tilemaps. Also tile replacing/enframing rules are stored here.</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTTileSet_fields></a>Fields Summary</th></tr><tr><td colspan=2>
<a href=#EmptyTile>EmptyTile</a>
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTTileSet_methods></a>Methods Summary</th></tr>
<tr><td class=docleft width=1%><a href=#Enframe>Enframe</a></td><td class=docright>
Enframes the tile of given tilemap with given coordinates.
</td></tr>
<tr><td class=docleft width=1%><a href=#RefreshTilesQuantity>RefreshTilesQuantity</a></td><td class=docright>
Updates tileset when tiles quantity was changed.
</td></tr>
<tr><td class=docleft width=1%><a href=#Update>Update</a></td><td class=docright>
Updates tileset information.
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTTileSet_functions></a>Functions Summary</th></tr>
<tr><td class=docleft width=1%><a href=#Create>Create</a></td><td class=docright>
Creates tileset with given image and empty tile number.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=EmptyTile>
<tr><td class=doctop colspan=2>Field EmptyTile:Int = -1</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Number of undrawable tile.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>If this number will be set to 0 or more, the tile with this index will not be drawn.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Enframe>
<tr><td class=doctop colspan=2>Method Enframe( TileMap:LTTileMap, X:Int, Y:Int )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Enframes the tile of given tilemap with given coordinates.</td></tr>
<tr><td class=docleft width=1%><a href=Enframe.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Const MapSize:Int = 64
Const MapScale:Double = 8
Const FilledTileNum:Int = 20

Incbin "tileset.lw"
Incbin "curved_areas.png"

L_InitGraphics()
L_EditorData = New LTEditorData
SetClsColor( 64, 128, 0 )

Cls
Local DoubleMap:LTDoubleMap = New LTDoubleMap
DoubleMap.SetResolution( MapSize, MapSize )
DrawDoubleMap( DoubleMap )
DrawText( "Step 1: creating Double map and set its resolution", 0, 0 )
Flip
Waitkey

Cls
DoubleMap.PerlinNoise( 16, 16, 0.25, 0.5, 4 )
DrawDoubleMap( DoubleMap )
DrawText( "Step 2: filling DoubleMap with Perlin noise", 0, 0 )
Flip
Waitkey

Cls
L_SetIncbin( True )
Local World:LTWorld = LTWorld.FromFile( "tileset.lw" )
L_SetIncbin( False )
Local TileSet:LTTileSet = LTTileSet( L_EditorData.Tilesets.First() )
Local TileMap:LTTileMap = LTTileMap.Create( TileSet, MapSize, MapSize )
TileMap.SetSize( MapSize * MapScale / 25.0, MapSize * MapScale / 25.0 )
DrawText( "Step 3: loading world, extract tileset from there and", 0, 0 )
DrawText( "creating tilemap with same size and this tileset", 0, 16 )
DrawDoubleMap( DoubleMap )
Flip
Waitkey


Cls
DoubleMap.ExtractTo( TileMap, 0.5, 1.0, FilledTileNum )
DrawText( "Step 4: setting tiles number of tilemap to FilledTileNum", 0, 0 )
DrawText( "if corresponding value of Double map is higher than 0.5", 0, 16 )
TileMap.Draw()
DrawSignature()
Flip
Waitkey

Cls
For Local Y:Int = 0 Until MapSize
	For Local X:Int = 0 Until MapSize
		Fix( TileMap, X, Y )
	Next
Next
DrawText( "Step 5: preparing tilemap by fixing some unmanaged cell positions", 0, 0 )
TileMap.Draw()
DrawSignature()
Flip
Waitkey

Cls
TileMap.Enframe()
DrawText( "Step 6a: enframing tile map", 0, 0 )
TileMap.Draw()
DrawSignature()
Flip
Waitkey


Cls
L_ProlongTiles = False
TileMap.Enframe() 
DrawText( "Step 6b: enframing tile map with prolonging tiles off", 0, 0 )
TileMap.Draw()
DrawSignature()
Flip
Waitkey


SetClsColor( 0, 0, 0 )
    

Function DrawDoubleMap( Map:LTDoubleMap )
	Local Image:TImage = CreateImage( MapSize, MapSize )
	Local Pixmap:TPixmap = Lockimage( Image )
	ClearPixels( Pixmap, $FF000000 )
	Map.PasteToPixmap( Pixmap )
	Unlockimage( Image )
	SetScale( MapScale, MapScale )
	DrawImage( Image, 400 - 0.5 * MapScale * MapSize, 300 - 0.5 * MapScale * MapSize )
	SetScale( 1, 1 )
	DrawSignature()
End Function



Function DrawSignature()
	L_PrintText( "PerlinNoise, ExtractTo, Enframe, L_ProlongTiles, example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
End Function



Function Fix( TileMap:LTTileMap, X:Int, Y:Int )
	If TileMap.Value[ X, Y ] = FilledTileNum Then Return
	Local DoFix:Int = False
	
	Local FixHorizontal:Int = True
	If X > 0 And X < MapSize - 1 Then
		If TileMap.Value[ X - 1, Y ] = FilledTileNum And TileMap.Value[ X + 1, Y ] = FilledTileNum Then DoFix = True
	Else
		FixHorizontal = False
	End If
	
	Local FixVertical:Int = True
	If Y > 0 And Y < MapSize - 1 Then
		If TileMap.Value[ X, Y - 1 ] = FilledTileNum And TileMap.Value[ X, Y + 1 ] = FilledTileNum Then DoFix = True
	Else
		FixVertical = False
	End If
	
	If DoFix Then
		TileMap.Value[ X, Y ] = FilledTileNum
		If FixHorizontal Then
			Fix( TileMap, X - 1, Y )
			Fix( TileMap, X + 1, Y )
		End If
		If FixVertical Then
			Fix( TileMap, X, Y - 1 )
			Fix( TileMap, X, Y + 1 )
		End If
	End If
End Function</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=RefreshTilesQuantity>
<tr><td class=doctop colspan=2>Method RefreshTilesQuantity()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Updates tileset when tiles quantity was changed.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Execute this method every time you change TilesQuantity parameter.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Update>
<tr><td class=doctop colspan=2>Method Update()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Updates tileset information.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>This method will be automatically executed after loading tileset. Also execute it after forming or changing tileset categories.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Create>
<tr><td class=doctop colspan=2>Function Create:LTTileSet( Image:LTImage, EmptyTile:Int = -1 )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Created tileset.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Creates tileset with given image and empty tile number.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTVectorSprite>
<tr><td class=doctop colspan=2>Type LTVectorSprite Extends LTSprite</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Vector sprite has horizontal and vertical velocities forming velocity vector.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Handy for projects with gravity, platformers for example.
<p>
See also: <a href=#LTSprite>LTSprite</a>.</td></tr>
<tr><td class=docleft width=1%><a href=LTVectorSprite.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Incbin "tileset.png"
Incbin "mario.png"

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Const CoinsQuantity:Int = 100
	Const PlatformsQuantity:Int = 100
	Const MinPlatformLength:Int = 3
	Const MaxPlatformLength:Int = 12
	Const MapSize:Int = 128
	
	Const Void:Int = 0
	Const Bricks:Int = 1
	Const Coin:Int = 2
	
	Field Player:TPlayer = TPlayer.Create()
	Field TileMap:LTTileMap = LTTileMap.Create( LTTileSet.Create( LTImage.FromFile( "incbin::tileset.png", 4, 1 ), 0 ), MapSize, MapSize )
	Field Coins:Int
	
	Method Init()
		TileMap.SetSize( MapSize, MapSize )
		For Local N:Int = 0 Until CoinsQuantity
			TileMap.Value[ Rand( 1, MapSize - 2 ), Rand( 1, MapSize - 2 ) ] = Coin
		Next
		For Local N:Int = 0 Until PlatformsQuantity
			Local Size:Int = Rand( MinPlatformLength, MaxPlatformLength )
			Local X:Int = Rand( 1, MapSize - 1 - Size )
			Local Y:Int = Rand( 1, MapSize - 2 )
			For Local DX:Int = 0 Until Size
				TileMap.Value[ X + DX, Y ] = Bricks
			Next
		Next
		For Local N:Int = 0 Until MapSize 
			TileMap.Value[ N, 0 ] = Bricks
			TileMap.Value[ N, MapSize - 1 ] = Bricks
			TileMap.Value[ 0, N ] = Bricks
			TileMap.Value[ MapSize - 1, N ] = Bricks
		Next
		TileMap.TileSet.CollisionShape = New LTShape[ 3 ]
		TileMap.TileSet.CollisionShape[ 1 ] = LTSprite.FromShape( 0.5, 0.5 )
		TileMap.TileSet.CollisionShape[ 2 ] = LTSprite.FromShape( 0.5, 0.5, , , LTSprite.Oval )
		L_InitGraphics()
	End Method
	
	Method Logic()
		L_CurrentCamera.JumpTo( Player )
		L_CurrentCamera.LimitWith( TileMap )
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
		Player.Act()
	End Method

	Method Render()
		TileMap.Draw()
		Player.Draw()
		DrawText( "Move player with arrow keys", 0, 0 )
		DrawText( "Coins: " + Coins, 0, 16 )
		L_PrintText( "LTVectorSprite, CollisionsWithTileMap, HandleCollisionWithTile example", L_CurrentCamera.X, L_CurrentCamera.Y + 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type




Type TPlayer Extends LTVectorSprite
	Const Gravity:Double = 10.0
	Const HorizontalSpeed:Double = 5.0
	Const JumpStrength:Double = 15.0
	
	Field OnLand:Int
	Field HorizontalCollisionHandler:THorizontalCollisionHandler = New THorizontalCollisionHandler
	Field VerticalCollisionHandler:TVerticalCollisionHandler = New TVerticalCollisionHandler
	
	Function Create:TPlayer()
		Local Player:TPlayer = New TPlayer
		Player.SetSize( 0.8, 1.8 )
		Player.SetCoords( 0, 2 -0.5 * Example.MapSize )
		Player.Visualizer.Image = LTImage.FromFile( "incbin::mario.png", 4 )
		Return Player
	End Function
	
	Method Act()
		Move( DX, 0 )
		CollisionsWithTileMap( Example.TileMap, HorizontalCollisionHandler )
		
		OnLand = False
		Move( 0, DY )
		DY = DY + Example.PerSecond( Gravity )
		CollisionsWithTileMap( Example.TileMap, VerticalCollisionHandler )
		
		DX = 0.0
		If KeyDown( Key_Left ) Then
			DX = -HorizontalSpeed
			SetFacing( LeftFacing )
		ElseIf KeyDown( Key_Right ) Then
			DX = HorizontalSpeed
			SetFacing( RightFacing )
		End If 
		
		If OnLand Then If KeyDown( Key_Up ) Then DY = -JumpStrength
	End Method
End Type



Type THorizontalCollisionHandler Extends LTSpriteAndTileCollisionHandler
	Method HandleCollision( Sprite:LTSprite, TileMap:LTTileMap, TileX:Int, TileY:Int, CollisionSprite:LTSprite )
		If Bricks( TileMap, TileX, TileY ) Then Sprite.PushFromTile( TileMap, TileX, TileY )
	End Method
End Type



Type TVerticalCollisionHandler Extends LTSpriteAndTileCollisionHandler
	Method HandleCollision( Sprite:LTSprite, TileMap:LTTileMap, TileX:Int, TileY:Int, CollisionSprite:LTSprite )
		If Bricks( TileMap, TileX, TileY ) Then 
			Sprite.PushFromTile( TileMap, TileX, TileY )
			Local Player:TPlayer = TPlayer( Sprite )
			If Player.DY > 0 Then Player.OnLand = True
			Player.DY = 0
		End If
	End Method
End Type



Function Bricks:Int( TileMap:LTTileMap, TileX:Int, TileY:Int )
	Local TileNum:Int = TileMap.GetTile( TileX, TileY )
	If TileNum = Example.Coin Then
		TileMap.Value[ TileX, TileY ] = Example.Void
		Example.Coins :+ 1
	ElseIf TileNum = Example.Bricks Then
		Return True
	End If
	Return False
End Function</pre></td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTVectorSprite_fields></a>Fields Summary</th></tr><tr><td colspan=2>
<a href=#DX>DX</a>
, 
<a href=#DY>DY</a>
</table>
<table class=doc width=100% cellspacing=3 id=DX>
<tr><td class=doctop colspan=2>Field DX:Double</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Horizontal velocity of the sprite.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DY>
<tr><td class=doctop colspan=2>Field DY:Double</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Vertical velocity of the sprite.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTVisualizer>
<tr><td class=doctop colspan=2>Type LTVisualizer Extends LTColor</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Visualizer is object which contains parameters for drawing the shape.</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTVisualizer_fields></a>Fields Summary</th></tr><tr><td colspan=2>
<a href=#DX>DX</a>
, 
<a href=#DY>DY</a>
, 
<a href=#Image>Image</a>
, 
<a href=#Rotating>Rotating</a>
, 
<a href=#Scaling>Scaling</a>
, 
<a href=#XScale>XScale</a>
, 
<a href=#YScale>YScale</a>
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTVisualizer_methods></a>Methods Summary</th></tr>
<tr><td class=docleft width=1%><a href=#Clone>Clone</a></td><td class=docright>
Clones the visualizer.
</td></tr>
<tr><td class=docleft width=1%><a href=#DrawIsoOval>DrawIsoOval</a></td><td class=docright>
Draws oval for isometric camera using given field coordinates and size.
</td></tr>
<tr><td class=docleft width=1%><a href=#DrawIsoRectangle>DrawIsoRectangle</a></td><td class=docright>
Draws rectangle for isometric camera using given field coordinates and size.
</td></tr>
<tr><td class=docleft width=1%><a href=#DrawSpriteShape>DrawSpriteShape</a></td><td class=docright>
Draws sprite shape.
</td></tr>
<tr><td class=docleft width=1%><a href=#DrawTile>DrawTile</a></td><td class=docright>
Draws tile of given tilemap with given coordinates using this visualizer.
</td></tr>
<tr><td class=docleft width=1%><a href=#DrawUsingLineSegment>DrawUsingLineSegment</a></td><td class=docright>
Draws given line using this visualizer.
</td></tr>
<tr><td class=docleft width=1%><a href=#DrawUsingSprite>DrawUsingSprite</a></td><td class=docright>
Draws given sprite using this visualizer.
</td></tr>
<tr><td class=docleft width=1%><a href=#DrawUsingTileMap>DrawUsingTileMap</a></td><td class=docright>
Draws given tilemap using this visualizer.
</td></tr>
<tr><td class=docleft width=1%><a href=#GetTileValue>GetTileValue</a></td><td class=docright>
Function which defines which tile to draw.
</td></tr>
<tr><td class=docleft width=1%><a href=#SetDXDY>SetDXDY</a></td><td class=docright>
Sets shifts of the visualizer.
</td></tr>
<tr><td class=docleft width=1%><a href=#SetVisualizerScale>SetVisualizerScale</a></td><td class=docright>
Sets vertical and horizontal scaling of the visualizer.
</td></tr>
<tr><td class=docleft width=1%><a href=#SetVisualizerScales>SetVisualizerScales</a></td><td class=docright>
Sets scalings of the visualizer to one value.
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTVisualizer_functions></a>Functions Summary</th></tr>
<tr><td class=docleft width=1%><a href=#FromFile>FromFile</a></td><td class=docright>
Creates new visualizer from image file.
</td></tr>
<tr><td class=docleft width=1%><a href=#FromHexColor>FromHexColor</a></td><td class=docright>
Creates new visualizer using given hexadecimal color representation and transparency.
</td></tr>
<tr><td class=docleft width=1%><a href=#FromImage>FromImage</a></td><td class=docright>
Creates new visualizer from existing image (LTImage).
</td></tr>
<tr><td class=docleft width=1%><a href=#FromRGBColor>FromRGBColor</a></td><td class=docright>
Creates new visualizer using given color RGB components and transparency.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DX>
<tr><td class=doctop colspan=2>FIeld DX:Double = 0.0</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Horizontal shift of displaying image from the center of drawing shape in units .</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#SetDXDY>SetDXDY</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DY>
<tr><td class=doctop colspan=2>Field DY:Double = 0.0</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Vertical shift of displaying image from the center of drawing shape in units .</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#SetDXDY>SetDXDY</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Image>
<tr><td class=doctop colspan=2>Field Image:LTImage</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Image (LTImage) field.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Rotating>
<tr><td class=doctop colspan=2>Field Rotating:Int = True</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Rotating flag.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>If False then Angle parameter will not be used.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Scaling>
<tr><td class=doctop colspan=2>Field Scaling:Int = True</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Scaling flag.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>If False then image will be drawn with no scaling at all.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=XScale>
<tr><td class=doctop colspan=2>Field XScale:Double = 1.0</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Horizontal scaling of displaying image relative to the width of the drawing shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#SetVisualizerScale>SetVisualizerScale</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=YScale>
<tr><td class=doctop colspan=2>Field YScale:Double = 1.0</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Vertical scaling of displaying image relative to the height of the drawing shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#SetVisualizerScale>SetVisualizerScale</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Clone>
<tr><td class=doctop colspan=2>Method Clone:LTVisualizer()</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Clone of the visualizer.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Clones the visualizer.</td></tr>
<tr><td class=docleft width=1%><a href=Clone.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Incbin "kolobok.png"

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Const SpritesQuantity:Int = 50
	
	Field Sprites:LTLayer = New LTLayer
	Field SpriteImage:LTImage = LTImage.FromFile( "incbin::kolobok.png" )
	
	Method Init()
		For Local N:Int = 1 To SpritesQuantity
			Local Sprite:LTSprite = LTSprite.FromShape( Rnd( -15, 15 ), Rnd( -11, 11 ), , , LTSprite.Oval )
			Sprite.SetDiameter( Rnd( 1, 3 ) )
			Sprite.Visualizer.SetRandomColor()
			Sprite.Visualizer.Angle = Rnd( 360 )
			Sprite.Visualizer.Image = SpriteImage
			Sprite.Visualizer.SetVisualizerScales( 1.3 )
			Sprites.AddLast( Sprite )
		Next
		L_InitGraphics()
	End Method
	
	Method Logic()
		If MouseHit( 1 ) Then
			Local Sprite:LTSprite = L_Cursor.FirstCollidedSpriteOfLayer( Sprites )
			If Sprite Then
				Local NewSprite:LTSprite = LTSprite( Sprite.Clone() )
				NewSprite.AlterCoords( Rnd( -2, 2 ), Rnd( -2, 2 ) )
				NewSprite.AlterDiameter( Rnd( 0.75, 1.5 ) )
				NewSprite.AlterAngle( Rnd( -45, 45 ) ) 
				Sprites.AddLast( NewSprite )
			End If
		End If
		
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		Sprites.Draw()
		DrawText( "Clone sprites with left mouse button", 0, 0 )
		L_PrintText( "AlterAngle, AlterCoords, AlterDiameter, Clone example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DrawIsoOval>
<tr><td class=doctop colspan=2>Method DrawIsoOval( X:Double, Y:Double, Width:Double, Height:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Draws oval for isometric camera using given field coordinates and size.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DrawIsoRectangle>
<tr><td class=doctop colspan=2>Method DrawIsoRectangle( X:Double, Y:Double, Width:Double, Height:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Draws rectangle for isometric camera using given field coordinates and size.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DrawSpriteShape>
<tr><td class=doctop colspan=2>Method DrawSpriteShape( Sprite:LTSprite, SpriteShape:LTSprite = Null )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Draws sprite shape.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Isometric camera deformations are also applied.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DrawTile>
<tr><td class=doctop colspan=2>Method DrawTile( TileMap:LTTileMap, X:Double, Y:Double, Width:Double, Height:Double, TileX:Int, TileY:Int )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Draws tile of given tilemap with given coordinates using this visualizer.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>X and Y are center coordinates of this tile on the screen.
If you want to make your own tilemap visualizer, make class which extends LTVisualizer and rewrite this method.
<p>
See also: <a href=#DrawUsingTileMap>DrawUsingTileMap</a>.</td></tr>
<tr><td class=docleft width=1%><a href=DrawTile.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers
Import dwlab.audiodrivers

Incbin "tiles.png"
Incbin "hit.ogg"

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Const TileMapWidth:Int = 16
	Const TileMapHeight:Int = 12
	Const ShakingPeriod:Double = 1.0
	Const PeriodBetweenShakes:Double = 3.0
	
	Field TileMap:LTTileMap = LTTileMap.Create( LTTileSet.Create( LTImage.FromFile( "incbin::tiles.png", 8, 4 ) ), TileMapWidth, TileMapHeight )
	Field HitSound:TSound = TSound.Load( "incbin::hit.ogg", False )
	Field ShakingK:Double
	Field LastShakingTime:Double = -100
	
	Method Init()
		L_InitGraphics()
		TileMap.SetSize( TileMapWidth * 2, TileMapHeight * 2 )
		For Local Y:Int = 0 Until TileMapHeight
			For Local X:Int = 0 Until TileMapWidth
				TileMap.SetTile( X, Y, Rand( 1, 31 ) )
			Next
		Next
		TileMap.Visualizer = New TShakingVisualizer
	End Method
	
	Method Logic()
		If Time - LastShakingTime > PeriodBetweenShakes Then
			LastShakingTime = Time
			HitSound.Play()
		End If
		If Time - LastShakingTime < ShakingPeriod Then
			ShakingK = ( 1.0 - ( Time - LastShakingTime ) / ShakingPeriod ) ^ 2
		Else
			ShakingK = 0.0
		End If
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		TileMap.Draw()
		L_PrintText( "DrawTile example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type

Type TShakingVisualizer Extends LTVisualizer
	Const DAngle:Double = 15
	Const DCoord:Double = 0.2
	
	Method DrawTile( TileMap:LTTileMap, X:Double, Y:Double, Width:Double, Height:Double, TileX:Int, TileY:Int )
		Local TileSet:LTTileSet =Tilemap.TileSet
		Local TileValue:Int = GetTileValue( TileMap, TileX, TileY )
		If TileValue = TileSet.EmptyTile Then Return
		
		SetRotation( Rnd( -DAngle * Example.ShakingK, DAngle * Example.ShakingK ) )
		X :+ Rnd( -DCoord * Example.ShakingK, DCoord * Example.ShakingK )
		Y :+ Rnd( -DCoord * Example.ShakingK, DCoord * Example.ShakingK )
		
		Local SX:Double, SY:Double
		L_CurrentCamera.FieldToScreen( X, Y, SX, SY )
		
		TileSet.Image.Draw( SX, SY, Width, Height, TileValue )		
		
		SetRotation( 0 )
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DrawUsingLineSegment>
<tr><td class=doctop colspan=2>Method DrawUsingLineSegment( LineSegment:LTLineSegment )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Draws given line using this visualizer.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Change this method if you are making your own visualizer.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DrawUsingSprite>
<tr><td class=doctop colspan=2>Method DrawUsingSprite( Sprite:LTSprite, SpriteShape:LTSprite = Null )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Draws given sprite using this visualizer.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Change this method if you are making your own visualizer.</td></tr>
<tr><td class=docleft width=1%><a href=DrawUsingSprite.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Const FlowersQuantity:Int = 12
	Const FlowerCircleDiameter:Double = 9
	Const FlowerDiameter:Double = 1.8
	
	Field Flowers:LTSprite[] = New LTSprite[ FlowersQuantity ]
	Field FlowerVisualizer:TFlowerVisualizer = New TFlowerVisualizer
	
	Method Init()
		L_InitGraphics()
		For Local N:Int = 0 Until FlowersQuantity
			Flowers[ N ] = New LTSprite
			Flowers[ N ].SetDiameter( FlowerDiameter )
		Next
	End Method
	
	Method Logic()
		For Local N:Int = 0 Until FlowersQuantity
			Local Angle:Double = N * 360 / FlowersQuantity + 45 * Time
			Flowers[ N ].SetCoords( Cos( Angle ) * FlowerCircleDiameter, Sin( Angle ) * FlowerCircleDiameter )
			Flowers[ N ].Angle = 90 * Time
		Next
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		For Local N:Int = 0 Until FlowersQuantity
			Flowers[ N ].DrawUsingVisualizer( FlowerVisualizer )
		Next
		L_PrintText( "DrawUsingSprite example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type

Type TFlowerVisualizer Extends LTVisualizer
	Const CirclesQuantity:Int = 30
	Const CirclesPer360:Int = 7
	Const Amplitude:Double = 0.15
	
	Method DrawUsingSprite( Sprite:LTSprite, SpriteShape:LTSprite = Null )
		Local SpriteDiameter:Double = Sprite.GetDiameter()
		Local CircleDiameter:Double = L_CurrentCamera.DistFieldToScreen( 2.0 * Pi * SpriteDiameter / CirclesQuantity ) * 1.5
		For Local N:Int = 0 Until CirclesQuantity
			Local Angle:Double = 360.0 * N / CirclesQuantity
			Local Angles:Double = Sprite.Angle + Angle
			Local Distance:Double = SpriteDiameter * ( 1.0 + Amplitude * Sin( 360.0 * Example.Time + 360.0 * N / CirclesQuantity * CirclesPer360 ) )
			Local SX:Double, SY:Double
			L_CurrentCamera.FieldToScreen( Sprite.X + Distance * Cos( Angles ), Sprite.Y + Distance * Sin( Angles ), SX, SY )
			DrawOval( SX - 0.5 * CircleDiameter, SY - 0.5 * CircleDiameter, CircleDiameter, CircleDiameter )
		Next
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DrawUsingTileMap>
<tr><td class=doctop colspan=2>Method DrawUsingTileMap( TileMap:LTTileMap, Shapes:TList = Null )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Draws given tilemap using this visualizer.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Change this method if you are making your own visualizer.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=GetTileValue>
<tr><td class=doctop colspan=2>Method GetTileValue:Int( TileMap:LTTileMap, TileX:Int, TileY:Int )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Tile number for given tilemap and tile coordinates.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Function which defines which tile to draw.</td></tr>
<tr><td class=docleft width=1%><a href=GetTileValue.bmx class=small>Example</a></td><td class=docright><pre>SuperStrict

Framework brl.basic
Import dwlab.frmwork
Import dwlab.graphicsdrivers

Incbin "tiles.png"

Global Example:TExample = New TExample
Example.Execute()

Type TExample Extends LTProject
	Const TileMapWidth:Int = 16
	Const TileMapHeight:Int = 12
	
	Field TileMap:LTTileMap = LTTileMap.Create( LTTileSet.Create( LTImage.FromFile( "incbin::tiles.png", 8, 4 ) ), TileMapWidth, TileMapHeight )
	
	Method Init()
		L_InitGraphics()
		TileMap.SetSize( TileMapWidth * 2, TileMapHeight * 2 )
		TileMap.Visualizer = New TLighntingVisualizer
	End Method
	
	Method Logic()
		If AppTerminate() Or KeyHit( Key_Escape ) Then Exiting = True
	End Method

	Method Render()
		TileMap.Draw()
		L_PrintText( "GetTileValue example", 0, 12, LTAlign.ToCenter, LTAlign.ToBottom )
	End Method
End Type

Type TLighntingVisualizer Extends LTVisualizer
	Const Radius:Double = 4
	
	Method GetTileValue:Int( TileMap:LTTileMap, TileX:Int, TileY:Int )
		Local X0:Int, Y0:Int
		TileMap.GetTileForPoint( L_Cursor.X, L_Cursor.Y, X0, Y0 )
		If L_Distance( TileX - X0, TileY - Y0 ) <= Radius Then Return 18 Else Return 26
	End Method
End Type</pre></td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SetDXDY>
<tr><td class=doctop colspan=2>Method SetDXDY( NewDX:Double, NewDY:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sets shifts of the visualizer.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Works only with images.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SetVisualizerScale>
<tr><td class=doctop colspan=2>Method SetVisualizerScale( NewXScale:Double, NewYScale:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sets vertical and horizontal scaling of the visualizer.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Works only with images.
<p>
See also: <a href=#Clone>Clone</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SetVisualizerScales>
<tr><td class=doctop colspan=2>Method SetVisualizerScales( NewScale:Double )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sets scalings of the visualizer to one value.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Works only with images.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=FromFile>
<tr><td class=doctop colspan=2>Function FromFile:LTVisualizer( Filename:String, XCells:Int = 1, YCells:Int = 1 )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>New visualizer.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Creates new visualizer from image file.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#FromImage>FromImage</a>, <a href=#FromColor>FromColor</a>, <a href=#FromHexColor>FromHexColor</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=FromHexColor>
<tr><td class=doctop colspan=2>Function FromHexColor:LTVisualizer( HexColor:String = "FFFFFF", Alpha:Double = 1.0 )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>New visualizer.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Creates new visualizer using given hexadecimal color representation and transparency.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#FromFile>FromFile</a>, <a href=#FromImage>FromImage</a>, <a href=#FromRGBColor>FromRGBColor</a>, <a href=#Overlaps>Overlaps</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=FromImage>
<tr><td class=doctop colspan=2>Function FromImage:LTVisualizer( Image:LTImage )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>New visualizer.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Creates new visualizer from existing image (LTImage).</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#FromFile>FromFile</a>, <a href=#FromRGBColor>FromRGBColor</a>, <a href=#FromHexColor>FromHexColor</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=FromRGBColor>
<tr><td class=doctop colspan=2>Function FromRGBColor:LTVisualizer( Red:Double, Green:Double, Blue:Double, Alpha:Double = 1.0 )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>New visualizer.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Creates new visualizer using given color RGB components and transparency.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#FromFile>FromFile</a>, <a href=#FromImage>FromImage</a>, <a href=#FromHexColor>FromHexColor</a>.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTWorld>
<tr><td class=doctop colspan=2>Type LTWorld Extends LTLayer</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>World is the root layer which can be created in the editor and loaded from file.</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTWorld_functions></a>Functions Summary</th></tr>
<tr><td class=docleft width=1%><a href=#FromFile>FromFile</a></td><td class=docright>
Loads a world from file.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=FromFile>
<tr><td class=doctop colspan=2>Function FromFile:LTWorld( Filename:String )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Loaded world.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Loads a world from file.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#Parallax>Parallax</a> example.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=LTXMLObject>
<tr><td class=doctop colspan=2>Type LTXMLObject Extends LTObject</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Class for intermediate objects to save/load objects from XML file.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>When you load framework object from XML file this file firstly will be transformed to the structure consisting of XMLObjects.
During next step new objects will be created and filled with information using this XMLObjects structure.
When you save object to XML file, the system firstly creates a XMLObjects structure and unloads all information there, then save this structure to file.</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=LTXMLObject_methods></a>Methods Summary</th></tr>
<tr><td class=docleft width=1%><a href=#AttributeExists>AttributeExists</a></td><td class=docright>
Cheks if attribute with specified name exists.
</td></tr>
<tr><td class=docleft width=1%><a href=#FieldExists>FieldExists</a></td><td class=docright>
Cheks if field with specified name exists.
</td></tr>
<tr><td class=docleft width=1%><a href=#GetAttribute>GetAttribute</a></td><td class=docright>
Returns value of XMLObject attribute with given name.
</td></tr>
<tr><td class=docleft width=1%><a href=#GetField>GetField</a></td><td class=docright>
Returns XMLObject which is the field with given name of current XMLObject.
</td></tr>
<tr><td class=docleft width=1%><a href=#ManageChildArray>ManageChildArray</a></td><td class=docright>
Transfers data between XMLObject contents and framework object parameter with LTObject[] type.
</td></tr>
<tr><td class=docleft width=1%><a href=#ManageChildList>ManageChildList</a></td><td class=docright>
Transfers data between XMLObject contents and framework object field with TList type.
</td></tr>
<tr><td class=docleft width=1%><a href=#ManageChildMap>ManageChildMap</a></td><td class=docright>
Transfers data between XMLObject contents and framework object field with TMap type filled with LTObject-LTObject pairs.
</td></tr>
<tr><td class=docleft width=1%><a href=#ManageChildSet>ManageChildSet</a></td><td class=docright>
Transfers data between XMLObject contents and framework object field with TMap type filled with LTObject keys.
</td></tr>
<tr><td class=docleft width=1%><a href=#ManageDoubleAttribute>ManageDoubleAttribute</a></td><td class=docright>
Transfers data between XMLObject attribute and framework object field with Double type.
</td></tr>
<tr><td class=docleft width=1%><a href=#ManageIntArrayAttribute>ManageIntArrayAttribute</a></td><td class=docright>
Transfers data between XMLObject attribute and framework object field with Int[] type.
</td></tr>
<tr><td class=docleft width=1%><a href=#ManageIntAttribute>ManageIntAttribute</a></td><td class=docright>
Transfers data between XMLObject attribute and framework object field with Int type.
</td></tr>
<tr><td class=docleft width=1%><a href=#ManageListField>ManageListField</a></td><td class=docright>
Transfers data between XMLObject contents and framework object field with TList type.
</td></tr>
<tr><td class=docleft width=1%><a href=#ManageObjectArrayField>ManageObjectArrayField</a></td><td class=docright>
Transfers data between XMLObject contents and framework object field with LTObject[] type.
</td></tr>
<tr><td class=docleft width=1%><a href=#ManageObjectAttribute>ManageObjectAttribute</a></td><td class=docright>
Transfers data between XMLObject attribute and framework object field wit LTObject type.
</td></tr>
<tr><td class=docleft width=1%><a href=#ManageObjectField>ManageObjectField</a></td><td class=docright>
Transfers data between XMLObject field and framework object field with LTObject type.
</td></tr>
<tr><td class=docleft width=1%><a href=#ManageObjectMapField>ManageObjectMapField</a></td><td class=docright>
Transfers data between XMLObject field and framework object field with TMap type filled with LTObject-LTObject pairs.
</td></tr>
<tr><td class=docleft width=1%><a href=#ManageObjectSetField>ManageObjectSetField</a></td><td class=docright>
Transfers data between XMLObject field and framework object field with TMap type filled with LTObject-LTObject pairs.
</td></tr>
<tr><td class=docleft width=1%><a href=#ManageStringAttribute>ManageStringAttribute</a></td><td class=docright>
Transfers data between XMLObject attribute and framework object field with String type.
</td></tr>
<tr><td class=docleft width=1%><a href=#RemoveAttribute>RemoveAttribute</a></td><td class=docright>
Removes attribute with given name of XMLObject.
</td></tr>
<tr><td class=docleft width=1%><a href=#RemoveField>RemoveField</a></td><td class=docright>
Removes field with given name of XMLObject.
</td></tr>
<tr><td class=docleft width=1%><a href=#SetAttribute>SetAttribute</a></td><td class=docright>
Sets value of XMLObject attribute with given name.
</td></tr>
<tr><td class=docleft width=1%><a href=#SetField>SetField</a></td><td class=docright>
Sets value of the field with given name to given XMLObject.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=AttributeExists>
<tr><td class=doctop colspan=2>Method AttributeExists:Int( AttrName:String )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>True if attribute exists.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Cheks if attribute with specified name exists.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#GetAttribute>GetAttribute</a>, <a href=#SetAttribute>SetAttribute</a>, <a href=#RemoveAttribulte>RemoveAttribulte</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=FieldExists>
<tr><td class=doctop colspan=2>Method FieldExists:Int( FieldName:String )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>True if field exists.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Cheks if field with specified name exists.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#GetField>GetField</a>, <a href=#SetField>SetField</a>, <a href=#RemoveField>RemoveField</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=GetAttribute>
<tr><td class=doctop colspan=2>Method GetAttribute:String( AttrName:String )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Attribute string value.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Returns value of XMLObject attribute with given name.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#AttributeExists>AttributeExists</a>, <a href=#SetAttribute>SetAttribute</a>, <a href=#RemoveAttribulte>RemoveAttribulte</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=GetField>
<tr><td class=doctop colspan=2>Method GetField:LTXMLObject( FieldName:String )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>XMLObject representing a field.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Returns XMLObject which is the field with given name of current XMLObject.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#SetField>SetField</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ManageChildArray>
<tr><td class=doctop colspan=2>Method ManageChildArray( ChildArray:LTObject[] Var )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Transfers data between XMLObject contents and framework object parameter with LTObject[] type.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#ManageChildList>ManageChildList</a>, <a href=#ManageListField>ManageListField</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ManageChildList>
<tr><td class=doctop colspan=2>Method ManageChildList( List:TList Var )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Transfers data between XMLObject contents and framework object field with TList type.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#ManageListField>ManageListField</a>, <a href=#ManageChildArray>ManageChildArray</a>, <a href=#XMLIO>XMLIO</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ManageChildMap>
<tr><td class=doctop colspan=2>Method ManageChildMap( Map:TMap Var )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Transfers data between XMLObject contents and framework object field with TMap type filled with LTObject-LTObject pairs.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#ManageObjectAttribute>ManageObjectAttribute</a>, <a href=#ManageObjectField>ManageObjectField</a>, <a href=#ManageObjectArrayField>ManageObjectArrayField</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ManageChildSet>
<tr><td class=doctop colspan=2>Method ManageChildSet( Map:TMap Var )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Transfers data between XMLObject contents and framework object field with TMap type filled with LTObject keys.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#ManageObjectAttribute>ManageObjectAttribute</a>, <a href=#ManageObjectField>ManageObjectField</a>, <a href=#ManageObjectArrayField>ManageObjectArrayField</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ManageDoubleAttribute>
<tr><td class=doctop colspan=2>Method ManageDoubleAttribute( AttrName:String, AttrVariable:Double Var, DefaultValue:Double = 0.0 )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Transfers data between XMLObject attribute and framework object field with Double type.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#ManageIntAttribute>ManageIntAttribute</a>, <a href=#ManageStringAttribute>ManageStringAttribute</a>, <a href=#ManageObjectAttribute>ManageObjectAttribute</a>, <a href=#XMLIO>XMLIO</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ManageIntArrayAttribute>
<tr><td class=doctop colspan=2>Method ManageIntArrayAttribute( AttrName:String, IntArray:Int[] Var )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Transfers data between XMLObject attribute and framework object field with Int[] type.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#ManageIntAttribute>ManageIntAttribute</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ManageIntAttribute>
<tr><td class=doctop colspan=2>Method ManageIntAttribute( AttrName:String, AttrVariable:Int Var, DefaultValue:Int = 0 )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Transfers data between XMLObject attribute and framework object field with Int type.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#ManageDoubleAttribute>ManageDoubleAttribute</a>, <a href=#ManageStringAttribute>ManageStringAttribute</a>, <a href=#ManageObjectAttribute>ManageObjectAttribute</a>, <a href=#ManageIntArrayAttribute>ManageIntArrayAttribute</a>, <a href=#XMLIO>XMLIO</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ManageListField>
<tr><td class=doctop colspan=2>Method ManageListField( FieldName:String, List:TList Var )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Transfers data between XMLObject contents and framework object field with TList type.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#ManageChildList>ManageChildList</a>, <a href=#XMLIO>XMLIO</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ManageObjectArrayField>
<tr><td class=doctop colspan=2>Method ManageObjectArrayField( FieldName:String, Array:LTObject[] Var )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Transfers data between XMLObject contents and framework object field with LTObject[] type.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#ManageObjectAttribute>ManageObjectAttribute</a>, <a href=#ManageObjectField>ManageObjectField</a>, <a href=#ManageObjectMapField>ManageObjectMapField</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ManageObjectAttribute>
<tr><td class=doctop colspan=2>Method ManageObjectAttribute:LTObject( AttrName:String, Obj:LTObject )</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Loaded object or same object for saving mode.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Transfers data between XMLObject attribute and framework object field wit LTObject type.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Use "ObjField = ObjFieldType( ManageObjectAttribute( FieldName, ObjField ) )" command syntax.
<p>
See also: <a href=#ManageIntAttribute>ManageIntAttribute</a>, <a href=#ManageDoubleAttribute>ManageDoubleAttribute</a>, <a href=#ManageStringAttribute>ManageStringAttribute</a>, <a href=#ManageObjectField>ManageObjectField</a>, <a href=#ManageChildArray>ManageChildArray</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ManageObjectField>
<tr><td class=doctop colspan=2>Method ManageObjectField:LTObject( FieldName:String, FieldObject:LTObject)</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Transfers data between XMLObject field and framework object field with LTObject type.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#XMLIO>XMLIO</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ManageObjectMapField>
<tr><td class=doctop colspan=2>Method ManageObjectMapField( FieldName:String, Map:TMap Var )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Transfers data between XMLObject field and framework object field with TMap type filled with LTObject-LTObject pairs.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#ManageObjectAttribute>ManageObjectAttribute</a>, <a href=#ManageObjectField>ManageObjectField</a>, <a href=#ManageObjectArrayField>ManageObjectArrayField</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ManageObjectSetField>
<tr><td class=doctop colspan=2>Method ManageObjectSetField( FieldName:String, Map:TMap Var )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Transfers data between XMLObject field and framework object field with TMap type filled with LTObject-LTObject pairs.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#ManageObjectAttribute>ManageObjectAttribute</a>, <a href=#ManageObjectField>ManageObjectField</a>, <a href=#ManageObjectArrayField>ManageObjectArrayField</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ManageStringAttribute>
<tr><td class=doctop colspan=2>Method ManageStringAttribute( AttrName:String, AttrVariable:String Var )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Transfers data between XMLObject attribute and framework object field with String type.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#ManageIntAttribute>ManageIntAttribute</a>, <a href=#ManageDoubleAttribute>ManageDoubleAttribute</a>, <a href=#ManageObjectAttribute>ManageObjectAttribute</a>, <a href=#XMLIO>XMLIO</a> example.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=RemoveAttribute>
<tr><td class=doctop colspan=2>Method RemoveAttribute:String( AttrName:String )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Removes attribute with given name of XMLObject.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#AttributeExists>AttributeExists</a>, <a href=#GetAttribute>GetAttribute</a>, <a href=#SetAttribute>SetAttribute</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=RemoveField>
<tr><td class=doctop colspan=2>Method RemoveField:String( FieldName:String )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Removes field with given name of XMLObject.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#FieldExists>FieldExists</a>, <a href=#GetField>GetField</a>, <a href=#SetField>SetField</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SetAttribute>
<tr><td class=doctop colspan=2>Method SetAttribute( AttrName:String, AttrValue:String)</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sets value of XMLObject attribute with given name.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#AttributeExists>AttributeExists</a>, <a href=#GetAttribute>GetAttribute</a>, <a href=#RemoveAttribulte>RemoveAttribulte</a>.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SetField>
<tr><td class=doctop colspan=2>Method SetField:LTXMLObjectField( FieldName:String, XMLObject:LTXMLObject )</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Sets value of the field with given name to given XMLObject.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>See also: <a href=#GetField>GetField</a>.</td></tr>
</table>
<br>
<h2 id=modinfo>Module Information</h2>
<table width=100%>
<tr><th width=1%>Version</th><td>1.4.15</td></tr>
<tr><th width=1%>Author</th><td>Matt Merkulov</td></tr>
<tr><th width=1%>License</th><td>Artistic License 2.0</td></tr>
<tr><th width=1%>Modserver</th><td>DWLAB</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp;</td></tr>
<tr><th width=1%>History</th><td>v1.4.16 (16.07.12)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Moved displaying angle from LTVisualizer to the LTSprite.</td></tr>
<tr><th width=1%>History</th><td>v1.4.15 (15.07.12)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Implemented full sprite grouping support with group inclusion and rotation.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added SpriteShape parameter to the LTVisualizer's DrawSprite method.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Fixed documentation examples according to system changes.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; LTGroup renamed to LTSpriteGroup.</td></tr>
<tr><th width=1%>History</th><td>v1.4.14 (14.07.12)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Implemented collision detection of ray and oval, rectangle, triangle and another ray.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Implemented collision detection of line segment and oval, rectangle, triangle, ray, line and another line segment.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Implemented overlapping detection of circle and triangle.</td></tr>
<tr><th width=1%>History</th><td>v1.4.13 (13.07.12)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Completed wedging off 2 triangles.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Implemented image path/object map to exclude loading same image from different worlds twice.</td></tr>
<tr><th width=1%>History</th><td>v1.4.12.1 (14.06.12)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; ..WithLine methods changed to ..WithLineSegment</td></tr>
<tr><th width=1%>History</th><td>v1.4.12 (13.06.12)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added functions for wedging off pivot and oval / rectangle / triangle.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Completed wedging off oval / rectangle and triangle.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added UsePoints and UsePivots methods to LTLine.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added ToLine and HasPoint methods for ray sprite.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added L_Cathetus service function.</td></tr>
<tr><th width=1%>History</th><td>v1.4.11 (02.06.12)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Rearranged project class to write GUI project class more easily.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Controllers system is rewritten and now is based on events.</td></tr>
<tr><th width=1%>History</th><td>v1.4.10 (27.05.12)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added Triangle type of the sprite.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added triangle collision functions.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Rewrote oval overlapping function.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Renamed LTLine to LTLineSegment.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Created LTLine class.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added some service methods to LTSprite: GetBounds, ToCircle, ToCircleUsingLine.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added algebraic geometry methods for LTSprite: GetHypotenuse, GetRightAnglePivot.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added algebraic geometry methods for LTLine: DistanceTo, PivotProjection, IntersectionWith, PivotOrientation.</td></tr>
<tr><th width=1%>History</th><td>v1.4.9 (22.05.12)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Rewrote collision and physics system to be faster and more flexible.</td></tr>
<tr><th width=1%>History</th><td>v1.4.8 (22.05.12)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added FieldExists and RemoveField XMLObject methods.</td></tr>
<tr><th width=1%>History</th><td>v1.4.7 (21.05.12)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added CollisionLayer LTShape parameter.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added CollisionShape variable to the HandleCollisionWithTile method.</td></tr>
<tr><th width=1%>History</th><td>v1.4.6 (20.05.12)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added AttributeExists XMLObject method.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; New class LTColor is splitted from LTVisualizer.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Moved some LTWorld parameters related to the editor to the newly added LTEditorData class.</td></tr>
<tr><th width=1%>History</th><td>v1.4.5 (22.03.12)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added another algorhytm of displaying raster frame.</td></tr>
<tr><th width=1%>History</th><td>v1.4.4 (22.02.12)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added ParameterExists() and IsAtPositionOfPoint() methods to the LTShape.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added LTChainedModel, LTValueChangingModel, LTResizingModel, LTAlphaChangingModel classes.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added LTColorChangingModel, LTTimedMovementModel, LTMovingModel, LTFollowingModel classes.</td></tr>
<tr><th width=1%>History</th><td>v1.4.3 (21.02.12)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added SwapTiles() method to LTTileMap.</td></tr>
<tr><th width=1%>History</th><td>v1.4.2 (15.02.12)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; XML loading system is now have 2 passes and don't need definitions list, so xml file size and complexity is reduced.</td></tr>
<tr><th width=1%>History</th><td>v1.4.1 (15.02.12)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; DebugVisualizer now shows half-transparent invisible sprites.</td></tr>
<tr><th width=1%>History</th><td>v1.4 (01.01.12)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Everything is fixed, documented and updated.</td></tr>
<tr><th width=1%>History</th><td>v1.3.19 (28.12.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Behavior models now doesn't being activated/deacivated if they already did.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Fixed bug in animation behavior model.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added Info() method for behavior models for more info in ShowModels method.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added Permanent flag to LTModelActivator / LTModelDeactivator.</td></tr>
<tr><th width=1%>History</th><td>v1.3.18 (27.12.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added collision handlers and rewrote collision methods to support them, CollisionType is removed.</td></tr>
<tr><th width=1%>History</th><td>v1.3.17 (26.12.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Seriously complemented behavior model system - added a lot of standard classes.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Removed Default...() methods from LTBehaviorModel.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Project parameter is removed from Animate() method.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added AttachModels() method to LTShape.</td></tr>
<tr><th width=1%>History</th><td>v1.3.16 (20.12.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added L_Cursor to the LTProject which will be always at mouse coords.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added SwitchTo() method to LTProject.</td></tr>
<tr><th width=1%>History</th><td>v1.3.15 (14.12.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Extended LTRevoluteJoint, now you can define hinge point inside child sprite other than its center.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Made extension of LTBehavior model and new behavior model templates.</td></tr>
<tr><th width=1%>History</th><td>v1.3.14 (12.12.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added graphicsdrivers.mod, audiodrivers.mod and alldrivers.mod to the modules list.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Removed driver addition from the frmwork.mod.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; LTPath is changed to simple TList and path finding method is moved to LTGraph.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added methods for managing sets in LTXMLObject class.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added CollidesWithLine method to LTLineSegment.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Rewrote FindPath method of LTGraph.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added Define() method to LTButtonAction.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added Drawpath() function to LTGraph.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Replaced pause flag by pause project in the LTProject</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Addded L_DoubleInLimits() function.</td></tr>
<tr><th width=1%>History</th><td>v1.3.13 (08.12.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added AlterDiameter() method to the LTShape.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added AlterAngle() method to the LTSprite.</td></tr>
<tr><th width=1%>History</th><td>v1.3.12 (07.12.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added FixedAngle parameter to LTDistanceJoint.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Created different BounceInside() method for LTVectorSprite.</td></tr>
<tr><th width=1%>History</th><td>v1.3.11 (30.11.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added SetParameter() and RemoveParameter() methods to LTShape.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added creation function to LTDoubleMap.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Fixed a bug in LTShape SetAsViewport() method.</td></tr>
<tr><th width=1%>History</th><td>v1.3.10 (29.11.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added L_PrintText function.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added Length function to LTLineSegment.</td></tr>
<tr><th width=1%>History</th><td>v1.3.9 (28.11.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added GetTileForPoint() method for LTTileMap.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added FirstCollidedSpriteOfGroup() method to LTSprite.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added AlterSize method to LTShape.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Forms.mod module is merged into world editor and removed from modules directory.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Sound.mod module is merged into MindStorm example and removed from modules directory.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added AlterSize() method to the LTShape.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added FirstCollidedSpriteOfGroup() method to LTSprite.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added GetTileForPoint() method to LTTileMap.</td></tr>
<tr><th width=1%>History</th><td>v1.3.8 (27.11.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; LTVisualizer now have FromRGBColor and FromHexColor creation functions.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; LTContourVisualizer now have FromWidthAndRGBColor and FromWidthAndHexColor creation functions.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added MoveBackwards() and BounseInside() methods to LTSprite.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; LTLineSegment's creation function renamed to FromPivots().</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added FromFileAndBorders() creation function to LTRasterFrame.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added SetRandomColor() method to LTVisualizer.</td></tr>
<tr><th width=1%>History</th><td>v1.3.7 (22.11.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Tile number retrieving method is extracted from tile drawing method in LTVisualizer</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added AddParameter() method to the LTShape.</td></tr>
<tr><th width=1%>History</th><td>v1.3.6 (18.11.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added creation methods for LTSprite and LTVectorSprite.</td></tr>
<tr><th width=1%>History</th><td>v1.3.5.1 (17.11.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Fixed bugs in mouse wheel action names.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; LTEmptyPrimitve renamed to LTContourVisualizer.</td></tr>
<tr><th width=1%>History</th><td>v1.3.5 (16.11.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added LTDistanceJoint class.</td></tr>
<tr><th width=1%>History</th><td>v1.3.4 (14.11.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; XML now supports quotes and UTF symbols in text attribute strings.</td></tr>
<tr><th width=1%>History</th><td>v1.3.3 (09.11.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Tile enframing system now always sets tile number to first number from tile number array of tile rule (previously it chose one of them randomly) and only if current tile number is not in this array.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; This allows to place differend kinds of tile of same type as existent on enframed area.</td></tr>
<tr><th width=1%>History</th><td>v1.3.2.1 (12.10.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Fixed bug with adding multiple equal keys to button action.</td></tr>
<tr><th width=1%>History</th><td>v1.3.2 (07.10.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added possibility to bind multiple buttons to the button action.</td></tr>
<tr><th width=1%>History</th><td>v1.3.1 (07.10.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added SetSizeAs() method to the LTShape.</td></tr>
<tr><th width=1%>History</th><td>v1.3 (06.10.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Implemented controllers system.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added Contour() and SetAsViewport() methods to the LTShape.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; FindShapeWithParameter() parameters are rearranged.</td></tr>
<tr><th width=1%>History</th><td>v1.2.7 (03.10.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added PrintText() method to the LTShape.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Fixed bug in LTCamera.SetCameraViewport() method.</td></tr>
<tr><th width=1%>History</th><td>v1.2.6 (02.10.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; LTSprite is merged with LTSprite and LTVectorSprite is cleaned of unuseful code.</td></tr>
<tr><th width=1%>History</th><td>v1.2.5 (29.09.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added ApplyColor(), Lighten() and Darken() methods to the LTCamera.</td></tr>
<tr><th width=1%>History</th><td>v1.2.4.1 (26.09.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Fixed bug of wrong displaying of non-scaled sprite.</td></tr>
<tr><th width=1%>History</th><td>v1.2.4 (22.09.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; LTRasterFrameVisualizer is deprecated, LTRasterFrame derived from LTImage created instead.</td></tr>
<tr><th width=1%>History</th><td>v1.2.3.1 (19.09.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Fixed parameter cloning bug.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Fixed bug of Time variable of LTProject not initialized.</td></tr>
<tr><th width=1%>History</th><td>v1.2.3 (14.09.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added possibility to search for shapes inside layers' sprite maps.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added Range parameter to the pathfinder.</td></tr>
<tr><th width=1%>History</th><td>v1.2.2 (13.09.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added ShowModels() debugging method to shape.</td></tr>
<tr><th width=1%>History</th><td>v1.2.1 (12.09.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; TileX and TileY which are passing to visualizer's DrawTile() method are now not wrapped (wrapped inside the method).</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Fixed bug in DebugVisualizer shape displaying.</td></tr>
<tr><th width=1%>History</th><td>v1.2 (11.09.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added parameters list to the shapes.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Object Name parameter is deprecated.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Framework modules are structurized.</td></tr>
<tr><th width=1%>History</th><td>v1.1.5 (09.09.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added FirstPosition() and LastPosition() methods to tilemap position class for path finding.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added RemoveSame() method for LTBehaviorModel.</td></tr>
<tr><th width=1%>History</th><td>v1.1.4.1 (06.09.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Fixed bug of displaying layers with another visualizer.</td></tr>
<tr><th width=1%>History</th><td>v1.1.4 (02.09.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added 'mixed' flag to layers.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Fixed glitches of tilemap pathfinder.</td></tr>
<tr><th width=1%>History</th><td>v1.1.3 (01.09.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; MoveTowards() method is moved to LTShape and have now Velocity parameter.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added MoveTowardsPoint() method to LTShape.</td></tr>
<tr><th width=1%>History</th><td>v1.1.2 (31.08.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Fixed bug of sprite map displaying by isometric camera.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Implemented sprite map loading within layer and cloning.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added sprites list field to sprite map.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Fixed bugs of collision shapes displaying.</td></tr>
<tr><th width=1%>History</th><td>v1.1.1 (30.08.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Fixed isometric objects displaying (now displaying image is tied to rectangle escribed circum object parallelogram).</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Fixed non-scaled objects displaying.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Tilemap displaying method now supports different tile displaying orders and displays wrapped tilemaps correctly.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Isomeric and orthogonal tilemap displaying methods are merged (note for custom tilemap visualizers).</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added margins to the tile map.</td></tr>
<tr><th width=1%>History</th><td>v1.1 (28.08.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Finished isometric camera implementation.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Implemented isometric shape displaying.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; MoveUsingKeys() method now works correctly with isometric cameras.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added class for tilemap pathfinding and raster frame visualizer.</td></tr>
<tr><th width=1%>History</th><td>v1.0.7 (26.08.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added isometric camera support to marching ants rectangle.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added camera and incbin parametes to the world class.</td></tr>
<tr><th width=1%>History</th><td>v1.0.6 (24.08.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Implemented incbin support.</td></tr>
<tr><th width=1%>History</th><td>v1.0.5 (03.08.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Partially implemented isometric cameras.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added camera saving/loading method.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added pivot mode to sprite maps.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added Flipping flag to the LTProject.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; EmptyTile parameter was moved from LTTIleMap to LTTileSet.</td></tr>
<tr><th width=1%>History</th><td>v1.0.4.1 (01.08.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Removed support for different axis magnification.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added camera field into the LTWorld.</td></tr>
<tr><th width=1%>History</th><td>v1.0.4 (22.07.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added full support of Oval shape type (replaced Circle).</td></tr>
<tr><th width=1%>History</th><td>v1.0.3.1 (19.07.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Removed multiple collision reactions when executing CollisionsWithSpriteMap method.</td></tr>
<tr><th width=1%>History</th><td>v1.0.3 (18.07.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added Parallax() function.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added sprite map clearing method.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Fixed bug in LTDoubleMap.ToNewImage() method.</td></tr>
<tr><th width=1%>History</th><td>v1.0.2.1 (07.07.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Fixed bug of visualizer's DX/DY not saving/loading.</td></tr>
<tr><th width=1%>History</th><td>v1.0.2 (06.07.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; CollisionsWithSpriteMap() method now have Map parameter to add collided sprites to.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added visualizer cloning method.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; ImageVisualizer is merged with Visualizer.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Fixed bug in SetSize (old method cleared collision map).</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Collision maps are renamed to sprite maps.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added sprite maps saving/loading method.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added GetSprites() method.</td></tr>
<tr><th width=1%>History</th><td>v1.0.1.1 (05.07.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; ShowDebugInfo() method is now without parameters.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; MoveUsingKeys() methods are now in LTShape and have velocity parameter.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Max2D drivers import is now inside framework.</td></tr>
<tr><th width=1%>History</th><td>v1.0.1 (04.07.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Added sorting parameter to collision maps.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Border parameter of collision map is turned to 4 margin parameters.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Now setting all collision map margins to one value is possible by using SetBorder() method.</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Visualizer's DX and DY parameters are now image-relative.</td></tr>
<tr><th width=1%>History</th><td>v1.0.0.1 (30.06.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Fixed bug of ChopFilename() function under Mac.</td></tr>
<tr><th width=1%>History</th><td>v1.0 (28.06.11)</td></tr>
<tr><th width=1%>History</th><td>&nbsp; &nbsp; Initial release.</td></tr>
</body></html>
